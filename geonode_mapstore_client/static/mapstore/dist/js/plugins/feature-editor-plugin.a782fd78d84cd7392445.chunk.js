(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[96336,47310,19873],{41156:(e,t,r)=>{"use strict";r.d(t,{fy:()=>n,gd:()=>o,zZ:()=>i,ZR:()=>u});var n="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:n,boxEndInfo:e}}function u(e){return{type:o,status:e}}},604206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>u,IC:()=>a,iU:()=>c,W7:()=>f,uB:()=>l,Rh:()=>s,G_:()=>p,vU:()=>y,Vw:()=>d,KD:()=>v,uj:()=>b,lo:()=>g,Yf:()=>m,fo:()=>O,PY:()=>E,bp:()=>S,oJ:()=>T,k4:()=>w,sc:()=>h,Li:()=>_});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",u="DRAW:GEOMETRY_CHANGED",a="DRAW:DRAW_SUPPORT_STOPPED",c="DRAW:FEATURES_SELECTED",f="DRAW:DRAWING_FEATURES",l="DRAW:SET_SNAPPING_LAYER",s="DRAW:SNAPPING_IS_LOADING",p="DRAW:TOGGLE_SNAPPING",y="DRAW:SET_SNAPPING_CONFIG";function d(e,t,r,n,o){return{type:u,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function v(){return{type:c,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function b(){return{type:f,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function g(){return{type:a}}function m(e,t,r,o,i,u){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:u}}function O(e,t){return{type:o,geometry:e,owner:t}}function E(e){return{type:i,currentStyle:e}}var S=function(e){return m("clean","",e,[],{})};function T(){return{type:p}}function w(e){return{type:l,snappingLayer:e}}function h(){return{type:s}}function _(e,t,r){return{type:y,value:e,prop:t,pluginCfg:r}}},129386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>i,WP:()=>u,_E:()=>a});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function u(e){return{type:i,featuresPath:e}}function a(e,t){return{type:o,features:e,status:t}}},580416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>i,ih:()=>u,OX:()=>c,sb:()=>f,K$:()=>l,k7:()=>s,cX:()=>p,x9:()=>y,vs:()=>d,oE:()=>v,Po:()=>b,qv:()=>g,cI:()=>m,g6:()=>O,I4:()=>E,l$:()=>S,Xv:()=>T,k3:()=>w,CQ:()=>h,R8:()=>_,HN:()=>P,sH:()=>A,c7:()=>R,_7:()=>F,eF:()=>I,O6:()=>D,ED:()=>M,RP:()=>N,sF:()=>L,VP:()=>j,He:()=>G,vO:()=>C,WO:()=>U,bh:()=>x,pV:()=>k,MK:()=>Y,ZF:()=>H,tV:()=>V,Dv:()=>z,Yz:()=>W,kI:()=>B,XG:()=>q,A4:()=>Q,Rp:()=>Z,$o:()=>X,ct:()=>$,oh:()=>K,$h:()=>J,ud:()=>ee,Qr:()=>te,LR:()=>re,nN:()=>ne,UG:()=>oe,F5:()=>ie,c9:()=>ue,Jh:()=>ae,Xy:()=>ce});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",u="TOGGLE_NODE",a="CONTEXT_NODE",c="SORT_NODE",f="REMOVE_NODE",l="UPDATE_NODE",s="MOVE_NODE",p="LAYER_LOADING",y="LAYER_LOAD",d="LAYER_ERROR",v="ADD_LAYER",b="ADD_GROUP",g="REMOVE_LAYER",m="SHOW_SETTINGS",O="HIDE_SETTINGS",E="UPDATE_SETTINGS",S="REFRESH_LAYERS",T="LAYERS:UPDATE_LAYERS_DIMENSION",w="LAYERS_REFRESHED",h="LAYERS_REFRESH_ERROR",_="LAYERS:BROWSE_DATA",P="LAYERS:DOWNLOAD",A="LAYERS:CLEAR_LAYERS",R="LAYERS:SELECT_NODE",F="LAYERS:FILTER_LAYERS",I="LAYERS:SHOW_LAYER_METADATA",D="LAYERS:HIDE_LAYER_METADATA",M="LAYERS:UPDATE_SETTINGS_PARAMS";function N(e,t,r){return{type:m,node:e,nodeType:t,options:r}}function L(){return{type:O}}function j(e){return{type:E,options:e}}function G(e,t){return{type:n,newProperties:t,layer:e}}function C(e,t){return{type:o,layer:e,params:t}}function U(e,t){return{type:i,newProperties:t,group:e}}function x(e,t,r){return{type:u,node:e,nodeType:t,status:!r}}function k(e){return{type:a,node:e}}function Y(e,t){return{type:c,node:e,order:t,sortLayers:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function H(e,t){return{type:f,node:e,nodeType:t,removeEmpty:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function V(e,t,r){return{type:l,node:e,nodeType:t,options:r}}function z(e,t,r){return{type:s,node:e,groupId:t,index:r}}function W(e){return{type:p,layerId:e}}function B(e,t){return{type:y,layerId:e,error:t}}function q(e,t,r){return{type:d,layerId:e,tilesCount:t,tilesErrorCount:r}}function Q(e){return{type:v,layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}function Z(e,t,r){return{type:b,group:e,parent:t,options:r}}function X(e){return{type:g,layerId:e}}function $(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function K(e){return{type:w,layers:e}}function J(e,t){return{type:h,layers:e,error:t}}function ee(e,t,r,n){return{type:T,dimension:e,value:t,options:r,layers:n}}function te(e){return{type:_,layer:e}}function re(e){return{type:P,layer:e}}function ne(){return{type:A}}function oe(e,t,r){return{type:R,id:e,nodeType:t,ctrlKey:r}}function ie(e){return{type:F,text:e}}function ue(e,t){return{type:I,metadataRecord:e,maskLoading:t}}function ae(){return{type:D}}function ce(e,t){return{type:M,newParams:e,update:t}}},801550:(e,t,r)=>{"use strict";r.d(t,{pP:()=>n,TR:()=>o,N7:()=>i,mq:()=>u,uv:()=>a,Qy:()=>c,IL:()=>f,Li:()=>l,OW:()=>s,ZO:()=>p,Um:()=>y,TF:()=>d,Ls:()=>v,Ec:()=>b,Eu:()=>g,JJ:()=>m,nZ:()=>O,YD:()=>E,GI:()=>S,Jb:()=>T,Uh:()=>w,e$:()=>h,eh:()=>_,$j:()=>P,bJ:()=>A,Mk:()=>R,xy:()=>F,o6:()=>I,FP:()=>D,Mo:()=>M,sO:()=>N,Px:()=>L,hd:()=>j,Ju:()=>G,BV:()=>C,SO:()=>U,H0:()=>x,$X:()=>k,ou:()=>Y,NE:()=>H,Lq:()=>V,aN:()=>z});var n="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",a="PAN_TO",c="ZOOM_TO_EXTENT",f="ZOOM_TO_POINT",l="CHANGE_MAP_CRS",s="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",y="CHANGE_ROTATION",d="CREATION_ERROR_LAYER",v="UPDATE_VERSION",b="INIT_MAP",g="RESIZE_MAP",m="CHANGE_MAP_LIMITS",O="SET_MAP_RESOLUTIONS",E="REGISTER_EVENT_LISTENER",S="UNREGISTER_EVENT_LISTENER",T="MOUSE_MOVE",w="MOUSE_OUT",h="MAP:MAP_PLUGIN_LOAD",_="MAP:ORIENTATION",P="MAP:UPDATE_MAP_VIEW",A="MAP:UPDATE_MAP_OPTIONS";function R(e,t,r,n){return{type:h,mapType:t,loading:e,loaded:r,error:n}}function F(e,t,r){return{type:f,pos:e,zoom:t,crs:r}}function I(e,t,r,o,i,u,a,c){return{type:n,center:e,zoom:t,bbox:r,size:o,mapStateSource:i,projection:u,viewerOptions:a,resolution:c}}function D(e,t){return{type:o,point:e,layer:t}}function M(e){return{type:i,pointer:e}}function N(e,t){return{type:u,zoom:e,mapStateSource:t}}function L(e,t,r,n){return{type:c,extent:e,crs:t,maxZoom:r,options:n}}function j(e,t){return{type:p,style:e,mapStateSource:t}}function G(){return{type:g}}function C(e){var t=e.restrictedExtent,r=e.crs,n=e.minZoom;return{type:m,restrictedExtent:t,crs:r,minZoom:n}}function U(e){return{type:O,resolutions:e}}var x=function(e,t){return{type:E,eventName:e,toolName:t}},k=function(e,t){return{type:S,eventName:e,toolName:t}},Y=function(e){return{type:T,position:e}},H=function(){return{type:w}},V=function(e){return{type:_,orientation:e}},z=function(e){return{type:A,configUpdate:e}}},921914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>u,Xw:()=>a,Pn:()=>c,DZ:()=>f,e8:()=>l,E0:()=>s,F9:()=>p,X_:()=>y,pb:()=>d,qb:()=>v,Re:()=>b,ih:()=>g,xy:()=>m,jL:()=>O,oz:()=>E,ph:()=>S,lF:()=>T,gG:()=>w,cb:()=>h,GI:()=>_,B1:()=>P,fv:()=>A,gc:()=>R,zX:()=>F,ZF:()=>I,Zb:()=>D,DW:()=>M,Xp:()=>N,Fm:()=>L,sV:()=>j,Mn:()=>G,LU:()=>C,XP:()=>U,WU:()=>x,JB:()=>k,g:()=>Y,ws:()=>H,HP:()=>V,aN:()=>z,Pg:()=>B,u0:()=>q,TM:()=>Q,PM:()=>Z,lK:()=>X,sv:()=>$,MO:()=>K,oO:()=>J,Mc:()=>ee,Zw:()=>te,RA:()=>re,am:()=>ne,ZM:()=>oe,wm:()=>ie,Y$:()=>ue,Qu:()=>ae,kT:()=>ce});var n=r(647310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",u="EXCEPTIONS_FEATURE_INFO",a="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",f="PURGE_MAPINFO_RESULTS",l="CHANGE_MAPINFO_FORMAT",s="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",y="SHOW_REVERSE_GEOCODE",d="HIDE_REVERSE_GEOCODE",v="GET_VECTOR_INFO",b="NO_QUERYABLE_LAYERS",g="CLEAR_WARNING",m="FEATURE_INFO_CLICK",O="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",E="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",S="TOGGLE_MAPINFO_STATE",T="UPDATE_CENTER_TO_MARKER",w="IDENTIFY:CHANGE_PAGE",h="IDENTIFY:CLOSE_IDENTIFY",_="IDENTIFY:CHANGE_FORMAT",P="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",A="IDENTIFY:EDIT_LAYER_FEATURES",R="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",F="IDENTIFY:SET_MAP_TRIGGER",I="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",D="IDENTIFY:SET_SHOW_IN_MAP_POPUP",M="IDENTIFY:IDENTIFY_IS_MOUNTED",N="IDENTIFY:INIT_PLUGIN";function L(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function j(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function G(e,t,r,n){return{type:u,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function C(){return{type:b}}function U(){return{type:g}}function x(e,t){return{type:c,reqId:e,request:t}}function k(e,t,r,n){return{type:v,layer:e,request:t,metadata:r,queryableLayers:n}}function Y(){return{type:f}}function H(e){return{type:l,infoFormat:e}}function V(){return{type:s}}function z(){return{type:p}}function W(e){return{type:y,reverseGeocodeData:e.data}}function B(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(W(e))})).catch((function(e){t(W(e))}))}}function q(){return{type:d}}function Q(){return{type:S}}function Z(e){return{type:T,status:e}}function X(e,t){return{type:m,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function $(e){return{type:O,point:e}}function K(e){return{type:E,enabled:e}}function J(e){return{type:w,index:e}}var ee=function(){return{type:h}},te=function(e){return{type:_,format:e}},re=function(e){return{type:P,showCoordinateEditor:e}},ne=function(e){return{type:A,layer:e}},oe=function(e){return{type:R,query:e}},ie=function(e){return{type:F,trigger:e}},ue=function(e){return{type:D,value:e}},ae=function(e){return{type:M,isMounted:e}},ce=function(e){return{type:N,cfg:e}}},807878:(e,t,r)=>{"use strict";r.d(t,{E6:()=>u,vo:()=>a,l1:()=>c,J9:()=>f,U:()=>l,z8:()=>s,ql:()=>p,O_:()=>y,M$:()=>d,Ug:()=>v,p5:()=>b,Fz:()=>g,WZ:()=>m,bP:()=>O,On:()=>E,d_:()=>S,xM:()=>T,bl:()=>w,Wi:()=>h,PN:()=>_,_M:()=>P,Wm:()=>A,Eg:()=>R,V1:()=>F,cY:()=>I,RD:()=>D,Hl:()=>M,co:()=>N,uY:()=>L,H8:()=>j,je:()=>G,go:()=>C,_8:()=>U,xd:()=>x,o7:()=>k,Nr:()=>Y,Gf:()=>H,nh:()=>V,Rf:()=>z,Xp:()=>W,D6:()=>B,Sm:()=>q,Ef:()=>Q,qu:()=>Z,LY:()=>X,jW:()=>$,kQ:()=>K,JG:()=>J,js:()=>ee,q$:()=>te,OZ:()=>re,Nc:()=>ne,NV:()=>oe,I5:()=>ie,QL:()=>ue,I:()=>ae,ku:()=>ce,EU:()=>fe,IV:()=>le,HT:()=>se,lg:()=>pe,ds:()=>ye,VF:()=>de,DD:()=>ve,uo:()=>be,Ry:()=>ge,ZH:()=>me,AQ:()=>Oe,yC:()=>Ee,F:()=>Se,mc:()=>Te,uM:()=>he,eJ:()=>_e,uP:()=>Pe,N5:()=>Ae,bn:()=>Re,Bm:()=>Fe,F2:()=>Ie,jR:()=>De,$J:()=>Me,ln:()=>Ne});var n=r(375875),o=r.n(n);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var u="ADD_FILTER_FIELD",a="REMOVE_FILTER_FIELD",c="UPDATE_FILTER_FIELD",f="UPDATE_EXCEPTION_FIELD",l="ADD_GROUP_FIELD",s="UPDATE_LOGIC_COMBO",p="REMOVE_GROUP_FIELD",y="CHANGE_CASCADING_VALUE",d="EXPAND_ATTRIBUTE_PANEL",v="EXPAND_SPATIAL_PANEL",b="QUERYFORM:EXPAND_CROSS_LAYER",g="QUERYFORM:SET_CROSS_LAYER_PARAMETER",m="QUERYFORM:RESET_CROSS_LAYER_FILTER",O="SELECT_SPATIAL_METHOD",E="SELECT_VIEWPORT_SPATIAL_METHOD",S="UPDATE_GEOMETRY",T="SELECT_SPATIAL_OPERATION",w="CHANGE_SPATIAL_ATTRIBUTE",h="CHANGE_SPATIAL_FILTER_VALUE",_="REMOVE_SPATIAL_SELECT",P="SHOW_SPATIAL_DETAILS",A="QUERY_FORM_SEARCH",R="QUERY_FORM_RESET",F="SHOW_GENERATED_FILTER",I="CHANGE_DWITHIN_VALUE",D="ZONE_SEARCH",M="ZONE_SEARCH_ERROR",N="ZONE_FILTER",L="ZONE_CHANGE",j="ZONES_RESET",G="SIMPLE_FILTER_FIELD_UPDATE",C="ADD_SIMPLE_FILTER_FIELD",U="REMOVE_SIMPLE_FILTER_FIELD",x="REMOVE_ALL_SIMPLE_FILTER_FIELDS",k="UPDATE_FILTER_FIELD_OPTIONS",Y="LOADING_FILTER_FIELD_OPTIONS",H="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",V="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",z="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",W="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD_OPTIONS",B="SET_AUTOCOMPLETE_MODE",q="TOGGLE_AUTOCOMPLETE_MENU",Q="QUERYFORM:LOAD_FILTER",Z="QUERYFORM:UPSERT_FILTERS",X="QUERYFORM:REMOVE_FILTERS";function $(e){return{type:u,groupId:e}}function K(e,t){return{type:l,groupId:e,index:t}}function J(e){return{type:a,rowId:e}}function ee(e,t){return{type:q,rowId:e,status:t,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function te(e,t,r,n){return{type:c,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function re(e,t){return{type:f,rowId:e,exceptionMessage:t}}function ne(e,t){return{type:s,groupId:e,logic:t}}function oe(e){return{type:B,status:e}}function ie(e){return{type:p,groupId:e}}function ue(e){return{type:y,attributes:e}}function ae(e){return{type:d,expand:e}}function ce(e){return{type:v,expand:e}}function fe(e){return{type:b,expand:e}}function le(e,t){return{type:g,key:e,value:t}}function se(e,t){return{type:O,fieldName:t,method:e}}function pe(){return{type:E}}function ye(e){return{type:S,geometry:e}}function de(e,t){return{type:T,fieldName:t,operation:e}}function ve(e){return{type:w,attribute:e}}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feature,r=e.srsName,n=e.collectGeometries,o=e.style,i=e.options,u=e.value;return{type:h,value:u,collectGeometries:n,options:i,geometry:t&&t.geometry,feature:t,srsName:r,style:o}}function ge(){return{type:_}}function me(e){return{type:P,show:e}}function Oe(e){return{type:I,distance:e}}function Ee(e,t){return{type:A,searchUrl:e,filterObj:t}}function Se(e){return{type:Q,filter:e}}function Te(e){return{type:R,skip:e}}function we(e,t){return{type:M,error:e,id:t}}function he(e,t){return{type:D,active:e,id:t}}function _e(e,t,r){return function(n){return o().post(e,t,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"text/plain"}}).then((function(o){var u=o.data;if("object"!==i(u))try{u=JSON.parse(u)}catch(o){n(we("Search result broken ("+e+":   "+t+"): "+o.message,r))}n(function(e,t){return{type:N,data:e,id:t}}(u,r)),n(he(!1,r))})).catch((function(e){n(we(e,r))}))}}function Pe(e,t){return{type:L,id:e,value:t}}function Ae(e){return{type:H,rowId:(new Date).getTime(),groupId:e}}function Re(e,t,r,n){return{type:V,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function Fe(e){return{type:z,rowId:e}}function Ie(){return{type:m}}function De(e,t){return{type:Y,status:e,filterField:t,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function Me(e,t,r){return{type:k,filterField:e,options:t,valuesCount:r}}function Ne(e,t,r){return{type:W,filterField:e,options:t,valuesCount:r}}},95797:(e,t,r)=>{"use strict";r.d(t,{DR:()=>n,S0:()=>o,u7:()=>i,lj:()=>u,yz:()=>a,lN:()=>c,zW:()=>f,Yx:()=>l,VN:()=>s,Hu:()=>p,VT:()=>y,RD:()=>d,Qq:()=>v,R1:()=>b,_T:()=>g,vO:()=>m,XO:()=>O,jG:()=>E,Xc:()=>S,gT:()=>T,rG:()=>w,t3:()=>h,Fs:()=>_,w_:()=>P,Lm:()=>A,rh:()=>R,rP:()=>F,IO:()=>I}),r(375875);var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",a="FEATURE_LOADING",c="FEATURE_TYPE_ERROR",f="FEATURE_ERROR",l="QUERY_CREATE",s="QUERY:UPDATE_QUERY",p="QUERY_RESULT",y="QUERY_ERROR",d="RESET_QUERY",v="QUERY",b="INIT_QUERY_PANEL",g="QUERY:TOGGLE_SYNC_WMS",m="QUERY:TOGGLE_LAYER_FILTER";function O(){return{type:g}}function E(){return{type:m}}function S(){return{type:b}}function T(e,t){return{type:o,url:e,typeName:t}}function w(e,t){return{type:i,typeName:e,featureType:t}}function h(e,t){return{type:c,typeName:e,error:t}}function _(e){return{type:a,isLoading:e}}function P(e,t,r,n,o){return{type:p,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function A(e){return{type:y,error:e}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.updates,r=e.reason,n=e.useLayerFilter;return{type:s,updates:t,reason:r,useLayerFilter:n}}function F(e,t){return{type:l,searchUrl:e,filterObj:t}}function I(e,t,r,n){return{type:v,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}},647310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(375875),o=r.n(n),i=r(472500),u=r.n(i),a=r(737295),c=r.n(a),f={format:"json",bounded:0,polygon_geojson:1,priority:5};const l={geocode:function(e,t){var r=c()({q:e},f,t||{}),n=u().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=c()({lat:e.lat,lon:e.lng},t||{},f),n=u().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},532425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(675263),o=r.n(n),i=r(124852),u=r.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,i=e.hidden;return u().createElement("div",{className:o,style:f({width:t,height:t,overflow:"hidden"},n)},!i&&u().createElement("div",{className:"mapstore-".concat(s(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const y=p},218291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(124852),o=r.n(n);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}const u=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallback,r=void 0===t?null:t;return function(t){return(0,n.forwardRef)((function(u,a){return void 0===e||e(u)?o().createElement(n.Suspense,{fallback:r},o().createElement(t,i({ref:a},u))):null}))}}},388962:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Zt});var n={};r.r(n),r.d(n,{activateBoxSelectionTool:()=>Ie,activateGeometryFilter:()=>Ge,activateTemporaryChangesEpic:()=>Ne,askChangesConfirmOnFeatureGridClose:()=>tt,autoCloseFeatureGridEpicOnDrowerOpen:()=>et,autoReopenFeatureGridOnFeatureInfoClose:()=>it,closeFeatureGridOnDrawingToolOpen:()=>Be,closeIdentifyWhenOpenFeatureGrid:()=>ft,closeRightPanelOnFeatureGridOpen:()=>We,deactivateBoxSelectionTool:()=>De,deactivateGeometryFilter:()=>je,deactivateSyncWmsFilterOnFeatureGridClose:()=>pt,deactivateViewportFilterEpic:()=>Tt,deleteGeometryFeature:()=>Qe,deleteSelectedFeatureGridFeatures:()=>Ye,disableMultiSelect:()=>Ae,enableGeometryFilterOnEditMode:()=>Pe,featureGridBrowseData:()=>Oe,featureGridChangePage:()=>Ce,featureGridLayerSelectionInitialization:()=>Ee,featureGridReloadPageOnSaveSuccess:()=>Ue,featureGridSort:()=>Te,featureGridStartupQuery:()=>Se,featureGridUpdateGeometryFilter:()=>we,featureGridUpdateTextFilters:()=>_e,handleBoxSelectionDrawEnd:()=>Fe,handleClickOnMap:()=>Re,handleDrawFeature:()=>Ve,handleEditFeature:()=>He,handleGeometryFilterActivation:()=>Le,hideDrawerOnFeatureGridOpenMobile:()=>gt,hideFeatureGridOnDrawerOpenMobile:()=>bt,launchUpdateFilterEpic:()=>he,onClearChangeConfirmedFeatureGrid:()=>rt,onCloseFeatureGridConfirmed:()=>nt,onFeatureGridCreateNewFeature:()=>Xe,onFeatureGridGeometryEditing:()=>qe,onFeatureGridZoomAll:()=>at,onOpenAdvancedSearch:()=>ut,removeWmsFilterOnGridClose:()=>ot,replayOnTimeDimensionChange:()=>vt,resetControlsOnEnterInEditMode:()=>ct,resetEditingOnFeatureGridClose:()=>ze,resetGridOnLocationChange:()=>Ke,resetQueryPanel:()=>Je,resetSnappingLayerOnFeatureGridClosed:()=>Ot,resetViewportFilter:()=>wt,savePendingFeatureGridChanges:()=>ke,selectFeaturesOnMapClickResult:()=>Me,setDefaultSnappingLayerOnFeatureGridOpen:()=>mt,setHighlightFeaturesPath:()=>$e,setViewportFilterEpic:()=>St,startSyncWmsFilter:()=>lt,stopSyncWmsFilter:()=>st,syncMapWmsFilter:()=>yt,toggleSnappingOffOnFeatureGridViewMode:()=>Et,triggerDrawSupportOnSelectionChange:()=>Ze,updateSelectedOnSaveOrCloseFeatureGrid:()=>xe,virtualScrollLoadFeatures:()=>dt});var o=r(124852),i=r.n(o),u=r(171703),a=r(22222),c=r(322843),f=r(49977),l=r.n(f),s=r(227361),p=r.n(s),y=r(91175),d=r.n(y),v=r(441609),b=r.n(v),g=r(313311),m=r.n(g),O=r(984596),E=r.n(O),S=r(264721),T=r.n(S),w=r(354061),h=r.n(w),_=r(275982),P=r(375875),A=r.n(P),R=r(813292),F=r.n(R),I=r(834387),D=r(196958),M=r(737295),N=r.n(M),L=r(604206),j=r(750937),G=r.n(j),C=r(378889),U=r(921914),x=r(95797),k=r(807878),Y=r(801550),H=r(41156),V=r(800827),z=r(580416),W=r(433528),B=r(782904),q=r(607147),Q=r(129386),Z=r(731255),X=r(197395),$=r(824260),K=r(510284),J=r(469842),ee=r(120096),te=r(86686),re=r(719824),ne=r(552259),oe=r(55105),ie=r(998869),ue=r(93152),ae=r(898631);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function fe(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.page,n=t.size,o=(0,Z.Vf)(e),i=void 0!==n?n:o.size;return{startIndex:void 0!==r?r*i:o.page*i,maxFeatures:i}},ve=function(e,t){return pe(pe({},e),{},{pagination:t})},be=function(e,t){return l().Observable.defer((function(){return A().post(e,t,{headers:{"Content-Type":"application/xml"}})})).let(K.oB)},ge=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).featuregrid;return(0,z.He)(e.selectedLayer,{filterObj:void 0})},me=function(e){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.update,o=void 0===n?{}:n,i=r.append,u=(0,Z.Li)(e.getState()).id,a=pe({},p()(e.getState(),'featuregrid.advancedFilters["'.concat(u,'"]')));if(a){var c=(0,Z.M0)(e.getState())||{},f=h()(c,(function(e,t,r){return(0,D.dJ)(pe({attribute:r},t),e)}),{}),l="AND";f.spatialField&&(a.spatialField=void 0,l=f.spatialFieldOperator);var s=(0,te.composeAttributeFilters)([a,f],"AND",l),y=pe(pe({},a),s);return(0,x.rh)({updates:y,reason:null==o?void 0:o.type})}var d=o;return i&&null!=o&&o.attribute&&(d=(0,Z.M0)(e.getState())[null==o?void 0:o.attribute]),(0,x.rh)({updates:(0,D.dJ)(d,(0,$.X1)(e.getState())),reason:null===(t=d)||void 0===t?void 0:t.type})}},Oe=function(e,t){return e.ofType(z.R8).switchMap((function(r){var n,o=r.layer,i=p()(t.getState(),"query.typeName");return(n=l().Observable).of.apply(n,fe(i!==o.name?[(0,k.mc)()]:[]).concat([(0,B.Xg)("drawer","enabled",!1),(0,W.uF)(o.id),(0,W.t9)()])).merge(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.url,o=r.name,i=r.id,u=p()(t.getState(),'featuregrid.advancedFilters["'.concat(i,'"]'));return l().Observable.of((0,x.gT)(n,o)).merge(e.ofType(x.u7).filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).typeName===o})).map((function(){return(0,x.rP)(n,u||{featureTypeName:o,filterType:"OGC",ogcVersion:"1.1.0"})})))}(e,t,o))}))},Ee=function(e){return e.ofType(x.DR).switchMap((function(e){return l().Observable.of((0,W.uF)(e.id))}))},Se=function(e,t){return e.ofType(x.Yx).switchMap((function(){return l().Observable.of((0,W.oO)(0)).concat((0,Z.eK)(t.getState())===W.EH.VIEW?l().Observable.of((0,W.nY)()):l().Observable.empty())}))},Te=function(e,t){return e.ofType(W.dY).switchMap((function(r){var n=r.sortBy,o=r.sortOrder;return l().Observable.of((0,x.IO)((0,$.Bu)(t.getState()),ve(pe(pe({},(0,$.X1)(t.getState())),{},{sortOptions:{sortBy:n,sortOrder:o}}),de(t.getState())),(0,Z.TC)(t.getState()))).merge(e.ofType(x.Hu).map((function(e){return(0,W.UB)(p()(e,"result.features",[]),[p()(e,"filterObj.pagination.startIndex")])})).takeUntil(e.ofType(x.VT)).take(1))}))},we=function(e,t){return e.ofType(W.$O).switchMap((function(){var r,n=null===(r=(0,Z.Vf)(t.getState()))||void 0===r?void 0:r.size;return e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.value})).switchMap((function(){var r=!1;return e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.deactivated})).switchMap((function(e,n){return 0===n?(r=!0,l().Observable.from([(0,W.Jr)(1e5),(0,W.KD)([]),me(t)(e)])):l().Observable.of(me(t)(e))})).takeUntil(l().Observable.merge(e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(W.sF,_.nk))).merge(e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).take(1).switchMap((function(e){return r?l().Observable.of((0,W.Jr)(n),me(t)(e)):l().Observable.of(me(t)(e))})).takeUntil(e.ofType(W.sF,_.nk))).merge(e.ofType(W.sF,_.nk).take(1).switchMap((function(){var e,o=(0,W.a8)({attribute:null===(e=(0,C.findGeometryProperty)((0,$.Qs)(t.getState())))||void 0===e?void 0:e.name,enabled:!1,type:"geometry"});return r?l().Observable.of((0,W.Jr)(n),o,(0,W.pP)(o)):l().Observable.of(o,(0,W.pP)(o))})))}))}))},he=function(e,t){return e.ofType(W.iB).switchMap((function(e){return l().Observable.of(me(t)(e.updateFilterAction))}))},_e=function(e,t){return e.ofType(x.Yx).switchMap((function(){return e.ofType(W._u).filter((function(e){var t=e.update;return"geometry"!==(void 0===t?{}:t).type})).map(me(t))}))},Pe=function(e,t){return e.ofType(W.aO).filter((function(){return(0,Z.eK)(t.getState())===W.EH.EDIT})).switchMap((function(){return(m()((0,Z.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{}).value?l().Observable.empty():l().Observable.of((0,W.a8)({attribute:(0,C.findGeometryProperty)((0,$.Qs)(t.getState())).name,enabled:!0,type:"geometry"}))}))},Ae=function(e){return e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).switchMap((function(){return l().Observable.of((0,W.dq)({multiselect:!1}))}))},Re=function(e,t){return e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(Y.TR).switchMap((function(e){var r,n=e.point,o=n.latlng,i=n.pixel,u=n.modifiers,a=u.ctrl,c=u.metaKey,f=m()((0,Z.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},s=(0,V.uy)(t.getState()),y=re.default.reproject([o.lng,o.lat],"EPSG:4326",s),d=ne.default.getHook(ne.default.GET_COORDINATES_FROM_PIXEL_HOOK),v=re.default.calculateCircleRadiusFromPixel(d,i,y,4);return f.deactivated?l().Observable.empty():l().Observable.of((0,W.dq)({multiselect:null!==(r=a||c)&&void 0!==r&&r}),(0,W.a8)(pe(pe({},f),{},{value:{attribute:f.attribute||p()((0,J.vE)(t.getState()),"attribute"),geometry:{center:[y.x,y.y],coordinates:re.default.calculateCircleCoordinates(y,v,12),extent:[y.x-v,y.y-v,y.x+v,y.y+v],projection:s,radius:v,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}}),a||c))})).takeUntil(l().Observable.merge(e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(_.nk)))}))},Fe=function(e,t){return e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(H.fy).switchMap((function(e){var r,n=e.boxEndInfo,o=n.boxExtent,i=n.modifiers,u=i.ctrl,a=i.metaKey,c=re.default.getPolygonFromExtent(o),f=(0,V.uy)(t.getState()),s=m()((0,Z.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return s.deactivated?l().Observable.empty():l().Observable.of((0,W.dq)({multiselect:null!==(r=u||a)&&void 0!==r&&r}),(0,W.a8)(pe(pe({},s),{},{value:{geometry:pe(pe({},c.geometry),{},{projection:f}),attribute:s.attribute||p()((0,J.vE)(t.getState()),"attribute"),method:"Rectangle",operation:"INTERSECTS"}}),u||a))})).takeUntil(l().Observable.merge(e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled}))))}))},Ie=function(e){return e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return l().Observable.of((0,H.ZR)("start"))}))},De=function(e){return l().Observable.merge(e.ofType(W._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(W.sF)).switchMap((function(){return l().Observable.of((0,H.ZR)("end"))}))},Me=function(e,t){return e.ofType(x.Hu).filter((function(e){return"geometry"===e.reason})).switchMap((function(e){var r=e.result,n=p()(r,"features"),o=(0,Z.gz)(t.getState()),i=m()((0,Z.M0)(t.getState()),(function(e){return"geometry"===e.type}));return l().Observable.of((0,W.KD)(n.length>0&&i&&i.value?fe(n):[],o))}))},Ne=function(e){return e.ofType(W.VV).flatMap((function(e){var t=e.activated;return l().Observable.of((0,W.YG)(t),(0,W.VH)(t))}))},Le=function(e,t){return e.ofType(W._9).flatMap((function(){var e=m()((0,Z.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,Z.LB)(t.getState()),n=(0,Z.b4)(t.getState());return l().Observable.of((0,W.a8)(pe(pe({},e),{},{type:"geometry",attribute:e.attribute||p()((0,J.vE)(t.getState()),"attribute"),deactivated:!(!r&&!n&&e.deactivated)})))}))},je=function(e,t){return l().Observable.merge(e.ofType(W.IN,L.DI,W.JB,W.K8),e.ofType(W.B8).filter((function(e){return!!e.deactivated}))).flatMap((function(){var e=m()((0,Z.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return e.deactivated?l().Observable.empty():l().Observable.of((0,W.a8)(pe(pe({},e),{},{type:"geometry",attribute:e.attribute||p()((0,J.vE)(t.getState()),"attribute"),deactivated:!0})))}))},Ge=function(e,t){return l().Observable.merge(e.ofType(W.AY,W.yi),e.ofType(W.B8).filter((function(e){return!e.deactivated}))).flatMap((function(){var e=m()((0,Z.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,Z.LB)(t.getState()),n=(0,Z.b4)(t.getState());return!e.deactivated||r||n?l().Observable.empty():l().Observable.of((0,W.a8)(pe(pe({},e),{},{type:"geometry",attribute:e.attribute||p()((0,J.vE)(t.getState()),"attribute"),deactivated:!1})))}))},Ce=function(e,t){return e.ofType(W.gG).merge(e.ofType(x.VN).debounceTime(500).map((function(e){return pe(pe({},e),{},{page:0})}))).switchMap((function(r){return function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,n=t.size,o=t.reason,i=e.getState();return l().Observable.of((0,x.IO)((0,$.Bu)(i),ve(pe(pe({},(0,$.X1)(i)),(0,Z.zc)(i)),de(i,{page:r,size:n})),(0,Z.TC)(i),o))}}(t)(r).merge(e.ofType(x.Hu).map((function(e){var r=p()(e,"result.features",[]),n=(0,Z.gz)(t.getState()),o=m()((0,Z.M0)(t.getState()),(function(e){return"geometry"===e.type}));return n&&null!=o&&o.enabled&&(r=(0,Z._w)(t.getState())),(0,W.UB)(r,[p()(e,"filterObj.pagination.startIndex")])})).take(1).takeUntil(e.ofType(x.VT)))}))},Ue=function(e,t){return e.ofType(W.AY).switchMap((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.page,o=r.size;return l().Observable.of((0,x.IO)((0,$.Bu)(t.getState()),ve(pe({},(0,$.X1)(t.getState())),de(t.getState(),{page:n,size:o})),(0,Z.TC)(t.getState())),(0,z.ct)((0,Z.u$)(t.getState()))).merge(e.ofType(x.Hu).map((function(e){return l().Observable.of((0,W.$E)(),(0,W.UB)(p()(e,"result.features",[]),[p()(e,"filterObj.pagination.startIndex")]))})).mergeAll().takeUntil(e.ofType(x.VT)).take(2))}))},xe=function(e){return e.ofType(W.AY,W.sF).switchMap((function(){return l().Observable.of((0,W.KD)([]))}))},ke=function(e,t){return e.ofType(W.zh).switchMap((function(){return l().Observable.of((0,W.fO)()).concat(function(){var e,t,r,n,o,i,u,a=arguments.length>2?arguments[2]:void 0;return be(arguments.length>3?arguments[3]:void 0,(e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=G()(a),n=r.insert,o=r.update,i=r.propertyChange,u=r.getPropertyName,(0,r.transaction)(t.map((function(e){return n(e)})),Object.keys(e).map((function(t){return Object.keys(e[t]).map((function(r){return o([i(u(r),e[t][r]),(0,I.fidFilter)("ogc",t)])}))})))))}((0,Z.ND)(t.getState()),(0,Z.kG)(t.getState()),(0,$.Qs)(t.getState()),(0,$.Bu)(t.getState())).map((function(){return(0,W.gc)()})).catch((function(e){return l().Observable.of((0,W.cE)(),(0,X.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError",autoDismiss:5}))})))}))},Ye=function(e,t){return e.ofType(W.Hk).switchMap((function(){return l().Observable.of((0,W.fO)()).concat((e=(0,Z._w)(t.getState()),r=(0,$.Qs)(t.getState()),n=(0,$.Bu)(t.getState()),be(n,function(e,t){var r=t.transaction,n=t.deleteFeature;return r(e.map(n))}(e,G()(r)))).map((function(){return(0,W.gc)()})).catch((function(e){return l().Observable.of((0,W.cE)(),(0,X.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError"}))})).concat(l().Observable.of((0,W.Pv)("deleteConfirm"),(0,W.MO)())));var e,r,n}))},He=function(e,t){return e.ofType(W.Ub).switchMap((function(){var e=t.getState(),r=(0,$.Qs)(e),n=(0,D.cZ)(),o=(0,C.findGeometryProperty)(r).localType,i={featureProjection:n,stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},u=N()({},(0,Z.P3)(e),{type:"Feature"}),a=(0,Z.ND)(e);return a[u.id]&&a[u.id]&&a[u.id].geometry&&(u.geometry=a[u.id].geometry),l().Observable.of((0,L.Yf)("drawOrEdit",o,"featureGrid",[u],i))}))},Ve=function(e,t){return e.ofType(W._9).switchMap((function(){var e=t.getState(),r=(0,$.Qs)(e),n=(0,D.cZ)(),o=(0,C.findGeometryProperty)(r).localType,i=N()({},(0,Z.P3)(e),{type:"Feature"}),u=(0,Z.ND)(e);u[i.id]&&(u[i.id].geometry||null===u[i.id].geometry)&&(i.geometry=u[i.id].geometry),i._new&&(i.geometry=d()((0,Z.kG)(e)).geometry);var a={featureProjection:n,stopAfterDrawing:!0,editEnabled:!(0,Z.Ae)(e),drawEnabled:(0,Z.Ae)(e)};return l().Observable.of((0,L.Yf)("drawOrEdit",o,"featureGrid",[i],a))}))},ze=function(e,t){return e.ofType(W.$O).switchMap((function(){return e.ofType(W.aO).filter((function(){return(0,Z.eK)(t.getState())===W.EH.EDIT})).take(1).switchMap((function(){return e.ofType(_.nk,W.sF).take(1).switchMap((function(){return l().Observable.of((0,L.bp)())}))}))}))},We=function(e,t){return e.ofType(W.$O).switchMap((function(){var e=[],r=t.getState();return(0,oe.Ju)(r).right.forEach((function(t){(0,q.Yq)(t)(r)&&e.push((0,B.Xg)(t,"enabled",!1))})),l().Observable.from(e)}))},Be=function(e,t){return(0,ie.U)(e,t,"featureGrid",(function(){return l().Observable.from([(0,W.YV)()])}),(function(e){return(0,Z.Rd)(e)}))},qe=function(e,t){return e.ofType(L.DI).filter((function(e){return"featureGrid"===e.owner})).delay(500).switchMap((function(e){var r=t.getState(),n={featureProjection:(0,D.cZ)(),stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},o=e.features.map((function(e,t){return N()({},e,{id:(0,Z._w)(r)[t].id,_new:(0,Z._w)(r)[t]._new,type:"Feature"})})),i=N()({},d()(e.features),{id:(0,Z.P3)(r).id,_new:(0,Z.P3)(r)._new,type:"Feature"}),u="enterEditMode"===e.enableEdit?l().Observable.of((0,L.Yf)("drawOrEdit",i.geometry.type,"featureGrid",o,n)):l().Observable.empty();return l().Observable.of((0,W.Vw)(o)).concat(u)}))},Qe=function(e,t){return e.ofType(W.JB).switchMap((function(){var e=t.getState();return l().Observable.from([(0,W.F5)((0,Z._w)(e)),(0,L.bp)()])}))},Ze=function(e,t){return e.ofType(W.Oj,W.jp,W.yi,W.aO).filter((function(){return(0,Z.eK)(t.getState())===W.EH.EDIT&&(0,Z.bq)(t.getState())})).switchMap((function(e){return r=t.getState(),n=e.type===W.yi,o=(0,D.cZ)(),i=(0,C.findGeometryProperty)((0,$.Qs)(r)).localType,u={featureProjection:o,stopAfterDrawing:ne.default.isSimpleGeomType(i),editEnabled:!0,drawEnabled:!1},(a=(0,Z._w)(r).map((function(e){var t=N()({},e,{type:"Feature"});if(!b()(t)){var o=(0,Z.ND)(r);if(o[t.id]&&(o[t.id].geometry||null===o[t.id].geometry)&&(t.geometry=o[t.id].geometry),t._new&&!t.geometry){var i=m()((0,Z.kG)(r),{id:t.id});i&&i.geometry&&(t.geometry=i.geometry)}n&&(t.geometry=(0,$.dc)(r,t.id)?(0,$.dc)(r,t.id).geometry:null)}return t})).filter((function(e){return null!==e.geometry||"empty_row"!==e.id}))).length>0?l().Observable.from([(0,L.Yf)("drawOrEdit",i,"featureGrid",a,u)]):l().Observable.from([(0,L.Yf)("clean","","featureGrid",[],{})]);var r,n,o,i,u,a}))},Xe=function(e){return e.ofType(W.IN).switchMap((function(){return l().Observable.of((0,L.bp)())}))},$e=function(e,t){return e.ofType(W.aO).switchMap((function(e){return e.mode===W.EH.VIEW?l().Observable.of((0,L.bp)(),(0,Q.WP)("featuregrid.select")):e.mode!==W.EH.EDIT||(0,Z.bq)(t.getState())?l().Observable.of((0,Q.WP)()):l().Observable.of((0,L.bp)(),(0,Q.WP)("featuregrid.select"),(0,X.Kp)({title:"featuregrid.notSupportedGeometryTitle",message:"featuregrid.notSupportedGeometry",uid:"notSupportedGeometryWarning",autoDismiss:5}))}))},Ke=function(e){return e.ofType(W.$O).switchMap((function(){return e.ofType(_.nk).take(1).switchMap((function(){return l().Observable.of((0,W.nY)(),(0,W.YV)())})).takeUntil(e.ofType(W.sF))}))},Je=function(e,t){return e.ofType(_.nk).switchMap((function(){return(0,q._d)(t.getState())?l().Observable.of((0,B.Xg)("queryPanel","enabled",!1)):l().Observable.empty()}))},et=function(e,t){return e.ofType(W.$O).switchMap((function(){return e.ofType(B.kM).filter((function(e){return e.control&&"drawer"===e.control&&(0,Z.Rd)(t.getState())})).switchMap((function(){return l().Observable.of((0,W.YV)(),(0,W.KD)([]))})).takeUntil(e.ofType(_.nk))}))},tt=function(e,t){return e.ofType(W.bZ).switchMap((function(){var e=t.getState();return(0,Z.LB)(e)||(0,Z.b4)(e)?l().Observable.of((0,W.Pv)("featureCloseConfirm",!0)):l().Observable.of((0,W.YV)())}))},rt=function(e){return e.ofType(W.Gk).switchMap((function(){return l().Observable.of((0,W.$E)(),(0,W.Pv)("clearConfirm",!1))}))},nt=function(e){return e.ofType(W.vO).switchMap((function(){return l().Observable.of((0,B.Xg)("drawer","enabled",!1),(0,W.Pv)("featureCloseConfirm",!1))}))},ot=function(e,t){return e.ofType(W.$O).exhaustMap((function(){return e.ofType(W.sF).delay(50).filter((function(){return(0,$.M7)(t.getState())})).switchMap((function(){return l().Observable.of(ge(t.getState()))})).takeUntil(e.ofType(_.nk,U.xy,W.VM))}))},it=function(e){return e.ofType(W.$O).switchMap((function(){return l().Observable.race(e.ofType(U.xy).take(1),e.ofType(W.sF).take(1)).exhaustMap((function(t){return t.type===W.sF?l().Observable.empty():e.ofType(U.F9).switchMap((function(){return l().Observable.of((0,W.t9)())}))})).takeUntil(e.ofType(_.nk,B.kM).filter((function(e){return e.type===_.nk||e.control&&"drawer"===e.control})).merge(e.ofType(W.sF).withLatestFrom(e.ofType(U.xy,U.F9).scan((function(e,t){switch(t.type){case U.xy:return!1;case U.F9:return!0;default:return!1}}),!0).startWith(!0),(function(e,t){return t})).filter((function(e){return e}))))}))},ut=function(e,t){return e.ofType(W.VM).switchMap((function(){return l().Observable.of((0,W.KD)([]),(0,k.F)(p()(t.getState(),'featuregrid.advancedFilters["'.concat((0,Z.u$)(t.getState()),'"]'))),(0,W.YV)(),(0,B.Xg)("queryPanel","enabled",!0)).merge(l().Observable.race(e.ofType(k.Wm).mergeMap((function(e){return l().Observable.of((0,x.rP)(e.searchUrl,e.filterObj),(0,W.Uh)(N()({},(0,J.gC)(t.getState()),e.filterObj)),(0,B.Xg)("queryPanel","enabled",!1),(0,W.t9)())})),e.ofType(B.kM).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"queryPanel"===t&&(!r||"enabled"===r)})).mergeMap((function(){var e="clean"!==(t.getState().draw||{}).drawStatus?[(0,L.Yf)("clean","","featureGrid",[],{})]:[];return l().Observable.from(e.concat((0,W.t9)()))}))).takeUntil(e.ofType(W.$O,_.nk)))}))},at=function(e,t){return e.ofType(W.a3).filter((function(){return!p()(t.getState(),"featuregird.virtualScroll",!1)})).switchMap((function(){return l().Observable.of((0,Y.Px)(F()((0,$.F0)(t.getState())),"EPSG:4326"))}))},ct=function(e){return e.ofType(W.aO).filter((function(e){return e.mode===W.EH.EDIT})).map((function(){return(0,B.fV)(["query"])}))},ft=function(e){return e.ofType(W.$O).switchMap((function(){return l().Observable.of((0,U.Mc)())}))},lt=function(e,t){return e.ofType(x._T).filter((function(){return(0,$.M7)(t.getState())})).mapTo((0,W.hB)())},st=function(e,t){return e.ofType(x._T).filter((function(){return!(0,$.M7)(t.getState())})).switchMap((function(){return l().Observable.from([ge(t.getState()),{type:W.Hg}])}))},pt=function(e,t){return e.ofType(W.sF).filter((function(){return(0,$.M7)(t.getState())})).switchMap((function(){return l().Observable.of((0,x.XO)())}))},yt=function(e,t){return e.ofType(x.Yx,x.VN).filter((function(e){var r=t.getState().featuregrid.disableQuickFilterSync;return e.type===x.Yx||!r})).switchMap((function(){var r=t.getState(),n=r.query,o=(r.featuregrid||{}).selectedLayer,i=(n||{}).filterObj;return l().Observable.merge(l().Observable.of((0,$.M7)(t.getState())).filter((function(e){return e})),e.ofType(W.Yd)).mergeMap((function(){return l().Observable.of(function(e,t){return(0,z.He)(e,{filterObj:t})}(o,i))}))}))},dt=function(e,t){var r=t.getState;return e.ofType(W.ye).filter((function(){return!(0,$.gy)(r())})).switchMap((function(t){var n=r(),o=t.pages,i=o.startPage,u=o.endPage,a=n.featuregrid,c=a.pages,f=a.pagination,s=p()(f,"size"),y=(0,D.gP)(i,u,c,s),d=y[1]-y[0]+1;return l().Observable.of((0,x.IO)((0,$.Bu)(n),ve(pe({},(0,$.X1)(n)),{startIndex:y[0]*s,maxFeatures:d*s}),(0,Z.TC)(n))).filter((function(){return y.length>0})).merge(e.ofType(x.Hu).filter((function(){return y.length>0})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result,n=void 0===t?{}:t,o=e.filterObj,a=r().featuregrid,f=a.features,l=a.maxStoredPages,y=p()(o,"pagination.startIndex"),d=(0,D.f1)(n,{endPage:u,startPage:i},{pages:c,features:f||[]},{size:s,startIndex:y,maxStoredPages:l}),v=d.pages,b=d.features;return(0,W.UB)(b,v)})).take(1).takeUntil(e.ofType(x.VT))).merge(e.ofType(x.yz).filter((function(){return y.length>0})).filter((function(e){return!e.isLoading})).withLatestFrom(e.ofType(W.ye)).map((function(e){return e[1]})).take(1).takeUntil(e.ofType(x.VT)))}))},vt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===t?function(){}:t;return e.ofType(z.Zz).filter((function(e){var t=e.layer,n=void 0===t?[]:t,o=e.params,i=void 0===o?{}:o;return T()(E()(n),(0,Z.u$)(r()))&&T()(Object.keys(i),"time")&&(0,Z.DK)(r())})).merge(e.ofType(W.d)).filter((function(){return(0,Z.Rd)(r())})).withLatestFrom(e.ofType(x.Qq),(function(e,t){return t})).switchMap((function(e){return l().Observable.of((0,x.rP)(e.searchUrl,e.filterObj))}))},bt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(B.kM).filter((function(){return"drawer"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).control&&t().browser&&t().browser.mobile&&(0,q.BP)(t())})).switchMap((function(){return l().Observable.of((0,U.aN)(),(0,W.t9)())}))},gt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(U.xy).filter((function(){return t().browser&&t().browser.mobile&&(0,q.BP)(t())})).mapTo((0,B.Xi)("drawer","enabled"))},mt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(W.$).switchMap((function(){var e,r=null===(e=(0,Z.Li)(t()))||void 0===e?void 0:e.id;return l().Observable.of((0,L.k4)(r))}))},Ot=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(W.sF).switchMap((function(){var e=[(0,L.k4)(!1)];return(0,ee.jP)(t())&&e.push((0,L.oJ)()),l().Observable.from(e)}))},Et=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(W.aO).filter((function(e){return"VIEW"===e.mode})).switchMap((function(){var e=[];return(0,ee.jP)(t())&&e.push((0,L.oJ)()),l().Observable.from(e)}))},St=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(W.$O,W.vm,Y.pP).filter((function(){return(0,Z.Rd)(t())&&(0,Z.qd)(t())&&(0,ue.$v)(t())!==ae.Bk.CESIUM})).switchMap((function(){return l().Observable.of((0,W.a8)())}))},Tt=function(e){return e.ofType(W.vm).filter((function(e){var t=e.type,r=e.value;return t===W.vm&&!1===r})).switchMap((function(){return l().Observable.of((0,W.a8)())}))},wt=function(e,t){return e.ofType(_.nk).switchMap((function(){return null!==(0,Z.zc)(t.getState())?l().Observable.of((0,W.dM)(null)):l().Observable.empty()}))},ht=r(545578),_t=r.n(ht),Pt=r(701469),At=r.n(Pt),Rt=r(122138),Ft=r.n(Rt),It=r(415124);function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Mt(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){Gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Dt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ct={advancedFilters:{},filters:{},editingAllowedRoles:["ADMIN"],enableColumnFilters:!0,showFilteredObject:!1,timeSync:!1,showTimeSync:!1,open:!1,canEdit:!1,focusOnEdit:!1,showAgain:!1,showPopoverSync:null===(0,It.ac)().getItem("showPopoverSync")||"true"===(0,It.ac)().getItem("showPopoverSync"),mode:W.EH.VIEW,changes:[],pagination:{page:0,size:20},select:[],drawing:!1,newFeatures:[],features:[],dockSize:.35,customEditorsOptions:{rules:[]},viewportFilter:null},Ut=function(e,t){return t===e||void 0!==e.id&&null!==e.id&&e.id===t.id},xt=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((function(t){return Ut(e,t)})).length>0},kt=function(e,t,r,n){return e.map((function(e){return xt(e,t)?function(e,t,r){return jt(jt({},e),{},r?{properties:jt(jt({},e.properties),t),geometry:r.geometry}:{properties:jt(jt({},e.properties),t)})}(e,r,n):e}))};var Yt=r(532425);function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ht(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ht(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Wt=(0,u.connect)((0,a.P1)((function(e){var t;return null==e||null===(t=e.featuregrid)||void 0===t?void 0:t.dockSize}),(function(e){return(0,oe.ic)(e,{transform:!0})}),(function(e,t){return{size:e,dockStyle:t}})))((function(e){var t=e.size,r=e.dockStyle,n=(0,o.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({height:"".concat(100*t,"%")},r)}),[t,r]);return i().createElement("div",{className:"feature-editor-fallback-container",style:n},i().createElement(Yt.Z,{size:100,style:{margin:"0 auto"}}))}));var Bt=r(218291),qt=r(867076),Qt=(0,u.connect)((0,a.P1)([function(e){var t;return null==e||null===(t=e.featuregrid)||void 0===t?void 0:t.open},Z.qd],(function(e,t){return{open:e,viewportFilterInitialized:null!==t}})),{setViewportFilter:W.dM})((0,qt.compose)((0,qt.lifecycle)({componentDidMount:function(){!this.props.viewportFilterInitialized&&this.props.filterByViewport&&this.props.setViewportFilter(!0)},componentDidUpdate:function(){!this.props.viewportFilterInitialized&&this.props.filterByViewport&&this.props.setViewportFilter(!0)}}),(0,Bt.Z)((function(e){return!!e.open}),{fallback:i().createElement(Wt,null)}))((0,o.lazy)((function(){return Promise.all([r.e(72986),r.e(96259),r.e(43129),r.e(85294),r.e(56936),r.e(72555),r.e(20),r.e(53370),r.e(94192),r.e(21951),r.e(66141),r.e(68905),r.e(58853)]).then(r.bind(r,75460))}))));const Zt=(0,c.rx)("FeatureEditor",{component:Qt,epics:n,reducers:{featuregrid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.Xp:return N()({},e,{showPopoverSync:null===(0,It.ac)().getItem("showPopoverSync")||"true"===(0,It.ac)().getItem("showPopoverSync"),editingAllowedRoles:t.options.editingAllowedRoles||e.editingAllowedRoles||["ADMIN"],virtualScroll:!!t.options.virtualScroll,maxStoredPages:t.options.maxStoredPages||5});case W.ye:case W.gG:return N()({},e,{pagination:{page:void 0!==t.page?t.page:e.pagination.page,size:void 0!==t.size?t.size:e.pagination.size}});case W.fT:var r;return jt(jt({},e),{},{pagination:jt(jt({},null!==(r=e.pagination)&&void 0!==r?r:{}),{},{size:t.size})});case W.Oj:var n=t.features.filter((function(e){return"empty_row"!==e.id}));return e.multiselect&&t.append?N()({},e,{select:t.append?_t()([].concat(Mt(e.select),Mt(n)),"id"):n}):n&&e.select&&e.select[0]&&n[0]&&1===e.select.length&&Ut(n[0],e.select[0])?e:N()({},e,{select:n||[]});case W.v6:var o=e.select.filter((function(e){return!xt(e,t.features)})),i=t.features.filter((function(t){return!xt(t,e.select)})),u=o.concat(i||[]);return N()({},e,{select:u});case W.jp:return N()({},e,{select:e.select.filter((function(e){return!xt(e,t.features)}))});case W.DU:var a,c;return N()({},e,{multiselect:null!==(a=t.multiselect)&&void 0!==a?a:e.multiselect,showCheckbox:null!==(c=t.showCheckbox)&&void 0!==c?c:e.showCheckbox});case W.r:return N()({},e,{customEditorsOptions:t.payload});case W.gJ:return N()({},e,t.options||{});case W.CM:return N()({},e,{select:[],changes:[]});case W.iQ:return N()({},e,{features:t.features});case W.dZ:return N()({},e,{dockSize:t.dockSize});case W.$:return N()({},e,{selectedLayer:t.id});case W.qw:return N()({},e,{tools:jt(jt({},e.tools),{},Gt({},t.tool,void 0===t.value?!(e.tools&&e.tools[t.tool]):t.value))});case W.f$:return N()({},e,{attributes:jt(jt({},e.attributes),{},Gt({},t.name,jt(jt({},e.attributes&&e.attributes[t.name]||{}),{},Gt({},t.key,t.value||e.attributes&&e.attributes[t.name]&&!e.attributes[t.name][t.key]))))});case W.aO:return N()({},e,{showPopoverSync:null!==(0,It.ac)().getItem("showPopoverSync")?"true"===(0,It.ac)().getItem("showPopoverSync"):t.mode!==W.EH.EDIT,tools:t.mode===W.EH.EDIT?{}:e.tools,mode:t.mode,multiselect:t.mode===W.EH.EDIT,drawing:!1});case W.K8:var f=t.features.filter((function(e){return e._new}))||[];return N()({},e,{newFeatures:f.length>0?kt(e.newFeatures,f,t.updated,null):e.newFeatures,changes:[].concat(Mt(e&&e.changes||[]),Mt(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:t.updated}}))))});case W.AH:return N()({},e,{saving:!0,loading:!0});case W.AY:return N()({},e,{deleteConfirm:!1,saved:!0,saving:!1,drawing:!1,loading:!1});case W.yi:return N()({},e,{saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case W.IN:var l=Ft().v1();return N()({},e,{newFeatures:t.features.map((function(e){return jt(jt({},e),{},{_new:!0,id:e.id?e.id:l,type:"Feature",geometry:e.geometry?e.geometry:null})})),select:t.features.map((function(e){return jt(jt({},e),{},{_new:!0,id:e.id?e.id:l,type:"Feature",geometry:e.geometry?e.geometry:null})}))});case W.SW:return N()({},e,{deleteConfirm:!1,saving:!1,loading:!1,drawing:!1});case W.DI:var s=t.features.filter((function(e){return e._new}))||[];return N()({},e,{newFeatures:s.length>0?kt(e.newFeatures,s,null,{geometry:jt({},d()(s).geometry)}):e.newFeatures,changes:t.features.filter((function(e){return!e._new})).map((function(e,r){return{id:e.id,updated:{geometry:t.features[r].geometry}}})),drawing:!1});case W.oh:var y=t.features.filter((function(e){return e._new}))||[];return N()({},e,{newFeatures:y.length>0?kt(e.newFeatures,y,null,{geometry:null}):e.newFeatures,changes:[].concat(Mt(e&&e.changes||[]),Mt(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:{geometry:null}}}))))});case x.u7:return N()({},e,{localType:p()(t,"featureType.original.featureTypes[0].properties[1].localType")});case W._9:return N()({},e,{drawing:!e.drawing});case W.$O:return N()({},e,{open:!0});case W.sF:return N()({},e,{open:!1,pagination:{page:0,size:e.pagination.size},mode:W.EH.VIEW,tools:{},saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case W.MK:return N()({},e,{disableToolbar:t.disabled});case W.ut:return N()({},e,{canEdit:t.permission.canEdit});case L.hZ:return"clean"===t.status?N()({},e,{drawing:!1}):e;case W._u:var v=(t.update||{}).attribute;if(v&&t.append){var b=e.filters[v].value,g=[];null!=b&&b.attribute&&(g=[b]),At()(b)&&(g=b);var m=[].concat(Mt(g),[t.update.value]);return N()({},e,{filters:Gt({},v,{attribute:v,enabled:!0,type:"geometry",operator:"OR",value:m})})}return v?N()({},e,{filters:jt(jt({},e.filters),{},Gt({},v,t.update))}):e;case x.Yx:return N()({},e,{filters:{}});case x.VN:var O;return jt(jt({},e),{},{useLayerFilter:null!==(O=t.useLayerFilter)&&void 0!==O?O:e.useLayerFilter});case W.DA:var E=t.dockProps&&t.dockProps.maxDockSize,S=t.dockProps&&t.dockProps.minDockSize,T=E&&S&&S<=t.size&&E>=t.size&&t.size||E&&E<t.size&&E||S&&S>t.size&&S||t.size;return N()({},e,{dockSize:T});case W.Lz:return N()({},e,{advancedFilters:N()({},e.advancedFilters,Gt({},e.selectedLayer,t.filterObj))});case W.Jb:return N()({},e,{features:t.features||[],pages:t.pages||[]});case W.yA:return N()({},e,{showPopoverSync:!1});case W.sK:return N()({},e,{showAgain:!e.showAgain});case W.d:return N()({},e,{timeSync:t.value});case W.vm:return N()({},e,{viewportFilter:t.value});default:return e}}},containers:{TOC:{doNotHide:!0,name:"FeatureEditor"}}})},120096:(e,t,r)=>{"use strict";r.d(t,{lM:()=>p,jP:()=>y,Qp:()=>d,l:()=>v,$N:()=>b});var n=r(227361),o=r.n(n),i=r(513218),u=r.n(i),a=r(206273),c=r(731255),f=r(784715),l=r(624262),s=r(308316),p=function(e){var t,r;return!(null==e||null===(t=e.draw)||void 0===t||!t.snappingLayer)&&(null!==(r=(0,a.CA)(e,e.draw.snappingLayer))&&void 0!==r?r:(0,a.iv)(e,e.draw.snappingLayer))},y=function(e){return o()(e,"draw.snapping",!1)},d=function(e){return o()(e,"draw.snappingIsLoading",!1)},v=function(e){return o()(e,"draw.snapConfig",!1)},b=(0,f.oz)((function(e,t){return e===t||u()(e)&&u()(t)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.title)===(null==t?void 0:t.title)}))([a.l2,a.KL,c.Li,p,v,s.Pz],(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,u=null==n?void 0:n.id,a=null==r?void 0:r.id,c=t.filter((function(e){var t;return(null!==(t=null==o?void 0:o.additionalLayers)&&void 0!==t?t:[]).includes(e.id)})).map((function(e){return e.options})).concat(e);return(a?[{value:a,label:(0,l.in)(r,i),active:a===u}]:[]).concat(c.map((function(e){var t;return!(e.id===a||!["wms","wfs","vector"].includes(null==e?void 0:e.type)||"wms"===(null==e?void 0:e.type)&&"wfs"!==(null==e||null===(t=e.search)||void 0===t?void 0:t.type)||"background"===e.group||!e.visibility)&&{value:e.id,label:(0,l.in)(e,i),active:e.id===u}})).filter(Boolean))}))},55105:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>d,Nr:()=>v,ic:()=>g,Jz:()=>m,VM:()=>O,CF:()=>E,Ju:()=>S});var n=r(91175),o=r.n(n),i=r(288306),u=r.n(i),a=r(800827),c=r(552259),f=r(737275);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return e.maplayout&&e.maplayout.layout||{}},v=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},b=function(e){return e.maplayout&&e.maplayout.boundingSidebarRect||{}},g=u()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=d(e),o=b(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){var i;return p(p({},e),{},y({},t,r&&null!==(i=o[t])&&void 0!==i?i:n[t]))}),{})||{}}),(function(e,t,r){return JSON.stringify(d(e))+JSON.stringify(b(e))+JSON.stringify(t)+(r?"_isDock":"")})),m=function(e){var t;return!(null===(t=d(e))||void 0===t||!t.rightPanel)},O=function(e){var t,r=f.ZP.getConfigProp("mapLayout")||c.DEFAULT_MAP_LAYOUT;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=d(e);return!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})))}(e,[{key:"bottom",value:null!==(t=null==r?void 0:r.bottom.sm)&&void 0!==t?t:0,type:"not"}])},E=function(e){var t=(0,a.Od)(e),r=v(e);return r&&t&&t.size&&{left:(0,c.parseLayoutValue)(r.left,t.size.width),bottom:(0,c.parseLayoutValue)(r.bottom,t.size.height),right:(0,c.parseLayoutValue)(r.right,t.size.width),top:(0,c.parseLayoutValue)(r.top,t.size.height)}},S=function(e){var t,r;return null!==(t=null==e||null===(r=e.maplayout)||void 0===r?void 0:r.dockPanels)&&void 0!==t?t:{left:[],right:[]}}},469842:(e,t,r)=>{"use strict";r.d(t,{qh:()=>d,GK:()=>v,Nl:()=>b,vE:()=>g,gC:()=>m,hI:()=>O,Vc:()=>E,BU:()=>S,Vx:()=>T,a8:()=>w,IM:()=>h,G$:()=>_});var n=r(227361),o=r.n(n),i=r(22222),u=r(206273),a=r(308316),c=r(86638);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var l=["title"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return o()(e,"queryform.crossLayerFilter")},v=function(e){return((0,u.l2)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.group;return"wms"===t&&"background"!==r})).map((function(t){var r=t.title;return p(p({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,l)),{},{title:(0,c.MZ)((0,a.Pz)(e),r)})}))},b=function(e){return o()(e,"queryform.spatialField.geometry")},g=function(e){return o()(e,"queryform.spatialField")},m=(0,i.P1)((function(e){return o()(e,"queryform.attributePanelExpanded")}),(function(e){return o()(e,"queryform.spatialPanelExpanded")}),(function(e){return o()(e,"queryform.crossLayerExpanded")}),(function(e,t,r){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:r}})),O=function(e){return o()(e,"layerFilter.persisted")},E=function(e){return o()(e,"layerFilter.applied")},S=function(e){return o()(e,"queryform.spatialField.method")},T=function(e){return o()(e,"queryform.maxFeaturesWPS")},w=function(e){return b(e)&&b(e).type||"Polygon"},h=function(e){return b(e)&&b(e).projection||"EPSG =4326"},_=function(e){return b(e)&&b(e).coordinates||[]}},998869:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(782904),o=r(49977),i=r.n(o),u=r(607147),a=r(242780),c=r(604206),f=r(801550),l=r(433528),s=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return i().Observable.from([(0,n.Xg)(t,"enabled",null)])},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e,t){return(0,u.Yq)(t)(e)};return e.ofType(a.Np,c.hZ,f.YD,l.$O).filter((function(e){var n=e.type,o=e.status,i=e.owner,u=e.eventName,p=e.toolName,y=s(t.getState(),r);switch(n){case l.$O:return"featureGrid"!==r;case f.YD:return y&&"click"===u&&p!==r;case c.hZ:return y&&("drawOrEdit"===o||"start"===o)&&i!==r;case a.Np:default:return y&&"annotations"!==r}})).switchMap((function(e){return s(t.getState(),r)?o(t.getState(),r,e):i().Observable.empty()}))}},510284:(e,t,r)=>{"use strict";r.d(t,{sw:()=>b,oB:()=>g});var n=r(49977),o=r.n(n),i=r(227361),u=r.n(i),a=r(505055),c=r(507526);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},l(e)}function s(e,t,r){return s=p()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&y(o,r.prototype),o},s.apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}r(849843);var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(i,e);var t,r,n,o=(r=i,n=p(),function(){var e,t=d(r);if(n){var o=d(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e)).name="OGCError",r.code=t,r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(l(Error)),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tagNameProcessors:[c.stripPrefix],explicitArray:!1,mergeAttrs:!0};return o().Observable.bindNodeCallback((function(e,r){return(0,a.parseString)(e,t,r)}))(e)},g=function(e){return e.switchMap((function(e){return"string"==typeof e.data&&e.data.indexOf("ExceptionReport")>0?o().Observable.bindNodeCallback((function(e,t){return(0,a.parseString)(e,{tagNameProcessors:[c.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data).map((function(e){var t=u()(e,"ExceptionReport.Exception.ExceptionText");throw new v(t||"Undefined OGC Service Error",u()(e,"ExceptionReport.Exception.exceptionCode"))})):o().Observable.of(e)}))}},651751:(e,t,r)=>{var n=r(834387),o=n.filter,i=n.fidFilter;e.exports={fidFilter:i,filter:o}},750937:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=["wfsVersion","wfsNS"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=r(227361),l=r(799767),s=l.insert,p=l.feature,y=l.attribute,d=r(199381).transaction,v=r(550525),b=v.deleteFeaturesByFilter,g=v.deleteFeature,m=r(516685),O=m.update,E=m.propertyChange,S=r(378889),T=S.getPropertyDesciptor,w=S.getValue,h=S.findGeometryProperty,_=S.featureTypeSchema,P=r(439156),A=function(e,t){return t&&t.length>0?[e].concat(function(e){if(Array.isArray(e))return c(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e;var r},R=function(e){this.version=e},F=function(e){return f(e,"featureTypes[0].typeName")},I=function(e){return e.targetPrefix?"".concat(e.targetPrefix,":").concat(F(e)):F(e)},D=function(e,t){return e.geometry_name||h(t).name};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.wfsVersion,n=void 0===r?"1.1.0":r,i=t.wfsNS,a=void 0===i?"wfs":i,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,o);if("1.1.0"!==n)throw new R(n);var f=function(t){return p(e.targetPrefix,F(e),Object.keys(t.properties||[]).filter((function(t){return T(t,e)})).map((function(r){return y(e.targetPrefix,r,w(t.properties[r],r,e))})).concat(t.geometry?y(e.targetPrefix,D(t,e),w(t.geometry,D(t,e),e)):[]))},l=function(e){return e.features?e.features.map(f):f(e)};return u(u({},P(u(u({},c),{},{wfsVersion:n,wfsNS:a}))),{},{insert:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s(a,Array.isArray(A(e,r))?A(e,r).map(l):l(e))},getPropertyName:function(t){return function(e,t){return"geometry"===e||e===D({},t)?D({},t):e}(t,e)},deleteByFilter:function(t){return b(a,t,I(e))},deleteFeature:function(t){return g(a,t,I(e))},update:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return O(a,I(e),A(t,n))},propertyChange:function(t,r){return E(a,t,w(r,t,e))},transaction:function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return d(A(t,o),_(e),n,a)}})}},550525:(e,t,r)=>{var n=r(651751).fidFilter,o=function(e,t,r){return"<".concat(e,':Delete typeName="').concat(r,'">').concat(t,"</").concat(e,":Delete>")},i=function(e,t,r){return o(e,n("ogc",t),r)};e.exports={deleteFeaturesByFilter:o,deleteById:i,deleteFeature:function(e,t,r){return i(e,t.features&&1===t.features.length?t.features[0].id:t.id,r)}}},799767:e=>{var t=function(e,t,r){return"<".concat(e?e+":"+t:t,">").concat(Array.isArray(r)?r.join(""):r,"</").concat(e?e+":"+t:t,">")},r=t,n=t;e.exports={insert:function(e,t){return"<".concat(e,":Insert>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Insert>")},feature:n,attribute:r}},199381:e=>{e.exports={transaction:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.wfsNS,o=void 0===n?"wfs":n,i=r.wfsVersion,u=void 0===i?"1.1.0":i;return"<".concat(o,":Transaction ")+'service="WFS" '+'version="'.concat(u,'" ')+"xmlns:".concat(o,'="http://www.opengis.net/wfs" ')+'xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs" '+"".concat(t,">")+"".concat(Array.isArray(e)?e.join(""):e)+"</".concat(o,":Transaction>")}}},516685:e=>{e.exports={update:function(e,t,r){return"<".concat(e,':Update typeName="').concat(t,'">').concat(Array.isArray(r)?r.join(""):r,"</wfs:Update>")},propertyChange:function(e,t,r){return"<".concat(e,":Property>")+"<".concat(e,":Name>").concat(t,"</").concat(e,":Name>")+"<".concat(e,":Value>").concat(r,"</").concat(e,":Value>")+"</".concat(e,":Property>")}}},439156:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(102245),c=r(984596),f=r(378889).wfsToGmlVersion;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wfsVersion,r=void 0===t?"1.1.0":t,n=e.gmlVersion,o=e.filterNS,u=e.wfsNS,l=void 0===u?"wfs":u,s=n;!s&&r?s=f(r):s||(s="3.1.1");var p=function(e){return c(e).map((function(e){return"<".concat("2.0"===r?"fes":"ogc",":PropertyName>").concat(e,"</").concat("2.0"===r?"fes":"ogc",":PropertyName>")})).join("")};return i(i({propertyName:p},a({gmlVersion:s,wfsVersion:r,filterNS:o||"2.0"===r?"fes":"ogc"})),{},{getFeature:function(e,t){return"<".concat(l,":GetFeature ").concat(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.viewParams,i=n.resultType,u=n.outputFormat,a=n.startIndex,c=n.maxFeatures;return(0===r.indexOf("1.")?'service="WFS" version="'+(t=r)+'" '+("1.0.0"===t?'outputFormat="GML2" ':"")+'xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs '+"http://schemas.opengis.net/wfs/".concat(t,"1.0.0"===t?'/WFS-basic.xsd"':'/wfs.xsd"'):function(e){return'service="WFS" version="'+e+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"'}(r))+(i?' resultType="'.concat(i,'"'):"")+(u?' outputFormat="'.concat(u,'"'):"")+(a||0===a?' startIndex="'.concat(a,'"'):"")+(c||0===c?" ".concat((e=c,0===r.indexOf("2.")?'count="'.concat(e,'"'):'maxFeatures="'.concat(e,'"'))):"")+(o?' viewParams="'.concat(o,'"'):"")}(t),">").concat(Array.isArray(e)?e.join(""):e,"</").concat(l,":GetFeature>")},sortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC";return"<".concat(l,":SortBy><").concat(l,":SortProperty>").concat(p(e),"<").concat(l,":SortOrder>").concat(t,"</").concat(l,":SortOrder></").concat(l,":SortProperty></").concat(l,":SortBy>")},query:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).srsName,o=void 0===n?"EPSG:4326":n;return"<".concat(l,":Query ").concat("2.0"===r?"typeNames":"typeName",'="').concat(e,'" ').concat("native"!==o?'srsName="'.concat(o,'"'):"",">")+"".concat(Array.isArray(t)?t.join(""):t)+"</".concat(l,":Query>")}})}},62663:e=>{e.exports=function(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}},887157:(e,t,r)=>{var n=r(640554),o=r(588958);e.exports=function(e,t,r,i){var u=e.length;for((r=n(r))<0&&(r=-r>u?0:u+r),(i=void 0===i||i>u?u:n(i))<0&&(i+=u),i=r>i?0:o(i);r<i;)e[r++]=t;return e}},210107:e=>{e.exports=function(e,t,r,n,o){return o(e,(function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)})),r}},819873:(e,t,r)=>{var n=r(887157),o=r(816612);e.exports=function(e,t,r,i){var u=null==e?0:e.length;return u?(r&&"number"!=typeof r&&o(e,t,r)&&(r=0,i=u),n(e,t,r,i)):[]}},354061:(e,t,r)=>{var n=r(62663),o=r(989881),i=r(267206),u=r(210107),a=r(701469);e.exports=function(e,t,r){var c=a(e)?n:u,f=arguments.length<3;return c(e,i(t,4),r,f,o)}},588958:(e,t,r)=>{var n=r(829750),o=r(640554);e.exports=function(e){return e?n(o(e),0,4294967295):0}}}]);