(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[31255],{285148:(r,t,e)=>{"use strict";e.d(t,{Qw:()=>g,jo:()=>O,m$:()=>j,AF:()=>h,LS:()=>S,WT:()=>w,ns:()=>P,RP:()=>q,aK:()=>A,oP:()=>F});var n=e(206273),u=e(55237),i=e(22222),o=e(227361),c=e.n(o),f=e(313311),a=e.n(f);function l(r){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l(r)}function y(r){return function(r){if(Array.isArray(r))return b(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||s(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(r,t){if(r){if("string"==typeof r)return b(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?b(r,t):void 0}}function b(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function m(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function p(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?m(Object(e),!0).forEach((function(t){d(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}function d(r,t,e){return(t=function(r){var t=function(r,t){if("object"!==l(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===l(t)?t:String(t)}(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var g=function(r,t){return function(e){return c()(e,"dimension.data[".concat(t,"][").concat(r,"]"))}},v=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a()(r.dimensions||[],{name:t})},O=function(r,t){return function(e){return g(r.id,t)(e)||v(r,t)}},j=function(r){return(0,n.l2)(r).reduce((function(t,e){var n=O(e,"time")(r);return n?p(p({},t),{},d({},e.id,n)):t}),{})},h=function(r){return(0,n.l2)(r).filter((function(r){return v(r,"time")}))},S=function(r){return(0,n.l2)(r).filter((function(r){return r.visibility&&v(r,"time")}))},w=function(r){var t=c()(r,"dimension.currentTime");return t&&t.split("/")[0]},P=function(r){return c()(r,"dimension.offsetTime")},q=function(r){return!!P(r)},A=((0,i.P1)(j,(function(r){return Object.keys(r).reduce((function(t,e){return[].concat(y(t),y(r[e]&&r[e].values||[]))}),[]).sort()||[]})),function(r){return function(t){return y(c()(O(r,"time")(t),"values",[])).sort()}}),F=function(r,t){var e=g(t,"time")(r),n=e&&e.domain&&e.domain.split("--");if(n&&2===n.length)return n&&{start:n[0],end:n[1]};var i,o,c=e&&e.domain&&e.domain.split(",");if(c&&c.length>0){var f=(i=(0,u.tz)(c),o=2,function(r){if(Array.isArray(r))return r}(i)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,u,i,o,c=[],f=!0,a=!1;try{if(i=(e=e.call(r)).next,0===t){if(Object(e)!==e)return;f=!1}else for(;!(f=(n=i.call(e)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(r){a=!0,u=r}finally{try{if(!f&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(a)throw u}}return c}}(i,o)||s(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{start:f[0],end:f[1]}}return null}},731255:(r,t,e)=>{"use strict";e.d(t,{u$:()=>E,Xh:()=>I,_w:()=>k,eO:()=>L,kG:()=>C,P3:()=>M,bq:()=>_,LB:()=>x,b4:()=>K,M0:()=>N,Li:()=>R,Rd:()=>Q,g5:()=>U,Sj:()=>$,o:()=>B,eK:()=>V,jY:()=>W,ND:()=>H,OK:()=>X,tU:()=>Y,ou:()=>J,DK:()=>Z,Gl:()=>rr,uz:()=>tr,Ci:()=>er,Ae:()=>nr,gz:()=>ur,He:()=>ir,P4:()=>or,kd:()=>cr,TC:()=>fr,nq:()=>ar,Vf:()=>lr,lg:()=>yr,qd:()=>sr,Kt:()=>br,zc:()=>mr});var n=e(91175),u=e.n(n),i=e(227361),o=e.n(i),c=e(513218),f=e.n(c),a=e(206273),l=e(378889),y=e(308316),s=e(552259),b=e(196958),m=e(285148),p=e(274621),d=e(93152),g=e(824260),v=e(784715),O=e(618446),j=e.n(O),h=e(800827),S=e(719824),w=e(898631);function P(r){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},P(r)}function q(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function A(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function F(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?A(Object(e),!0).forEach((function(t){T(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):A(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}function T(r,t,e){return(t=function(r){var t=function(r,t){if("object"!==P(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===P(t)?t:String(t)}(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var D=a.CA,E=function(r){return o()(r,"featuregrid.selectedLayer")},I=function(r){return o()(r,"featuregrid.attributes")},k=function(r){return r&&r.featuregrid&&r.featuregrid.select},L=function(r){return r&&r.featuregrid&&r.featuregrid.changes},C=function(r){return r&&r.featuregrid&&r.featuregrid.newFeatures},M=function(r){return u()(k(r))},z=function(r){var t=(0,g.Qs)(r);if(t){var e=(0,l.findGeometryProperty)(t);return e&&e.localType}return null},G=["Geometry","GeometryCollection"],_=function(r){return!u()(G.filter((function(t){return z(r)===t})))},x=function(r){return L(r)&&L(r).length>0},K=function(r){return C(r)&&C(r).length>0},N=function(r){return r&&r.featuregrid&&r.featuregrid.filters},R=function(r){return D(r,E(r))},Q=function(r){return r&&r.featuregrid&&r.featuregrid.open},U=function(r,t){return o()(N(r),t)},$=function(r){var t=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.title||r.name}(D(r,E(r)));return f()(t)?t[(0,y.Pz)(r)]||t.default||"":t},B=function(r){return((0,g.L)(r)||[]).map((function(t){var e=function(r,t){return o()(r,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))}(r,t);return e?F(F({},t),e):t}))},V=function(r){return r&&r.featuregrid&&r.featuregrid.mode},W=function(r){return(k(r)||[]).length},H=function(r){return(0,b.rK)(L(r))},X=function(r){return function(r){var t=M(r);if(t){var e=(0,b.rK)(L(r));return!((!e[t.id]||null===e[t.id].geometry)&&(e[t.id]&&null===e[t.id].geometry||t._new&&u()(C(r))&&null===u()(C(r)).geometry||(!t._new||!u()(C(r))||null===u()(C(r)).geometry)&&null===t.geometry))}return!1}(r)},Y=function(r){return o()(r,"featuregrid.showAgain",!1)},J=function(r){if(o()(r,"featuregrid.showTimeSync",!1)){var t=E(r);return(0,m.jo)({id:t},"time")(r)}return null},Z=function(r){return o()(r,"featuregrid.timeSync",!1)},rr=function(r){return o()(r,"featuregrid.showPopoverSync",!0)},tr=function(r){return r&&r.featuregrid&&r.featuregrid.saving},er=function(r){return r&&r.featuregrid&&r.featuregrid.saved},nr=function(r){return r&&r.featuregrid&&r.featuregrid.drawing},ur=function(r){return o()(r,"featuregrid.multiselect",!1)},ir=function(r){return(0,s.isSimpleGeomType)(z(r))},or=function(r){return r.featuregrid&&r.featuregrid.dockSize},cr=function(r){var t=D(r,E(r));return t&&t.name||""},fr=function(r){var t=function(r){return o()(D(r,E(r)),"params")}(r);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},ar=function(r){var t=(0,p.L3)(r),e=function(r){return o()(r,"featuregrid.editingAllowedRoles",["ADMIN"])}(r)||["ADMIN"],n=function(r){return r&&r.featuregrid&&r.featuregrid.canEdit}(r);return(-1!==e.indexOf(t)||n)&&!(0,d.c0)(r)},lr=function(r){return o()(r,"featuregrid.pagination")},yr=function(r){return o()(r,"featuregrid.useLayerFilter",!0)},sr=function(r){return o()(r,"featuregrid.viewportFilter",null)},br=function(r){return(0,d.$v)(r)!==w.Bk.CESIUM},mr=(0,v.oz)(j())(sr,h.pQ,h.uy,(function(r){return o()(r,"query.filterObj.spatialField")}),g.Qs,br,(function(r,t,e){var n,u,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,f=null===(n=(0,l.findGeometryProperty)(o))||void 0===n?void 0:n.name,a=null!=i&&i.operation?[i]:i;return r&&c?{spatialField:[].concat((u=a,function(r){if(Array.isArray(r))return q(r)}(u)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(u)||function(r,t){if(r){if("string"==typeof r)return q(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?q(r,t):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{geometry:F(F({},(0,S.bboxToFeatureGeometry)(t.bounds)),{},{projection:e}),attribute:f,method:"Rectangle",operation:"INTERSECTS"}])}:{}}))},824260:(r,t,e)=>{"use strict";e.d(t,{qj:()=>O,Bu:()=>j,UM:()=>h,X1:()=>S,L:()=>w,HY:()=>P,Mz:()=>q,F0:()=>A,dc:()=>F,b0:()=>T,hk:()=>D,Qs:()=>E,gy:()=>I,M7:()=>k,VD:()=>L});var n=e(414293),u=e.n(n),i=e(227361),o=e.n(i),c=e(91175),f=e.n(c),a=e(701469),l=e.n(a),y=e(630998),s=e.n(y);function b(r){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},b(r)}function m(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function p(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?m(Object(e),!0).forEach((function(t){d(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}function d(r,t,e){return(t=function(r){var t=function(r,t){if("object"!==b(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===b(t)?t:String(t)}(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var g=function(r){return o()(r,"query.filterObj.featureTypeName")},v=function(r){return function(t){return o()(t,'query.featureTypes["'.concat(r,'"]'))}},O=function(r,t){return o()(v(t)(r),"original")},j=function(r){return r&&r.query&&r.query.searchUrl},h=function(r){return r&&r.query&&r.query.url},S=function(r){return r&&r.query&&r.query.filterObj},w=function(r){return o()(v(g(r))(r),"attributes")},P=function(r){return o()(r,"query.typeName")},q=function(r){return o()(r,"query.result.features")},A=function(r){var t=o()(r,"query.result");return p(p({},t),{},{features:(t&&t.features||[]).filter((function(r){return!u()(r.geometry)}))})},F=function(r,t){var e=r&&r.query&&r.query.result&&r.query.result.features;return f()(e.filter((function(r){return r.id===t})))},T={startIndex:function(r){return o()(r,"query.filterObj.pagination.startIndex")},maxFeatures:function(r){return o()(r,"query.filterObj.pagination.maxFeatures")},resultSize:function(r){return o()(r,"query.result.features.length")},totalFeatures:function(r){return o()(r,"query.result.totalFeatures")}},D=function(r,t){var e=v(t)(r);return!!(e&&e.attributes&&e.geometry&&e.original)},E=function(r){return O(r,g(r))},I=function(r){return o()(r,"query.featureLoading")},k=function(r){return o()(r,"query.syncWmsFilter",!1)},L=function(r){var t=o()(r,"query.filterObj.crossLayerFilter"),e=o()(r,"query.filterObj.spatialField"),n=o()(r,"query.filterObj.filterFields");return!!(n&&f()(n)||e&&(e.method&&e.operation&&e.geometry||l()(e)&&s()(e,(function(r){return r.method&&r.operation&&r.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},274621:(r,t,e)=>{"use strict";e.d(t,{np:()=>n,L3:()=>u,jl:()=>i,y8:()=>o,qg:()=>c}),e(737295),e(227361);var n=function(r){return r&&r.security&&r.security.user},u=function(r){return n(r)&&n(r).role},i=function(r){return r&&r.security&&r.security.user},o=function(r){return r.security&&r.security.token},c=function(r){return"ADMIN"===u(r)}}}]);