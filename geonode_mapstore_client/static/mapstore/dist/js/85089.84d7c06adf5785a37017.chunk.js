(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[85089],{460604:(e,t,r)=>{"use strict";r.d(t,{hn:()=>n,yg:()=>o,vD:()=>i,jJ:()=>l,oy:()=>a,W:()=>u,B1:()=>s,fU:()=>c,cY:()=>f});var n="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",o="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",l="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",u=function(e,t){return{type:l,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},s=function(e,t){return{type:a,owner:e,options:t}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:o,id:t,owner:r}},f=function(e){return{type:i,owner:e}}},396909:(e,t,r)=>{"use strict";r.d(t,{vZ:()=>n,TB:()=>o,gF:()=>i,g$:()=>l,dJ:()=>a,uz:()=>u,vA:()=>s,lX:()=>c,E2:()=>f,mF:()=>d,ch:()=>p,DX:()=>y,j1:()=>m,wL:()=>b,Nm:()=>v,rb:()=>g,dk:()=>h,Wv:()=>O,Nf:()=>S,FU:()=>k,k5:()=>w,pt:()=>E,Wm:()=>j,wj:()=>P,l1:()=>I,cu:()=>T,Fe:()=>C,Lc:()=>A,p2:()=>D,WQ:()=>x,E0:()=>F,xR:()=>L,WB:()=>R,bB:()=>N});var n="STYLEEDITOR:TOGGLE_STYLE_EDITOR",o="STYLEEDITOR:SELECT_STYLE_TEMPLATE",i="STYLEEDITOR:UPDATE_TEMPORARY_STYLE",l="STYLEEDITOR:UPDATE_STATUS",a="STYLEEDITOR:RESET_STYLE_EDITOR",u="STYLEEDITOR:ADD_STYLE",s="STYLEEDITOR:CREATE_STYLE",c="STYLEEDITOR:LOADING_STYLE",f="STYLEEDITOR:LOADED_STYLE",d="STYLEEDITOR:ERROR_STYLE",p="STYLEEDITOR:UPDATE_STYLE_CODE",y="STYLEEDITOR:EDIT_STYLE_CODE",m="STYLEEDITOR:DELETE_STYLE",b="STYLEEDITOR:INIT_STYLE_SERVICE",v="STYLEEDITOR:SET_EDIT_PERMISSION",g="STYLEEDITOR:SET_DEFAULT_STYLE",h="STYLEEDITOR:UPDATE_EDITOR_METADATA";function O(e,t){return{type:n,layer:e,enabled:t}}function S(e){return{type:l,status:e}}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,r=e.templateId,n=e.format,i=e.languageVersion,l=e.init;return{type:o,code:t,templateId:r,format:n,init:l,languageVersion:i}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,r=e.templateId,n=e.code,o=e.format,l=e.languageVersion,a=e.init;return{type:i,temporaryId:t,templateId:r,code:n,format:o,init:a,languageVersion:l}}function E(e){return{type:c,status:e}}function j(){return{type:f}}function P(e){return{type:s,settings:e}}function I(){return{type:a}}function T(e){return{type:u,add:e}}function C(e,t){return{type:d,status:e,error:t}}function A(){return{type:p}}function D(e){return{type:y,code:e}}function x(e){return{type:m,styleName:e}}function F(e,t){return{type:b,service:e,canEdit:t}}function L(e){return{type:v,canEdit:e}}function R(){return{type:g}}function N(e){return{type:h,metadata:e}}},378795:(e,t,r)=>{"use strict";r.d(t,{Z:()=>z});var n=r(611847),o=r(472500),i=r.n(o),l=r(189734),a=r.n(l),u=r(91175),s=r.n(u),c=r(984596),f=r.n(c),d=r(281763),p=r.n(d),y=r(747037),m=r.n(y),b=r(944908),v=r.n(b),g=r(737295),h=r.n(g),O=r(65792),S=r.n(O),k=r(624262);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var E=["SLD","viewparams"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=v()(Object.keys(S().brewer).map((function(e){return e.toLocaleLowerCase()}))).map((function(e){return{name:e,colors:e}})),A=[{name:"red",colors:["#000","#f00"]},{name:"green",colors:["#000","#008000","#0f0"]},{name:"blue",colors:["#000","#00f"]},{name:"gray",colors:["#333","#eee"]},{name:"jet",colors:["#00f","#ff0","#f00"]}].concat(I(C)),D=function(e,t,r,n){var o=e?s()((e.thematic.colors||e.thematic.additionalColors||[]).filter((function(e){return e.name===t})))||s()(A.filter((function(e){return e.name===t}))):n?s()([n].concat(I(A)).filter((function(e){return e.name===t}))):s()(A.filter((function(e){return e.name===t})));return o&&(m()(o.colors)||o.colors.length>=2)?{ramp:"custom",colors:S().scale(o.colors).colors(r).join(",")}:{ramp:t}},x=function(e,t){var r=e.thematic&&e.thematic.params||[],n=e.thematic&&e.thematic.fieldAsParam&&["field"]||[];return Object.keys(t).reduce((function(o,i){return function(e,t){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((function(t){return t.field===e})).length>0}(e,t)}(i,[].concat(I(r),I(n)))?h()(o,function(e,t,r){return{viewparams:(e?e+";":"")+t+":"+r}}(o.viewparams,i,t[i])):"ramp"===i?h()(o,D(e,t[i],t.intervals||5)):"classification"===i?h()(o,(l=t[i])?{customClasses:l.reduce((function(e,t){return[].concat(I(e),[t.min+","+t.max+","+t.color])}),[]).join(";")}:{}):"attribute"===i?h()(o,{attribute:e.thematic&&e.thematic.fieldAsParam?t[i]:t.field}):"field"===i&&e.thematic&&!e.thematic.fieldAsParam?o:"strokeWeight"!==i||t.strokeOn?"strokeOn"===i?o:h()(o,P({},i,t[i])):h()(o,P({},i,-1));var l}),{})},F=function(e){return h()({protocol:e.protocol,hostname:e.domain},e.port?{port:e.port}:{})},L=function(e){return e.reduce((function(e,t){return p()(t)?t:e}),null)},R=function(e){return e.PolygonSymbolizer?"Polygon":e.LineSymbolizer?"LineString":e.PointSymbolizer?"Point":null},N=function(e){return e.PolygonSymbolizer?e.PolygonSymbolizer.Fill&&e.PolygonSymbolizer.Fill.CssParameter&&e.PolygonSymbolizer.Fill.CssParameter.$||"#808080":e.LineSymbolizer?e.LineSymbolizer.Stroke&&e.LineSymbolizer.Stroke.CssParameter&&e.LineSymbolizer.Stroke.CssParameter.$||"#808080":e.PointSymbolizer&&e.PointSymbolizer.Graphic&&e.PointSymbolizer.Graphic.Mark&&e.PointSymbolizer.Graphic.Mark.Fill&&e.PointSymbolizer.Graphic.Mark.Fill.CssParameter&&e.PointSymbolizer.Graphic.Mark.Fill.CssParameter.$||"#808080"},Z={getStyleService:function(e,t){var r=(0,n.ij)((0,k.Hi)(e));return i().format(h()(F(r),{pathname:r.applicationRootPath+"/rest/sldservice/"+e.name+"/classify.xml",query:h()({},x(e,t),{fullSLD:!0})}))},getCapabilitiesUrl:function(e){var t=(0,n.ij)((0,k.Hi)(e));return i().format(h()(F(t),{pathname:t.applicationRootPath+"/rest/sldservice/capabilities.json"}))},getStyleMetadataService:function(e,t,r){var o=r||{},l=o.baseUrl,a=void 0===l?"":l,u=o.isStatic,s=void 0!==u&&u,c=(0,n.ij)(s?a:(0,k.Hi)(e));return i().format(h()(F(c),{pathname:c.applicationRootPath+"/rest/sldservice/"+e.name+"/classify.json",query:t}))},getStyleParameters:function(e,t){return{SLD:Z.getStyleService(e,t),viewparams:x(e,t).viewparams}},getMetadataParameters:function(e,t){return x(e,t)},getFieldsService:function(e){var t=(0,n.ij)((0,k.Hi)(e)),r=e.thematic&&e.thematic.datatable||e.name;return i().format(h()(F(t),{pathname:t.applicationRootPath+"/rest/sldservice/"+r+"/attributes.json"}))},readFields:function(e){return a()(f()(e.Attributes.Attribute||[]).filter((function(e){return t=e.type,-1!==["Integer","Long","Double","Float","BigDecimal"].indexOf(t);var t})).map((function(e){return{name:e.name,type:(e.type,"number")}})),(function(e){return e.name}))},readClassification:function(e,t){!function(e){if(e&&e.Rule)throw new Error("toc.thematic.invalid_attribute");if(!e||!e.Rules||!e.Rules.Rule)throw new Error("toc.thematic.invalid_object");f()(e.Rules.Rule).forEach((function(e){if(!e.PolygonSymbolizer&&!e.LineSymbolizer&&!e.PointSymbolizer)throw new Error("toc.thematic.invalid_geometry")}))}(e);var r=f()(e.Rules.Rule||[]);return r.map((function(e,n){var o,i,l,a;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:e.Title,color:N(e),type:R(e)},"uniqueInterval"===t?{unique:e.Filter.PropertyIsEqualTo&&e.Filter.PropertyIsEqualTo.Literal}:{min:L([e.Filter.And&&(e.Filter.And.PropertyIsGreaterThanOrEqualTo||e.Filter.And.PropertyIsGreaterThan).Literal,e.Filter.PropertyIsEqualTo&&e.Filter.PropertyIsEqualTo.Literal,n===r.length-1&&(null==e||null===(o=e.Filter)||void 0===o||null===(i=o.PropertyIsGreaterThanOrEqualTo)||void 0===i?void 0:i.Literal)]),max:L([e.Filter.And&&(e.Filter.And.PropertyIsLessThanOrEqualTo||e.Filter.And.PropertyIsLessThan).Literal,e.Filter.PropertyIsEqualTo&&e.Filter.PropertyIsEqualTo.Literal,0===n&&(null==e||null===(l=e.Filter)||void 0===l||null===(a=l.PropertyIsLessThan)||void 0===a?void 0:a.Literal)])})}))||[]},readRasterClassification:function(e){var t,r,n,o;return((null===(r=f()(null==e||null===(t=e.Rules)||void 0===t?void 0:t.Rule)[0])||void 0===r||null===(n=r.RasterSymbolizer)||void 0===n||null===(o=n.ColorMap)||void 0===o?void 0:o.ColorMapEntry)||[]).map((function(e){return{color:e["@color"],opacity:void 0===e["@opacity"]?1:e["@opacity"],label:e["@label"],quantity:parseFloat(e["@quantity"])}}))},methods:["equalInterval","quantile","jenks"],getThematicParameters:function(e){return e.map((function(e){return e.type&&Z.standardParams[e.type]&&h()({},Z.standardParams[e.type],e)||e}))},standardParams:{aggregate:{title:"toc.thematic.classification_aggregate",defaultValue:"sum",values:[{name:"toc.thematic.values.sum",value:"sum"},{name:"toc.thematic.values.avg",value:"avg"},{name:"toc.thematic.values.count",value:"count"},{name:"toc.thematic.values.min",value:"min"},{name:"toc.thematic.values.max",value:"max"}]}},getColor:D,getColors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return(t?t.thematic.colors||[].concat(I(e),I(t.thematic.additionalColors||[])):n?[n].concat(I(e)):I(e)).map((function(e){return!m()(e.colors)&&e.colors.length>=r?e:h()({},e,{colors:S().scale(e.colors).colors(r)})}))},hasThematicStyle:function(e){return!!(e&&e.params&&e.params.SLD)},removeThematicStyle:function(e){e.SLD,e.viewparams;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,E);return h()({},t,{SLD:null,viewparams:null})},defaultParams:{attribute:"",intervals:5,method:"equalInterval",ramp:"red",field:"",open:!1,strokeWeight:.2,strokeColor:"#ff0000",strokeOn:!1}};const z=Z},108954:(e,t,r)=>{"use strict";r.d(t,{eb:()=>P,IW:()=>I,DG:()=>T});var n=r(618446),o=r.n(n),i=r(227361),l=r.n(i),a=r(984596),u=r.n(a),s=r(375875),c=r.n(s),f=r(409082),d=r(378795);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=["equalInterval","uniqueInterval","quantile","jenks","standardDeviation"],h=["equalInterval","quantile","jenks"],O={};function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return t.map((function(t){return t.ruleId===e?r(t):t}))}var k=function(e,t){var r="uniqueInterval"===(null==e?void 0:e.method),n=null==e?void 0:e.intervalsForUnique;return{errorId:t&&t.includes("toc")?t:r?"styleeditor.classificationUniqueIntervalError":"styleeditor.classificationError",msgParams:r?{intervalsForUnique:n}:{}}},w=function(e,t){var r="uniqueInterval"===(null==e?void 0:e.method),n=null==e?void 0:e.intervalsForUnique;return{errorId:r?t&&t.includes("float type")?"styleeditor.classificationRasterUniqueIntervalError":"styleeditor.classificationUniqueIntervalError":"styleeditor.classificationRasterError",msgParams:r?{intervalsForUnique:n}:{}}},E=function(e,t){var r=l()(e,"Rules.Rule"),n=r&&l()(r,"RasterSymbolizer.ColorMap.ColorMapEntry"),o="classificationRaster"===t.type?n&&u()(n).length:r&&u()(r).length,i="custom"===t.ramp&&t.classification.length>0&&{name:"custom",colors:t.classification.map((function(e){return e.color}))},a=d.Z.getColor(void 0,t.ramp,o||t.intervals,i).colors,s=void 0===a?[]:a,c=null==s?void 0:s.split(",");return t.reverse&&(c=c.reverse()),{classification:d.Z["classificationRaster"===t.type?"readRasterClassification":"readClassification"](e,t.method).map((function(e,t){return b(b({},e),{},{color:c[t]})}))}},j={geoserver:{updateStyleService:function(e){var t=e.baseUrl,r=e.styleService,n=null!=r&&r.isStatic?r.baseUrl:t;if(O[n])return new Promise((function(e){return e(O[n])}));var o=d.Z.getCapabilitiesUrl({url:n});return(null!=r&&r.isStatic?new Promise((function(e){return e(r)})):f.ZP.getStyleService({baseUrl:n})).then((function(e){return c().get(o).then((function(t){var r=t.data;return[e,r]})).catch((function(){return[e,null]}))})).then((function(e){var t,r,o,i,l,a,u,s,c,f,d,p=(d=2,function(e){if(Array.isArray(e))return e}(f=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(f,d)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(f,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],v=p[1],S=b(b({},m),{},{classificationMethods:v?(t=v,r=(t||{}).capabilities,o=void 0===r?{}:r,i=o.vector,l=void 0===i?{}:i,a=o.raster,u=void 0===a?{}:a,s=l.classifications||[],c=u.classifications||[],{vector:s.filter((function(e){return-1!==g.indexOf(e)})),raster:c.filter((function(e){return-1!==g.indexOf(e)}))}):{vector:h,raster:h}});return O[n]=S,S}))}}};function P(e){var t=e.baseUrl,r=e.styleService;return j.geoserver.updateStyleService({baseUrl:t,styleService:r})}function I(e){var t=e.values,r=e.properties,n=e.rules,i=e.layer,l=e.styleService,a=["intervals","method","reverse","attribute","ramp","intervalsForUnique"],u=b(b({},r),t),s=r.ruleId;if(void 0!==t.ramp&&t.ramp!==r.ramp&&"customInterval"===(null==u?void 0:u.method)&&!t.classification){var f=d.Z.getColor(void 0,t.ramp,u.intervals).colors.split(",");return new Promise((function(e){return e(S(s,n,(function(e){return b(b(b({},e),u),{},{classification:u.classification.map((function(e,t){return b(b({},e),{},{color:f[t]})})),errorId:void 0})})))}))}var p=a.reduce((function(e,t){return b(b({},e),{},v({},t,r[t]))}),{}),y=a.reduce((function(e,t){return b(b({},e),{},v({},t,u[t]))}),{}),m=!a.find((function(e){return void 0===u[e]}))&&!o()(p,y)&&"custom"!==(null==t?void 0:t.ramp)&&"customInterval"!==(null==u?void 0:u.method),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.errorId,o=e.msgParams;return S(s,n,(function(e){return b(b(b({},e),t),{},{errorId:r,msgParams:o})}))};if(m){var h={intervals:u.intervals,method:u.method,attribute:u.attribute,intervalsForUnique:u.intervalsForUnique};return c().get(d.Z.getStyleMetadataService(i,h,l)).then((function(e){var r=e.data;return S(s,n,(function(e){return b(b(b(b({},e),t),E(r,u)),{},{errorId:void 0})}))})).catch((function(e){return g(k(u,null==e?void 0:e.message))}))}return new Promise((function(e){return e(g())}))}function T(e){var t=e.values,r=e.properties,n=e.rules,i=e.layer,l=e.styleService,a=["intervals","continuous","method","reverse","ramp","intervalsForUnique"],u=b(b({},r),t),s=r.ruleId;if(void 0!==t.ramp&&t.ramp!==r.ramp&&"customInterval"===(null==u?void 0:u.method)&&!t.classification){var f=d.Z.getColor(void 0,t.ramp,u.intervals).colors.split(",");return new Promise((function(e){return e(S(s,n,(function(e){return b(b(b({},e),u),{},{classification:u.classification.map((function(e,t){return b(b({},e),{},{color:f[t]})})),errorId:void 0})})))}))}var p=a.reduce((function(e,t){return b(b({},e),{},v({},t,r[t]))}),{}),y=a.reduce((function(e,t){return b(b({},e),{},v({},t,u[t]))}),{}),m=!a.find((function(e){return void 0===u[e]}))&&!o()(p,y)&&"custom"!==(null==t?void 0:t.ramp)&&"customInterval"!==(null==u?void 0:u.method),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.errorId,o=e.msgParams;return S(s,n,(function(e){return b(b(b({},e),t),{},{errorId:r,msgParams:o})}))};return m?c().get(d.Z.getStyleMetadataService(i,{intervals:u.intervals,continuous:u.continuous,method:u.method,reverse:u.reverse,intervalsForUnique:u.intervalsForUnique},l)).then((function(e){var r=e.data;return S(s,n,(function(e){return b(b(b(b({},e),t),E(r,u)),{},{errorId:void 0})}))})).catch((function(e){return g(w(u,null==e?void 0:e.data))})):new Promise((function(e){return e(g())}))}},409082:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>R,bc:()=>L,Uz:()=>F});var n=r(375875),o=r.n(n),i=r(737295),l=r.n(i),a=r(227361),u=r.n(a),s=r(567523),c=r.n(s),f=r(968929),d=r.n(f);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y={},m=function(e){return e.map((function(e){return c()(e,(function(e,t){return d()(t)}))}))},b=r(91175),v=r.n(b),g=r(984596),h=r.n(g),O=r(99009);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=[{regex:/gt-css/,format:"css"}],I={css:"application/vnd.geoserver.geocss+css",sld:"application/vnd.ogc.sld+xml",sldse:"application/vnd.ogc.se+xml",zip:"application/zip"},T=function(e,t){return"sld"===e?t&&t.version&&"1.1.0"===t.version?I.sldse:I.sld:I[e]||I.sld},C=function(e,t){var r=e.options,n=void 0===r?{}:r,o=e.format,i=e.baseUrl,l=e.name,a=e.workspace,u=e.languageVersion,s=t?{name:encodeURIComponent(l)}:{};return{options:E(E({},n),{},{params:E(E({},n.params),s),headers:E(E({},n.headers||{}),{},{"Content-Type":T(o,u)})}),url:"".concat(i,"rest/").concat(a&&"workspaces/".concat(a,"/")||"","styles").concat(t?".json":"/".concat(encodeURIComponent(l)))}},A=function(e){var t=e.geoserverBaseUrl,r=e.workspace,n=e.name,o=e.format,i=void 0===o?"json":o;return"".concat(t,"rest/").concat(r&&"workspaces/".concat(r,"/")||"","styles/","".concat(encodeURIComponent(n),".").concat(i))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h()((null==e?void 0:e.entry)||[]).reduce((function(e,t){return E(E({},e),{},j({},t["@key"],t.$))}),{})},x=function(e){var t=e.baseUrl,r=e.styleName,n=e.metadata,i=A(E(E({},(0,O.$N)(r)),{},{geoserverBaseUrl:t}));return o().get(i).then((function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,r=void 0===t?{}:t;return o().put(i,{style:E(E({},r.style),{},{metadata:E(E({},D(null===(e=r.style)||void 0===e?void 0:e.metadata)),n)})})}))},F=function(e){var t=e.baseUrl,r=e.code,n=e.options,i=e.format,l=void 0===i?"sld":i,a=e.styleName,u=e.languageVersion,s=e.metadata,c=(0,O.$N)(a),f=c.name,d=c.workspace,p=C({options:n,format:l,baseUrl:t,name:f,workspace:d,languageVersion:u});return o().put(p.url,r,p.options).then((function(){return s?x({baseUrl:t,styleName:a,metadata:s}).then((function(){return null})).catch((function(){return null})):null}))},L=function(e){var t=e.baseUrl,r=e.styleName,n=e.options,i=(0,O.$N)(r),l=i.name,a=i.workspace,u=A({name:l,workspace:a,geoserverBaseUrl:t});return o().get(u,n).then((function(e){return e.data&&e.data.style&&e.data.style.name?o().get(A({workspace:a,geoserverBaseUrl:t,name:e.data.style.name,format:(r=e.data.style.filename,r.split(".").pop())})).then((function(t){var r,n,o=t.data;return E(E(E({},e.data.style),(null==e||null===(r=e.data)||void 0===r||null===(n=r.style)||void 0===n?void 0:n.metadata)&&{metadata:D(e.data.style.metadata)}),{},{code:o})})):null;var r}))};const R={saveStyle:function(e,t,r,n){var i=e+"styles/"+encodeURI(t),a=l()({},n);return a.headers=l()({},a.headers,{"Content-Type":"application/vnd.ogc.sld+xml"}),o().put(i,r,a)},getStyleService:function(e){var t=e.baseUrl;return function(e){var t=e.baseUrl;return y[t]?new Promise((function(e){return e(y[t])})):o().all([o().get("".concat(t,"rest/about/version"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return u()(t,"about.resource")})).catch((function(){return null})),o().get("".concat(t,"rest/about/manifest"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return u()(t,"about.resource")})).catch((function(){return null})),o().get("".concat(t,"rest/fonts"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return u()(t,"fonts")})).catch((function(){return null}))]).then((function(e){var r,n,o=(n=3,function(e){if(Array.isArray(e))return e}(r=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(r,n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1],a=o[2],u={version:i&&m(i),manifest:l&&m(l),fonts:a};return i&&l?(y[t]=u,y[t]):u}))}({baseUrl:t}).then((function(e){var r=e.version,n=e.manifest,o=e.fonts,i=void 0===o?[]:o;if(!r)return null;var l,a=(n||[]).map((function(e){var t=e.name;return v()(P.filter((function(e){var r=e.regex;return t.match(r)})).map((function(e){return e.format})))})).filter((function(e){return e})),u=v()(r.filter((function(e){var t=e.name;return"geoserver"===(void 0===t?"":t).toLowerCase()})))||{};return{baseUrl:t,version:u.version,formats:[].concat((l=a,function(e){if(Array.isArray(e))return k(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),["sld"]),availableUrls:[],fonts:i}}))},getStyle:function(e){var t=e.options,r=e.format,n=e.baseUrl,i=e.styleName,l=(0,O.$N)(i),a=l.name,u=l.workspace,s=C({options:t,format:r,baseUrl:n,name:a,workspace:u});return o().get(s.url,s.options)},createStyle:function(e){var t=e.baseUrl,r=e.code,n=e.options,i=e.format,l=void 0===i?"sld":i,a=e.styleName,u=e.languageVersion,s=e.metadata,c=(0,O.$N)(a),f=c.name,d=c.workspace,p=C({options:n,format:l,baseUrl:t,name:f,workspace:d,languageVersion:u},!0);return o().post(p.url,r,p.options).then((function(){return s?x({baseUrl:t,styleName:a,metadata:s}).then((function(){return null})).catch((function(){return null})):null}))},updateStyle:F,deleteStyle:function(e){var t=e.baseUrl,r=e.options,n=e.format,i=void 0===n?"sld":n,l=e.styleName,a=(0,O.$N)(l),u=a.name,s=a.workspace,c=C({options:r,format:i,baseUrl:t,name:u,workspace:s});return o().delete(c.url,c.options)},getStylesInfo:function(e){var t=e.baseUrl,r=e.styles,n=void 0===r?[]:r,i=[],a=n.length;return new Promise((function(e){n&&0!==n.length?n.forEach((function(r,u){var s=r.name,c=r.href;return o().get(c||A(E(E({},(0,O.$N)(s)),{},{geoserverBaseUrl:t}))).then((function(t){var r=t.data;i[u]=l()({},n[u],r&&r.style&&E(E(E({},r.style),r.style.metadata&&{metadata:D(r.style.metadata)}),{},{name:(0,O.U_)(r.style)})||{}),0==--a&&e(i.filter((function(e){return e})))})).catch((function(){i[u]=l()({},n[u]),0==--a&&e(i.filter((function(e){return e})))}))})):e([])}))},getStyleCodeByName:L,updateStyleMetadata:x}},135400:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(124852),o=r.n(n),i=r(379313);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.mainViewStyle,l=void 0===n?{}:n,a=e.contentStyle,s=void 0===a?{}:a,c=e.imageStyle,f=void 0===c?{}:c,d=e.glyph,p=void 0===d?"info-sign":d,y=e.iconFit,m=e.title,b=e.tooltip,v=e.tooltipId,g=e.description,h=e.content;return o().createElement("div",{className:"empty-state-container",style:u({height:y?"100%":void 0},r)},o().createElement("div",{key:"main-view",className:"empty-state-main-view",style:u({height:y?"100%":void 0},l)},p?o().createElement("div",{key:"glyph",className:"empty-state-image",style:u({height:y?"100%":void 0},f)},o().createElement(i.Z,{iconFit:y,tooltip:b,tooltipId:v,glyph:p})):null,m?o().createElement("h1",{key:"title"},m):null,g?o().createElement("p",{key:"description",className:"empty-state-description"},g):null),o().createElement("div",{key:"content",className:"empty-state-content",style:s},h))}},698772:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(893379),o=r.n(n),i=r(172704);o()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var l=r(675263),a=r.n(l),u=r(124852),s=r.n(u),c=r(480681);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(o){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=i.call.apply(i,[this].concat(r))),"onFilter",(function(t){e.props.onFilter(t.target.value)})),b(y(e),"onClear",(function(){e.props.onFilter("")})),e}return t=l,(r=[{key:"render",value:function(){var e=this.props.filterText?s().createElement(c.OverlayTrigger,{placement:"bottom",overlay:s().createElement(c.Tooltip,{id:"mapstore-toc-filter"},this.props.tooltipClear)},s().createElement(c.Glyphicon,{glyph:"1-close",className:"text-primary close-filter",onClick:this.onClear})):s().createElement(c.Glyphicon,{className:"text-primary",glyph:"filter"});return s().createElement(c.FormGroup,{className:"mapstore-filter"},s().createElement(c.InputGroup,null,s().createElement(c.FormControl,{value:this.props.filterText,placeholder:this.props.filterPlaceholder,onChange:this.onFilter,onFocus:this.props.onFocus,type:"text"}),s().createElement(c.InputGroup.Addon,{className:"square-button-md"},this.props.loading?s().createElement("div",{className:"toc-inline-loader"}):e)))}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);b(g,"propTypes",{loading:a().bool,filterText:a().string,filterPlaceholder:a().oneOfType([a().object,a().string]),onFilter:a().func,onFocus:a().func,tooltipClear:a().oneOfType([a().object,a().string])}),b(g,"defaultProps",{loading:!1,filterText:"",filterPlaceholder:"",onFilter:function(){},onFocus:function(){},tooltipClear:"Clear"});const h=g},379313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(124852),o=r.n(n),i=r(480681),l=r(496259),a=(0,r(815135).Z)(i.Glyphicon);const u=function(e){var t=e.glyph,r=void 0===t?"info-sign":t,n=e.tooltip,i=e.tooltipId,u=e.iconFit,s=e.padding,c=void 0===s?0:s,f=e.margin,d=void 0===f?0:f;return o().createElement(l.Z,null,(function(e){var t=e.width,l=e.height;return o().createElement(a,{glyph:r,tooltip:n,tooltipId:i,style:{display:"inline-block",padding:c+"px",margin:d+"px",textAlign:"center",fontSize:u?Math.min(t,l)-2*c-2*d:t-2*c-2*d}})}))}},982030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(124852),o=r.n(n),i=r(623560),l=r.n(i),a=r(867076),u=r(135400);const s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.Z;return(0,a.branch)(e,(function(){return function(e){return o().createElement(r,t&&l()(t)?t(e):t)}}))}},173014:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(124852),o=r.n(n),i=r(867076),l=r(82110);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}var u=function(e){var t=e.loading,r=e.isLoading;return t||r&&("function"==typeof r?r():!0===r)};const s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.Z;return(0,i.branch)(e,(function(){return function(e){var n=e.loaderProps;return o().createElement(r,a({},t,n))}}))}},697111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(124852),o=r.n(n),i=r(675263),l=r.n(i),a=r(23279),u=r.n(a);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const y=function(e,t){return function(r){function i(i){var l,a,s,c=(0,n.useRef)(),y=(a=(0,n.useState)(i[t]),s=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(a,s)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=y[0],b=y[1],v=(0,n.useRef)();v.current=m,(0,n.useEffect)((function(){if(v.current!==i[t]){b(i[t]);var r=i["".concat(e,"NoDebounce")];r&&r(i[t])}}),[i[t]]),(0,n.useEffect)((function(){return c.current=u()((function(t){var r=t.newProps,n=t.newValue;r[e](n)}),i.debounceTime),function(){c.current.cancel()}}),[i.debounceTime]);var g=f(f({},i),{},(d(l={},t,m),d(l,e,(function(t){b(t);var r=i["".concat(e,"NoDebounce")];r&&r(t),c.current&&(c.current.cancel(),c.current({newProps:i,newValue:t}))})),l));return o().createElement(r,g)}return i.propTypes={debounceTime:l().number},i.defaultProps={debounceTime:300},i.displayName=r.displayName+"WithDebounceOnCallback",i}}},218291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(124852),o=r.n(n);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}const l=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallback,r=void 0===t?null:t;return function(t){return(0,n.forwardRef)((function(l,a){return void 0===e||e(l)?o().createElement(n.Suspense,{fallback:r},o().createElement(t,i({ref:a},l))):null}))}}},886056:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(675263),o=r.n(n),i=r(124852),l=r.n(i),a=r(743129),u=r(598611),s=r.n(u);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(o){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=i.call.apply(i,[this].concat(r))),"styleRenderer",(function(t,r,n){var o=e.props.styleRendererPattern||l().createElement("svg",{style:{height:33,width:"100%"},viewBox:"0 0 300 25"},l().createElement("path",{className:"ms-dash-array",strokeWidth:e.props.defaultStrokeWidth,strokeDasharray:n||t.value,d:"M0 12.5, 300 12.5"}));return l().createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",paddingRight:25}},o)})),e}return t=u,(r=[{key:"render",value:function(){var e,t=this,r=s()(this.props.dashArray||"1 0"," "),n=this.props.options.find((function(e){return e.value===r}))?this.props.options:[{value:r}].concat(function(e){if(Array.isArray(e))return f(e)}(e=this.props.options)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=this.props.creatable?a.ZP.Creatable:a.ZP;return l().createElement(o,{options:n,disabled:this.props.disabled,menuPlacement:this.props.menuPlacement,clearable:this.props.clearable,optionRenderer:this.props.optionRenderer||this.styleRenderer,valueRenderer:this.props.valueRenderer||this.styleRenderer,value:r,isValidNewOption:this.props.isValidNewOption,onChange:function(e){if(e){var r=e.value.split(" ");t.props.onChange(r)}}})}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(l().Component);b(g,"propTypes",{dashArray:o().array,menuPlacement:o().string,clearable:o().bool,value:o().string,optionRenderer:o().func,styleRendererPattern:o().node,valueRenderer:o().func,disabled:o().bool,onChange:o().func,options:o().array,creatable:o().bool,isValidNewOption:o().func,defaultStrokeWidth:o().number}),b(g,"defaultProps",{dashArray:["1","0"],menuPlacement:"top",clearable:!1,onChange:function(){},options:[{value:"1 0"},{value:"10 50 30"},{value:"6 6"},{value:"20 20"},{value:"30 30"}],defaultStrokeWidth:4});const h=g},467057:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var n=r(23279),o=r.n(n),i=r(666654),l=r.n(i),a=r(618446),u=r.n(a),s=r(623560),c=r.n(s),f=r(513218),d=r.n(f),p=r(747037),y=r.n(p),m=r(737295),b=r.n(m),v=r(675263),g=r.n(v),h=r(124852),O=r.n(h),S=r(805346),k=r(965539),w=r(532425),E=r(202576),j=r(298854);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function L(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===P(t)?t:String(t)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(s,e);var t,r,n,i,a=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(n);if(i){var r=F(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return L(x(e=a.call.apply(a,[this].concat(r))),"state",{}),L(x(e),"onRenderToken",(function(t){var r=t.lineCount();e.inlineWidgets&&e.inlineWidgets.forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e)})),e.inlineWidgets=[],t.doc.iter(0,r,(function(r){var n=r.lineNo();t.getLineTokens(n).forEach((function(r){e.inlineWidgets=e.props.inlineWidgets.reduce((function(o,i){var l=i.type,a=i.style,u=void 0===a?{}:a,s=i.active,f=void 0===s?function(){return!1}:s,d=i.className,p=void 0===d?"":d;if(f(r)){var y=e.getInlineWidget({className:p,token:r,onClick:function(){return e.setState({inlineWidgetType:l,token:r,lineNo:n})},style:c()(u)&&u(r)||u});return t.addWidget({line:n,ch:r.start-1},y,!1),[].concat(T(o),[y])}return T(o)}),T(e.inlineWidgets))}))}))})),L(x(e),"onAutocomplete",(function(t){if(!(t&&t.state&&t.state.completionActive)){var r=t.getCursor(),n=t.getTokenAt(r);if(n.string&&(l()(n.string,"-")||n.string.match(/^[.`\w@]\w*$/))&&n.string.length>0){var o=e.editor&&e.editor.getWrapperElement&&e.editor.getWrapperElement()||null;e.cm.commands.autocomplete(t,null,{completeSingle:!1,container:o})}}})),L(x(e),"onUpdate",(function(){e.update.cancel(),e.update()})),L(x(e),"getInlineWidget",(function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.token,o=void 0===n?{}:n,i=e.className,l=void 0===i?"":i,a=e.style,u=void 0===a?{}:a,s=document.createElement("div");return s.setAttribute("class","".concat(l," ms-style-editor-inline-widget")),b()(s.style,u),s.onclick=function(){return r(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o))},s})),L(x(e),"getChangedCode",(function(e,t){if("application/json"===t&&y()(e))try{return{code:JSON.parse(e)}}catch(e){return{error:e}}return{code:e}})),L(x(e),"getErrorMessage",(function(){return e.props.error.messageId?O().createElement(S.Z,{msgId:e.props.error.messageId,msgParams:e.props.error.messageParams}):e.props.error.line?e.props.error.message:O().createElement(S.Z,{msgId:"styleeditor.genericValidationError"})})),e}return t=s,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.setState({code:d()(this.props.code)?JSON.stringify(this.props.code,null,2):this.props.code})}},{key:"UNSAFE_componentWillUpdate",value:function(e){if(!u()(this.props.error,e.error)&&(this.marker&&(this.marker.clear(),this.marker=null),e.error)){var t=this.editor.lineCount(),r={line:e.error.line-1||0,ch:0},n=e.error.line?{line:t,ch:0}:this.editor.getCursor();this.marker=this.editor.markText(r,n,{className:"ms-style-editor-error"})}}},{key:"render",value:function(){var e=this;return O().createElement(k.Z,{className:"ms-style-editor",style:this.props.style,header:O().createElement("div",{className:"ms-style-editor-head"},this.props.loading&&O().createElement(w.Z,{className:"ms-style-editor-loader",size:20}),this.props.error&&O().createElement(E.Z,{glyph:"exclamation-mark",bsStyle:"danger",placement:"right",title:O().createElement(S.Z,{msgId:"styleeditor.validationErrorTitle"}),text:this.getErrorMessage()}))},O().createElement(j.Z,{key:"style-editor",value:this.state.code,editorDidMount:function(t,r,n,i){e.onRenderToken(t),e.editor=t,e.cm=i,t.on("inputRead",e.onAutocomplete),e.update=o()((function(){var t=e.getChangedCode(e.state.code,e.props.mode),r=t.error,n=t.code;r?e.props.onError(r):e.props.onChange(n)}),e.props.waitTime),e.cm.extendMode(e.props.mode,{hintProperties:e.props.hintProperties})},editorWillUnmount:function(t){return t.off("inputRead",e.onAutocomplete)},onBeforeChange:function(t,r,n){return e.setState({code:n})},onChange:function(t){e.onRenderToken(t),e.onUpdate()},options:{theme:this.props.theme,mode:this.props.mode,lineNumbers:!0,styleSelectedText:!0,indentUnit:2,tabSize:2}}),this.state.token&&O().createElement("div",{className:"ms-inline-widget-container"},O().createElement("div",null,O().createElement("button",{className:"btn close square-button",onClick:function(){e.state.value&&e.editor.replaceRange(e.state.value,{line:e.state.lineNo,ch:e.state.token.start},{line:e.state.lineNo,ch:e.state.token.end}),e.setState({token:null,inlineWidgetType:null,lineNo:null,value:null})}})),O().createElement("div",null,this.props.inlineWidgets.filter((function(t){return t.type===e.state.inlineWidgetType})).map((function(t){var r=t.Widget;return O().createElement(r,{value:e.state.value,token:e.state.token,onChange:function(t){return e.setState({value:t})}})})))))}}])&&A(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(O().Component);L(N,"propTypes",{mode:g().string,theme:g().string,style:g().object,code:g().oneOfType([g().string,g().object]),onChange:g().func,waitTime:g().number,hintProperties:g().object,error:g().object,inlineWidgets:g().array,loading:g().bool,onError:g().func}),L(N,"defaultProps",{mode:"geocss",theme:"lesser-dark",style:{},code:"",onChange:function(){},waitTime:1e3,hintProperties:{},inlineWidgets:[],onError:function(){}});const Z=N},283958:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(124852),o=r.n(n),i=["type"],l=["text"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const s=function(e){var t=e.type,r=e.patterns,n=e.paths,s=e.texts,c=e.backgroundColor,f=void 0===c?"#ffffff":c;return o().createElement("svg",{viewBox:"0 0 200 200"},o().createElement("defs",null,r&&r.filter((function(e){return e.icon})).map((function(e){return o().createElement("pattern",{id:e.id,viewBox:"0 0 1 1",width:"15%",height:"15%"},e.icon&&o().createElement("path",e.icon))})),r&&r.filter((function(e){return e.image})).map((function(e){return o().createElement("pattern",{id:e.id,width:"100%",height:"100%"},e.image&&o().createElement("image",e.image))}))),o().createElement("path",{fill:f,d:"M0 0 L200 0 L200 200 L0 200Z"}),n&&n.map((function(e){var r=e.type,n=u(e,i);return"polygon"===(r||t)&&o().createElement("path",a({},n,{d:"M20 20 L180 20 L180 180 L20 180Z"}))||"linestring"===(r||t)&&o().createElement("path",a({},n,{fill:"none",d:"M30 160 L100 40 L170 160"}))||"point"===(r||t)&&o().createElement("path",n)})),s&&s.map((function(e){var t=e.text,r=u(e,l);return o().createElement("text",a({x:"100",y:"100",textAnchor:"middle",alignmentBaseline:"middle"},r),t)})))}},619977:(e,t,r)=>{"use strict";r.d(t,{Z:()=>vn});var n=r(124852),o=r.n(n),i=r(675263),l=r.n(i),a=r(23279),u=r.n(a),s=r(313311),c=r.n(s),f=r(406557),d=r.n(f),p=r(80717),y=r(532425),m=r(701469),b=r.n(m),v=r(480681),g=r(513218),h=r.n(g),O=r(957557),S=r.n(O),k=r(414293),w=r.n(k),E=r(807654),j=r.n(E),P=r(983717),I=r(1036),T=r(398360),C=r(886056),A=r(10208),D=r(805346);const x=function(e){var t=e.children,r=e.label,n=e.tools,i=e.divider,l=e.invalid,a=e.warning,u=e.disabled;if(i)return o().createElement("div",{className:"ms-symbolizer-field-divider"});var s=a?" ms-symbolizer-value-warning":"",c=l?" ms-symbolizer-value-invalid":"",f=u?" ms-symbolizer-field-disabled":"";return o().createElement("div",{className:"ms-symbolizer-field"+f},o().createElement("div",{className:"ms-symbolizer-label"},o().createElement(D.Z,{msgId:r})),o().createElement("div",{className:"ms-symbolizer-value"+c+s,onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},t,o().createElement("div",{className:"ms-symbolizer-tools"},n)))};var F=r(290702),L=r(283958);const R=[{value:"Circle",label:"styleeditor.circle",preview:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Square",label:"styleeditor.square",preview:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Triangle",label:"styleeditor.triangle",preview:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Star",label:"styleeditor.star",preview:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Cross",label:"styleeditor.cross",preview:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"X",label:"styleeditor.x",preview:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"shape://vertline",label:"styleeditor.verticalLine",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://horline",label:"styleeditor.horizontalLine",preview:{type:"point",paths:[{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://slash",label:"styleeditor.slash",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://backslash",label:"styleeditor.backslash",preview:{type:"point",paths:[{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://dot",label:"styleeditor.dot",preview:{type:"point",paths:[{d:"M 95,100 105,100 Z",stroke:"#333333",strokeWidth:10,fill:"none"}]}},{value:"shape://plus",label:"styleeditor.plus",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://times",label:"styleeditor.times",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://oarrow",label:"styleeditor.openArrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://carrow",label:"styleeditor.closedArrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}}];var N=r(815135),Z=r(38560),z=(0,N.Z)(Z.Z);const W=function(e){var t=e.value,r=e.config,n=void 0===r?{}:r,i=e.onChange,l=void 0===i?function(){}:i,a=n.options,u=void 0===a?R:a,s=u.find((function(e){return e.value===t}));return o().createElement(F.Z,{content:o().createElement("div",{className:"ms-mark-list"},o().createElement("ul",null,u.map((function(e){return o().createElement("li",{key:e.value},o().createElement(z,{className:"ms-mark-preview",active:e.value===t,onClick:function(){return l(e.value)}},o().createElement(L.Z,e.preview)))}))))},o().createElement(z,{className:"ms-mark-preview"},s&&o().createElement(L.Z,s.preview)))};var M=r(743129);const V=function(e){var t=e.label,r=void 0===t?"styleeditor.band":t,n=e.value,i=e.bands,l=e.onChange,a=e.enhancementType;return o().createElement(o().Fragment,null,o().createElement(x,{label:r},o().createElement(M.ZP,{clearable:!1,options:i,value:n,onChange:function(e){return l("band",e.value)}})),o().createElement(x,{label:"styleeditor.contrastEnhancement"},o().createElement(M.ZP,{clearable:!1,options:[{label:o().createElement(D.Z,{msgId:"styleeditor.none"}),value:"none"},{label:o().createElement(D.Z,{msgId:"styleeditor.normalize"}),value:"normalize"},{label:o().createElement(D.Z,{msgId:"styleeditor.histogram"}),value:"histogram"}],value:a||"none",onChange:function(e){var t="none"===e.value?void 0:e.value;l("enhancementType",t)}})))};var U=r(993451),$=r(697111),B=r(99009);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}var K=(0,$.Z)("onChange","value")((0,U.Z)("placeholder")((function(e){return o().createElement(v.FormControl,q({},e,{onChange:function(t){return e.onChange(t.target.value)}}))}))),Y=(0,N.Z)(v.Glyphicon);function H(e){var t=e.value,r=e.onChange,i=e.onLoad,l=(0,n.useRef)(!0);(0,n.useEffect)((function(){return l.current=!0,function(){l.current=!1}}),[]);var a=_((0,n.useState)(!1),2),u=a[0],s=a[1],c=_((0,n.useState)(!0),2),f=c[0],d=c[1],p=_((0,n.useState)(t),2),m=p[0],b=p[1],g=function(e,t){b(e),s(!0),d(!1),(0,B.ZF)(e).then((function(t){if(l.current){var r=!1;t.isBase64&&(r={type:"warning",messageId:"imageSrcNotSupportedBase64Image"}),d(r),s(!1),i(r,e)}})).catch((function(t){if(l.current){var r=t.isBase64||"imageSrcLoadError"!==t.messageId?{type:"error",messageId:t.messageId}:{type:"warning",messageId:t.messageId};d(r),s(!1),i(r,e)}})),t&&r(e)},h=(0,n.useRef)(t);return(0,n.useEffect)((function(){g(h.current)}),[]),o().createElement("div",{className:"ms-style-editor-icon-input",style:{position:"relative",display:"flex",alignItems:"center"}},o().createElement(v.FormGroup,{style:{flex:1}},o().createElement(K,{style:{paddingRight:26},placeholder:"styleeditor.placeholderEnterImageUrl",value:t,debounceTime:300,onChange:function(e){return g(e,!0)}})),o().createElement("div",{style:{position:"absolute",minWidth:26,minHeight:26,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},m&&!f&&!u&&o().createElement("div",{className:"ms-style-editor-icon-input-image",style:{position:"absolute",margin:2,width:"calc(100% - 2px)",height:"calc(100% - 2px)",backgroundImage:"url(".concat(m,")"),backgroundPosition:"center",backgroundSize:"contain"}}),f&&o().createElement(Y,{glyph:"exclamation-sign",tooltipId:"styleeditor.".concat(f.messageId)}),u&&o().createElement(y.Z,{size:20})))}H.propTypes={value:l().bool,onChange:l().node,onLoad:l().object,onError:l().object},H.defaultProps={value:"",onChange:function(){},onLoad:function(){},onError:function(){}};const J=H;var X=r(611847),Q=["debounceTime"],ee=["fallbackValue"];function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}function oe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ie=(0,$.Z)("onChange","value")((0,U.Z)("placeholder")((function(e){e.debounceTime;var t=oe(e,Q);return o().createElement(v.FormControl,ne({},t,{onChange:function(e){return t.onChange(e.target.value)}}))})));const le=function(e){var t,r,i=e.fallbackValue,l=oe(e,ee),a=te((0,n.useState)(null!==(t=l.value)&&void 0!==t?t:i),2),u=a[0],s=a[1],c=te((0,n.useState)(null!==(r=l.value)&&void 0!==r?r:i),2),f=c[0],d=c[1],p=te((0,n.useState)(0),2),y=p[0],m=p[1],b=(0,n.useRef)(!1),v=(0,n.useRef)();function g(e){var t=!isNaN(parseFloat(e));return t&&void 0!==l.min&&e<l.min?{changed:!0,value:l.min}:t&&void 0!==l.max&&e>l.max?{changed:!0,value:l.max}:{changed:!1,value:t?parseFloat(e):e}}return v.current=u,(0,n.useEffect)((function(){var e;v.current!==l.value&&s(null!==(e=l.value)&&void 0!==e?e:i)}),[l.value]),o().createElement(ie,ne({},l,{key:y,value:u,onChange:function(e){if(b.current){var t=e,r=!0;if("number"===l.type){var n=g(t).changed;(""===t||n)&&(r=!1)}s(t),r&&l.onChange(t)}},onChangeNoDebounce:d,onBlur:function(){if("number"===l.type)if(""===f)l.onChange(void 0),s(i),m((function(e){return e+1}));else{var e=g(f).value;l.onChange(e),m((function(e){return e+1})),s(e)}b.current=!1},onFocus:function(){b.current=!0}}))};function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ue=(0,N.Z)(v.Glyphicon);function se(e){var t,r,i=e.disabled,l=e.value,a=e.onChange,u=void 0===a?function(){}:a,s=e.onError,c=void 0===s?function(){}:s,f=(t=(0,n.useState)(l),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],p=f[1],y=(0,X.Nw)(d);(0,n.useEffect)((function(){c(!y)}),[y]);return o().createElement("div",{className:"ms-style-editor-model-input",style:{position:"relative",display:"flex",alignItems:"center"}},o().createElement(v.FormGroup,{style:{flex:1}},o().createElement(le,{disabled:i,placeholder:"styleeditor.placeholderEnterModelUrl",style:{paddingRight:26},value:d,debounceTime:300,onChange:function(e){return function(e){p(e),(0,X.Nw)(e)&&u(e)}(e)}})),o().createElement("div",{style:{position:"absolute",minWidth:26,minHeight:26,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},y?d?o().createElement(ue,{glyph:"model"}):null:o().createElement(ue,{glyph:"exclamation-sign",tooltipId:"styleeditor.invalidModelUrl"})))}se.propTypes={value:l().bool,onChange:l().node},se.defaultProps={value:"",onChange:function(){}};const ce=se;var fe=r(984596),de=r.n(fe);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}var ye=["label","value","config","onChange","disabled"];function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},me.apply(this,arguments)}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Se=(0,U.Z)(["placeholder","noResultsText"])(M.ZP),ke=(0,U.Z)(["placeholder","noResultsText"])(M.ZP.Creatable);const we=function(e){e.label;var t=e.value,r=e.config,i=void 0===r?{}:r,l=i.getOptions,a=void 0===l?function(){return[]}:l,u=i.selectProps,s=void 0===u?{}:u,c=e.onChange,f=e.disabled,d=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ye),p=s.creatable,y=s.clearable,m=void 0!==y&&y,b=s.multi;function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=t.map((function(e){return e.value}));return(null==r?void 0:r.value)&&-1===n.indexOf(r.value)?[r].concat(function(e){if(Array.isArray(e))return Oe(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t}function h(e){return t?de()(t).map((function(e){return{value:e,label:e}})).reduce(g,e):e}var O,S,k=a(d),w=(O=(0,n.useState)(h(k)),S=2,function(e){if(Array.isArray(e))return e}(O)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(O,S)||he(O,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=w[0],j=w[1];(0,n.useEffect)((function(){j(h(k))}),[JSON.stringify(k)]);var P=p?ke:Se;return o().createElement(P,me({disabled:f,clearable:m,placeholder:"styleeditor.selectPlaceholder",noResultsText:"styleeditor.noResultsSelectInput"},s,{options:E.map((function(e){return ve(ve({},e),{},{label:e.labelId?o().createElement(o().Fragment,null,o().createElement(D.Z,{msgId:e.labelId}),e.glyphId&&o().createElement(v.Glyphicon,{style:{marginLeft:10},glyph:e.glyphId})):e.label})})),value:t,onChange:function(e){return b?c(e.length>0?e.map((function(e){return e.value})):void 0):(j(g(E,e)),c(e.value))}}))};function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}var je=["label","value","config","onChange","disabled"];function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ce=(0,U.Z)(["placeholder","noResultsText"])(M.ZP);const Ae=function(e){e.label;var t=e.value,r=e.config,n=void 0===r?{}:r,i=n.initialOptionValue,l=n.getSelectOptions,a=void 0===l?function(){return[]}:l,u=n.selectClearable,s=void 0!==u&&u,c=n.fallbackValue,f=e.onChange,d=e.disabled,p=a(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,je)).map((function(e){return Ie(Ie({},e),{},{label:e.labelId?o().createElement(D.Z,{msgId:e.labelId}):e.label})})),y="constant"===(null==t?void 0:t.type)?"constant":"attribute";return o().createElement("div",{className:"ms-style-editor-multi-input"},"constant"===(null==t?void 0:t.type)&&o().createElement(v.FormGroup,null,o().createElement(le,{type:"number",disabled:d,fallbackValue:c,value:null==t?void 0:t.value,placeholder:"styleeditor.placeholderInput",onChange:function(e){f(Ie(Ie({},t),{},{value:e}))}})),"constant"!==(null==t?void 0:t.type)&&o().createElement(v.FormGroup,null,o().createElement(Ce,{disabled:d,clearable:s,options:p,value:"initial"===(null==t?void 0:t.type)?i:null==t?void 0:t.name,onChange:function(e){e.value!==i?f({type:"attribute",name:e.value}):f({type:"initial"})}})),o().createElement(v.DropdownButton,{className:"square-button-md no-border",noCaret:!0,pullRight:!0,disabled:d,title:o().createElement(v.Glyphicon,{glyph:"option-vertical"})},[{labelId:"styleeditor.constantValue",value:"constant"},{labelId:"styleeditor.attributeValue",value:"attribute"}].map((function(e){return o().createElement(v.MenuItem,{key:e.value,active:y===e.value,onClick:function(){return r=e.value,void(t.type!==r&&f("attribute"===r&&i?{type:"initial"}:{type:r}));var r}},o().createElement(D.Z,{msgId:e.labelId}))}))))};var De=["label"],xe=["label","value","config","onChange"];function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Le.apply(this,arguments)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(e,t)||Ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ze(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ue={color:function(e){var t=e.label,r=e.config,i=void 0===r?{}:r,l=e.value,a=e.onChange,u=void 0===a?function(){}:a,s=e.disableAlpha,c=e.format,f=e.disabled,d=(0,n.useRef)({value:l});if(d.current={value:l},"pattern"==(h()(l)&&l.kind?"pattern":"solid")){var p=((null==i?void 0:i.getGroupParams(l.kind))||{}).params,y=void 0===p?{}:p,m=(null==i?void 0:i.getGroupConfig(l.kind))||{},b=l;return o().createElement(o().Fragment,null,o().createElement($e,{properties:b,params:m.omittedKeys?S()(y,m.omittedKeys):y,config:{disableAlpha:m.disableAlpha},onChange:function(e){return u(Me(Me({},d.current.value),e))},format:c}),o().createElement(x,{divider:!0}))}return o().createElement(x,{label:t,disabled:f},o().createElement(P.Z,{color:l,line:i.stroke,disabled:f,disableAlpha:i.disableAlpha||s,onChangeColor:function(e){return e&&u(e)}}))},slider:function(e){var t=e.label,r=e.value,n=e.disabled,i=e.config,l=void 0===i?{}:i,a=e.onChange,u=void 0===a?function(){}:a;return o().createElement(x,{label:t,disabled:n},o().createElement("div",{className:"mapstore-slider with-tooltip",onClick:function(e){e.stopPropagation()}},o().createElement(I.Z,{start:[r],disabled:n,tooltips:[!0],format:l.format,range:l.range||{min:0,max:10},onChange:function(e){return u(e)}})))},input:function(e){var t=e.label,r=e.value,n=e.config,i=void 0===n?{}:n,l=e.onChange,a=void 0===l?function(){}:l,u=e.disabled,s=e.placeholderId;return o().createElement(x,{label:t,disabled:u},o().createElement(v.FormGroup,null,o().createElement(v.InputGroup,{style:null!=i&&i.maxWidth?{maxWidth:null==i?void 0:i.maxWidth}:{}},o().createElement(le,{type:i.type||"text",value:r,disabled:u,min:i.min,max:i.max,fallbackValue:i.fallbackValue,placeholder:s,style:{zIndex:0},onChange:function(e){return a(e)}}),i.uom&&o().createElement(v.InputGroup.Addon,null,i.uom))))},multiInput:function(e){return o().createElement(x,{label:e.label,disabled:e.disabled},o().createElement(Ae,e))},toolbar:function(e){var t=e.label,r=e.value,n=e.onChange,i=void 0===n?function(){}:n,l=e.config,a=void 0===l?{}:l,u=e.disabled;return o().createElement(x,{label:t,disabled:u},o().createElement(p.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs"},buttons:(a.options||[]).map((function(e){var t=e.glyph,n=e.label,l=e.labelId,a=e.tooltipId,s=e.value;return Me(Me({glyph:t,tooltipId:a,disabled:u,text:l?o().createElement(D.Z,{msgId:l}):n},s===r&&{bsStyle:"primary"}),{},{onClick:function(){return i(r===s?void 0:s)}})}))}))},mark:function(e){var t=e.label,r=ze(e,De);return o().createElement(x,{label:t},o().createElement(W,r))},image:function(e){var t=e.label,r=e.value;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e.config);var i=e.onChange,l=Re((0,n.useState)(!1),2),a=l[0],u=l[1],s=h()(r)?r.src:r;return o().createElement(x,{label:t,invalid:!("error"!==(null==a?void 0:a.type)),warning:!("warning"!==(null==a?void 0:a.type))},o().createElement(J,{label:t,value:s,onChange:function(e){i(e),u(!1)},onLoad:function(e,t){u(e),e&&i({src:t,errorId:e.messageId})}}))},model:function(e){var t=e.label,r=e.value,i=e.onChange,l=e.disabled,a=Re((0,n.useState)(!1),2),u=a[0],s=a[1];return o().createElement(x,{label:t,invalid:u,disabled:l},o().createElement(ce,{disabled:l,label:t,value:r,onChange:i,onError:s}))},select:function(e){var t=e.label,r=e.value,n=e.config.isValid,i=e.visible;if(void 0!==i&&!i)return null;var l=!n||n({value:r});return o().createElement(x,{label:t,invalid:!l},o().createElement(we,e))},colorRamp:function(e){var t=e.label,r=e.value,n=e.config,i=n.samples,l=void 0===i?5:i,a=n.getOptions,u=void 0===a?function(){return[]}:a,s=n.rampFunction,c=void 0===s?function(e){return e.colors}:s,f=e.onChange,d=u(ze(e,xe));return o().createElement(x,{label:t},o().createElement(T.Z,{items:d,rampFunction:c,samples:l,value:{name:r},onChange:function(e){return f(e.name)}}))},colorMap:function(e){var t=e.value,r=e.onChange;return o().createElement("div",{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o().createElement(A.Z,{classification:t,onUpdateClasses:function(e,t){return r({classification:e,type:t})}}))},channel:function(e){var t,r,n,i=e.value,l=e.onChange,a=e.bands,u=i.channelSelection,s=u?u.grayChannel?"gray":"rgb":"auto",c=(a||[]).map((function(e){return{label:e,value:e}}));if("rgb"===s)return Object.keys(u).map((function(e){var t,r,n=null===(t=u[e])||void 0===t?void 0:t.sourceChannelName,a=null===(r=u[e])||void 0===r?void 0:r.contrastEnhancement;return o().createElement(o().Fragment,null,o().createElement(V,{key:e,value:n,bands:c,label:"styleeditor."+e,enhancementType:(null==a?void 0:a.enhancementType)||"none",onChange:function(t,r){return"band"===t?l({contrastEnhancement:{},channelSelection:Me(Me({},i.channelSelection),{},Ve({},e,Me(Me({},i.channelSelection[e]),{},{sourceChannelName:r})))}):"enhancementType"===t?l({contrastEnhancement:{},channelSelection:Me(Me({},i.channelSelection),{},Ve({},e,Me(Me({},i.channelSelection[e]),{},{contrastEnhancement:Me(Me({},u[e].contrastEnhancement),{},{enhancementType:r})})))}):null}}),o().createElement(x,{key:e+"-divider",divider:!0}))}));var f,d=void 0===(null==u||null===(t=u.grayChannel)||void 0===t?void 0:t.sourceChannelName)?"auto":null==u||null===(r=u.grayChannel)||void 0===r?void 0:r.sourceChannelName,p="auto"===s?i.contrastEnhancement:null==u||null===(n=u.grayChannel)||void 0===n?void 0:n.contrastEnhancement;return o().createElement(V,{label:"styleeditor.grayChannel",value:d,bands:[{label:o().createElement(D.Z,{msgId:"styleeditor.channelAuto"}),value:"auto"}].concat((f=c,function(e){if(Array.isArray(e))return Ze(e)}(f)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(f)||Ne(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),enhancementType:(null==p?void 0:p.enhancementType)||"none",onChange:function(e,t){return"band"===e?l("auto"===t?Me(Me({},i),{},{channelSelection:void 0}):{contrastEnhancement:{},channelSelection:{grayChannel:Me(Me({contrastEnhancement:{}},null==u?void 0:u.grayChannel),{},{sourceChannelName:t})}}):"enhancementType"===e?l("auto"===s?{channelSelection:void 0,contrastEnhancement:Me(Me({},i.contrastEnhancement),{},{enhancementType:t})}:{contrastEnhancement:{},channelSelection:Object.keys(u).reduce((function(e,r){return Me(Me({},e),{},Ve({},r,Me(Me({},u[r]),{},{contrastEnhancement:Me(Me({},u[r].contrastEnhancement),{},{enhancementType:t})})))}),{})}):null}})},dash:function(e){var t=e.label,r=e.value,n=e.onChange,i=e.config.options;return o().createElement(x,{label:t},o().createElement(C.Z,{dashArray:r,onChange:n,options:i,defaultStrokeWidth:2,isValidNewOption:function(e){return!!e.label&&!e.label.split(" ").find((function(e){return j()(parseFloat(e))}))},creatable:!0}))}};function $e(e){var t=e.properties,r=e.params,i=e.config,l=e.onChange,a=e.format,u=(0,n.useRef)({properties:t});return u.current={properties:t},o().createElement(o().Fragment,null,Object.keys(r).map((function(e){var n=r[e]||{},s=n.type,c=n.setValue,f=n.getValue,d=n.isDisabled,p=n.config,y=n.label,m=n.key,b=n.isVisible,v=m||e,g=Ue[s],h=c&&c(t[v],u.current.properties);return g&&o().createElement(g,Le({},i,{key:v,label:y||v,config:p,format:a,visible:b&&b(t[v],u.current.properties,a),disabled:d&&d(t[v],u.current.properties,i),value:w()(h)?t[v]:h,onChange:function(e){return l(f&&f(e,u.current.properties)||e)}}))})))}const Be=$e;var _e=r(984110),Ge=r.n(_e),qe=r(531071);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Ye(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return He(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?He(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){Qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ke(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ke(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var et=(0,N.Z)(Z.Z),tt=function(e){var t=e.filterObj,r=void 0===t?{groupFields:[{id:1,logic:"OR",index:0}]}:t,n=e.attributes,i=void 0===n?[]:n,l=e.format,a=e.groupLevels,u=void 0===a?0:a,s=e.onChange,c=void 0===s?function(){}:s,f=r.groupFields,d=r.filterFields;return o().createElement("div",{className:"ms-style-rule-filter"},o().createElement(qe.Z,{textFieldTooltipMessageId:{css:"queryform.attributefilter.tooltipTextFieldCSS","3dtiles":"queryform.attributefilter.tooltipTextField3DTiles"}[l],attributes:i,filterFields:d,groupFields:f,autocompleteEnabled:!1,groupLevels:u,withContainer:!1,listOperators:["="],stringOperators:["=","<>","like","isNull"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>"],logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"}],actions:{onAddGroupField:function(e,t){var r={id:(new Date).getTime(),logic:"OR",groupId:e,index:t+1};c({filterFields:d,groupFields:f?[].concat(Ye(f),[r]):[r]})},onAddFilterField:function(e){var t={rowId:(new Date).getTime(),groupId:e,attribute:null,operator:"",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};c({filterFields:d?[].concat(Ye(d),[t]):[t],groupFields:f})},onRemoveFilterField:function(e){c({filterFields:d.filter((function(t){return t.rowId!==e})),groupFields:f})},onUpdateFilterField:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};c({filterFields:d.map((function(i){return i.rowId===e?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Xe(Xe({},t),{},(Qe(e={},r.fieldName,r.fieldValue),Qe(e,"type",r.fieldType),Qe(e,"fieldOptions",Xe(Xe({},t.fieldOptions),{},{currentPage:void 0===r.fieldOptions.currentPage?1:r.fieldOptions.currentPage})),e));return"attribute"===r.fieldName?Xe(Xe({},n),{},{value:"string"===r.fieldType?"":null,operator:""}):"operator"===r.fieldName?Xe(Xe({},n),{},{value:null}):n}(i,{rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}):i})),groupFields:f})},onUpdateExceptionField:function(e,t){c({filterFields:d.map((function(r){return r.rowId===e?Xe(Xe({},r),{},{exception:t}):r})),groupFields:f})},onUpdateLogicCombo:function(e,t){c({filterFields:d,groupFields:f.map((function(r){return r.id===e?Xe(Xe({},r),{},{logic:t}):r}))})},onRemoveGroupField:function(e){c({filterFields:d.filter((function(t){return t.groupId!==e})),groupFields:f.filter((function(t){return t.id!==e}))})},onChangeCascadingValue:function(){}}}))};function rt(e){var t,r=e.value,n=e.hide,i=e.attributes,l=e.format,a=e.onChange,u=e.placement,s=void 0===u?"right":u;if(n||!i||0===i.length)return null;var c=(null==r||null===(t=r.filterFields)||void 0===t?void 0:t.length)>0;return o().createElement(F.Z,{placement:s,content:o().createElement(tt,{filterObj:r,attributes:i,format:l,onChange:function(e){return a({filter:e})}})},o().createElement(et,{className:"square-button-md no-border",active:c,tooltipId:"styleeditor.openFilterBuilder"},o().createElement(v.Glyphicon,{glyph:"filter"})))}function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==nt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===nt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function at(e,t){if(e){if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var st=(0,U.Z)(["placeholder","noResultsText"])(M.ZP.Creatable),ct=(0,N.Z)(Z.Z);function ft(e){var t=e.label,r=e.currentZoom;return o().createElement("span",null,t,r&&o().createElement(o().Fragment,null,"",o().createElement(v.Glyphicon,{glyph:"arrow-left"})))}function dt(e){var t=e.label,r=e.value,n=e.options,i=e.isValidNewOption,l=e.onChange;return o().createElement(x,{label:t},o().createElement(st,{placeholder:"styleeditor.selectScale",noResultsText:"styleeditor.noResultScales",value:r,options:n,optionRenderer:ft,valueRenderer:ft,isValidNewOption:function(e){if(e.label){var t=parseFloat(e.label);return!j()(t)&&i(t)}return!1},onChange:function(e){var t=(null==e?void 0:e.value)&&parseFloat(e.value);l(j()(t)?void 0:t)}}))}function pt(e){var t=e.value,r=e.zoom,i=e.scales,l=void 0===i?[]:i,a=e.onChange;function u(e,t){var r,n=e.map((function(e){return e.value}));return t&&-1===n.indexOf(t)?[{value:t}].concat((r=e,function(e){if(Array.isArray(e))return ut(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||at(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).sort((function(e,t){return e.value>t.value?-1:1})):e}var s,c,f=(0,n.useState)(function(e){var r=e.map((function(e,t){return{value:e,zoom:t}})),n=[t.min,t.max].filter((function(e){return void 0!==e}));return 0===n.length?r:n.reduce(u,r)}(l)),d=(c=2,function(e){if(Array.isArray(e))return e}(s=f)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(s,c)||at(s,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],y=d[1];return o().createElement("div",{className:"ms-style-rule-scale"},o().createElement(dt,{label:"styleeditor.maxScaleDenominator",value:t.max,options:p.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.min&&e.value<=t.min}})),isValidNewOption:function(e){return e>=t.min},onChange:function(e){a(it(it({},t),{},{max:e})),y(u(p,e))}}),o().createElement(dt,{label:"styleeditor.minScaleDenominator",value:t.min,options:p.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.max&&e.value>=t.max}})),isValidNewOption:function(e){return e<=t.max},onChange:function(e){a(it(it({},t),{},{min:e})),y(u(p,e))}}))}function yt(e){var t=e.value,r=void 0===t?{}:t,n=e.scales,i=void 0===n?[]:n,l=e.zoom,a=e.hide,u=e.onChange,s=e.placement,c=void 0===s?"right":s;return a?null:o().createElement(F.Z,{placement:c,content:o().createElement(pt,{value:r,zoom:l,scales:i,onChange:function(e){return u({scaleDenominator:e})}})},o().createElement(ct,{className:"square-button-md no-border",tooltipId:"styleeditor.openScaleDenominator",active:void 0!==r.min||void 0!==r.max},o().createElement(v.Glyphicon,{glyph:"1-ruler"})))}function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ht=function(e){var t=e.ruleBlock,r=e.symbolizerBlock;return"Raster"!==e.kind?[{value:"Simple",labelId:"styleeditor.simpleStyle",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[vt(vt({},e.defaultProperties),{},{symbolizerId:Ge()()})]}}},{value:"Classification",labelId:"styleeditor.classificationStyle",onSelect:function(e){var r=e.ruleId,n=e.symbolizerKind;return vt(vt(vt({},e.defaultProperties),t.Classification.defaultProperties),{},{ruleId:r,symbolizerKind:n})}},{value:"Mark",labelId:"styleeditor.patternMarkStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.defaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[vt(vt({},n),{},gt({symbolizerId:Ge()(),fill:void 0},o,vt({},r.Mark.defaultProperties)))]}}},{value:"Icon",labelId:"styleeditor.patternIconStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.defaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[vt(vt({},n),{},gt({symbolizerId:Ge()(),fill:void 0},o,vt({},r.Icon.defaultProperties)))]}}}]:[{value:"Gray",labelId:"styleeditor.singleBand",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[vt(vt({},r.Raster.defaultProperties),{},{symbolizerId:Ge()()})]}}},{value:"RGB",labelId:"styleeditor.rgbaBands",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[vt(vt({},r.Raster.defaultProperties),{},{channelSelection:{redChannel:{sourceChannelName:void 0,contrastEnhancement:{}},greenChannel:{sourceChannelName:void 0,contrastEnhancement:{}},blueChannel:{sourceChannelName:void 0,contrastEnhancement:{}}},symbolizerId:Ge()()})]}}},{value:"PseudoColor",labelId:"styleeditor.pseudoColor",onSelect:function(e){var r=e.ruleId;return vt(vt({},t.Raster.defaultProperties),{},{ruleId:r})}}]},Ot=function(e){var t=e.ruleKind,r=e.graphic,n=e.symbolizerKind,o=e.channelSelection;return"Raster"===t?"PseudoColor":"Raster"===n?null!=o&&o.redChannel?"RGB":"Gray":void 0!==t?t:null!=r&&r.kind?null==r?void 0:r.kind:"Simple"};function St(e){var t,r,n=e.ruleKind,i=e.symbolizerKind,l=e.ruleId,a=e.graphic,u=e.channelSelection,s=e.hide,c=e.ruleBlock,f=e.symbolizerBlock,d=e.getSelected,p=void 0===d?Ot:d,y=e.getOptions,m=void 0===y?ht:y,b=e.onSelect,g=m({ruleBlock:c,symbolizerBlock:f,kind:i}),h=i?f[i]:{},O=h.defaultProperties,S=h.params,k=void 0===S?{}:S,w=null==k||null===(t=k.color)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.graphicKey,E=p({ruleKind:n,symbolizerKind:i,graphic:a,channelSelection:u});return s?null:o().createElement(v.DropdownButton,{className:"square-button-md no-border",noCaret:!0,pullRight:!0,title:o().createElement(v.Glyphicon,{glyph:"option-vertical"})},g.map((function(e){return!e.isVisible||e.isVisible({graphicKey:w})?o().createElement(v.MenuItem,{key:e.value,active:E===e.value,onClick:function(){return t=e.value,r=e.onSelect({ruleId:l,ruleKind:n,symbolizerKind:i,defaultProperties:O,graphicKey:w}),t===E?null:b(r);var t,r}},o().createElement(D.Z,{msgId:e.labelId})):null})))}const kt=function(e){var t=e.className,r=e.glyph,n=e.tools,i=e.children,l=t?" "+t:"";return o().createElement("li",{className:"ms-symbolizer".concat(l)},o().createElement("div",{className:"ms-symbolizer-info"},r&&o().createElement(v.Glyphicon,{glyph:r}),o().createElement("div",{className:"ms-symbolizer-tools"},n)),i)};var wt=r(623560),Et=r.n(wt);function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}var Pt=["ruleId","glyph","params","kind","symbolizerKind","classificationType","attributes","onUpdate","onReplace","methods","getColors","ruleBlock","symbolizerBlock","bands","config"],It=["name"];function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){At(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function At(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==jt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const xt=function(e){var t=e.ruleId,r=e.glyph,i=e.params,l=e.kind,a=e.symbolizerKind,u=e.classificationType,s=void 0===u?"classificationVector":u,c=e.attributes,f=void 0===c?[]:c,d=e.onUpdate,p=e.onReplace,y=e.methods,m=e.getColors,b=void 0===m?function(){}:m,v=e.ruleBlock,g=void 0===v?{}:v,h=e.symbolizerBlock,O=void 0===h?{}:h,S=e.bands,k=e.config,w=Dt(e,Pt),E=w.ramp,j=w.method,P=w.classification,I=w.attribute,T=w.intervals,C=w.intervalsForUnique,A=void 0===C?(null==k?void 0:k.intervalsForUnique)||100:C,D=w.reverse,x=w.continuous,F=w.format,L=(0,n.useRef)();L.current={ruleId:t,intervals:T,intervalsForUnique:A,method:j,attribute:I,reverse:D,ramp:E,continuous:x,classification:P};var R=i.reduce((function(e,t){return Et()(t)?Ct(Ct({},e),t(a)):Ct(Ct({},e),t)}),{}),N=(O[a]||{}).glyph;return o().createElement(kt,{key:"Classification",glyph:N||r,tools:o().createElement(St,{ruleKind:l,symbolizerKind:a,ruleId:t,onSelect:p,ruleBlock:g,symbolizerBlock:O})},o().createElement(Be,{properties:w,format:F,config:{attributes:f,methods:y,getColors:function(){var e="custom"===E&&P.length>0&&{name:"custom",colors:P.map((function(e){return e.color}))},t=b(void 0,void 0,5,e);return t?t.map((function(e){var t=e.name,r=Dt(e,It);return Ct({label:t?"global.colors.".concat(t):void 0,name:t},r)})):[]},bands:S,method:j,methodEdit:null==w?void 0:w.methodEdit},params:R,onChange:function(e){return d(Ct(Ct({},L.current),{},{type:s,values:e}))}}))};var Ft=r(264721),Lt=r.n(Ft),Rt=r(618446),Nt=r.n(Rt),Zt=r(717621),zt=r.n(Zt),Wt=["a"];function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){$t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Bt=function(e){var t=e.key,r=void 0===t?"color":t,n=e.opacityKey,o=void 0===n?"opacity":n,i=e.graphicKey,l=e.label,a=void 0===l?"Fill":l,u=e.stroke,s=e.pattern,c=e.disableAlpha,f=e.getGroupParams,d=e.getGroupConfig,p=e.isDisabled;return{type:"color",label:a,config:{stroke:u,pattern:s,disableAlpha:c,getGroupParams:f,getGroupConfig:d,graphicKey:i},setValue:function(e,t){var r;if(s&&null!==(r=t[i])&&void 0!==r&&r.kind)return t[i];var n=w()(t[o])?1:t[o];return zt()(e).setAlpha(n).toRgb()},getValue:function(e){var t,n;if(s&&h()(e)&&e.kind)return $t(n={},i,e),$t(n,r,void 0),$t(n,o,void 0),n;var l=e||{},a=l.a,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(l,Wt);return Ut(($t(t={},r,zt()(Ut(Ut({},u),{},{a:1})).toHexString()),$t(t,o,a),t),s&&$t({},i,void 0))},isDisabled:p}},_t=function(e){var t=e.key,r=void 0===t?"width":t,n=e.label,o=void 0===n?"Width":n,i=e.fallbackValue,l=void 0===i?1:i,a=e.dasharrayKey,u=void 0===a?"dasharray":a,s=e.isDisabled;return{type:"input",label:o,config:{min:0,fallbackValue:l,type:"number",maxWidth:105,uom:"px"},setValue:function(e){return void 0===e?l:parseFloat(e)},getValue:function(e,t){var n=void 0===e?l:parseFloat(e),o=t[u],i=t[r];return Ut($t({},r,n),o&&$t({},u,n?o.map((function(e){return Math.round(e/i*n)})):void 0))},isDisabled:s}},Gt=function(e){var t=e.key,r=void 0===t?"dasharray":t,n=e.label;return{type:"dash",label:void 0===n?"Dash array":n,config:{options:[{value:"0"},{value:"1 4"},{value:"1 12"},{value:"8 8"},{value:"8 16"},{value:"8 8 1 8"},{value:"8 8 1 4 1 8"}]},setValue:function(e,t){var r=void 0===t.width?1:t.width;return void 0!==e?e.map((function(e){return Math.round(e/r)})):[0]},getValue:function(e,t){if(Nt()(e,["0"]))return $t({},r,void 0);var n=void 0===t.width?1:t.width,o=!(e||[]).find((function(e){return j()(parseFloat(e))}));return $t({},r,void 0!==e&&o?e.map((function(e){return parseFloat(e)*n})):void 0)}}},qt=function(e){var t=e.key,r=void 0===t?"cap":t,n=e.label;return{type:"toolbar",label:void 0===n?"Line cap":n,config:{options:[{labelId:"styleeditor.lineCapButt",value:"butt"},{labelId:"styleeditor.lineCapRound",value:"round"},{labelId:"styleeditor.lineCapSquare",value:"square"}]},getValue:function(e){return $t({},r,e)},isDisabled:e.isDisabled}},Kt=function(e){var t=e.key,r=void 0===t?"join":t,n=e.label;return{type:"toolbar",label:void 0===n?"Line join":n,config:{options:[{labelId:"styleeditor.lineJoinBevel",value:"bevel"},{labelId:"styleeditor.lineJoinRound",value:"round"},{labelId:"styleeditor.lineJoinMiter",value:"miter"}]},getValue:function(e){return $t({},r,e)},isDisabled:e.isDisabled}},Yt=function(e){var t=e.key,r=void 0===t?"colorMapType":t,n=e.label;return{type:"toolbar",label:void 0===n?"Color map type":n,config:{options:[{labelId:"styleeditor.colorMapType.ramp",value:"ramp"},{labelId:"styleeditor.colorMapType.intervals",value:"intervals"},{labelId:"styleeditor.colorMapType.values",value:"values"}]},getValue:function(e){return $t({},r,e)},isDisabled:e.isDisabled}},Ht=function(e){var t,r=e.key,n=void 0===r?"radius":r,o=e.label,i=void 0===o?"Radius":o,l=e.range,a=e.fallbackValue,u=void 0===a?1:a;return{type:"input",label:i,config:{fallbackValue:u,type:"number",maxWidth:105,uom:"px",min:null!==(t=null==l?void 0:l.min)&&void 0!==t?t:0,max:null==l?void 0:l.max},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return void 0===e?u:parseFloat(e)},getValue:function(e){return $t({},n,void 0===e?u:parseFloat(e))}}},Jt=function(e){var t=e.key,r=void 0===t?"scale":t,n=e.label,o=void 0===n?"Scale":n,i=e.min,l=e.max,a=e.fallbackValue,u=e.maxWidth,s=e.uom,c=e.isDisabled;return{type:"input",label:o,config:{min:i,max:l,fallbackValue:a,type:"number",maxWidth:u,uom:s},setValue:function(e){return void 0===e?a:parseFloat(e)},getValue:function(e){return $t({},r,void 0===e?void 0:parseFloat(e))},isDisabled:c}},Xt=function(e){var t=e.key,r=void 0===t?"opacity":t,n=e.label;return{type:"slider",label:void 0===n?"Opacity":n,config:{range:{min:0,max:1}},setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return $t({},r,parseFloat(t))}}},Qt=function(e){var t=e.key,r=void 0===t?"offset":t,n=e.label,o=void 0===n?"":n,i=e.axis,l=void 0===i?"":i,a=e.fallbackValue,u=void 0===a?0:a;return{key:r,type:"input",label:o,config:{fallbackValue:u,type:"number",maxWidth:105,uom:"px"},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="y"===l?parseFloat(e[1]):parseFloat(e[0]);return void 0===t?u:parseFloat(t)},getValue:function(e,t){var n=void 0===e?u:parseFloat(e),o=t[r]||[0,0];return $t({},r,"y"===l?[o[0],n]:[n,o[1]])}}},er=function(e){var t=e.key,r=void 0===t?"rotate":t,n=e.label,o=void 0===n?"Rotation (deg)":n,i=e.fallbackValue,l=void 0===i?0:i;return{type:"input",label:o,config:{fallbackValue:l,type:"number",maxWidth:105,uom:""},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===e?l:parseFloat(e)},getValue:function(e){return $t({},r,void 0===e?l:parseFloat(e))}}},tr=function(e){var t=e.key,r=void 0===t?"msClampToGround":t,n=e.label;return{type:"toolbar",label:void 0===n?"Clamp to ground":n,config:{options:[{labelId:"styleeditor.boolTrue",value:!0},{labelId:"styleeditor.boolFalse",value:!1}]},getValue:function(e){return $t({},r,e)},setValue:function(e){return!!e},isDisabled:e.isDisabled}},rr=function(e){var t=e.key,r=void 0===t?"msBringToFront":t,n=e.label;return{type:"toolbar",label:void 0===n?"Arrange":n,config:{options:[{labelId:"styleeditor.boolTrue",value:!0},{labelId:"styleeditor.boolFalse",value:!1}]},getValue:function(e){return $t({},r,e)},setValue:function(e){return!!e},isDisabled:e.isDisabled}},nr=function(e){var t=e.key,r=void 0===t?"msClassificationType":t,n=e.label;return{type:"toolbar",label:void 0===n?"PolygonType":n,config:{options:[{labelId:"styleeditor.3dTile",value:"3d"},{labelId:"styleeditor.terrain",value:"terrain"},{labelId:"styleeditor.both",value:"both"}]},getValue:function(e){return $t({},r,e)},isDisabled:e.isDisabled}},or=function(e){var t=e.key,r=void 0===t?"msHeightReference":t,n=e.label;return{type:"toolbar",label:void 0===n?"Height reference from ground":n,config:{options:[{labelId:"styleeditor.none",value:"none"},{labelId:"styleeditor.relative",value:"relative"},{labelId:"styleeditor.clamp",value:"clamp"}]},getValue:function(e){return Ut($t({},r,e),"clamp"===e&&{msHeight:void 0})},isDisabled:e.isDisabled}},ir=function(e){var t=e.label,r=e.key,n=void 0===r?"wellKnownName":r;return{type:"mark",label:t,getValue:function(){return $t({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},lr=function(e){var t=e.label,r=e.key,n=void 0===r?"image":r;return{type:"image",label:t,config:{},getValue:function(){return $t({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},ar=function(e){var t=e.label,r=e.key,n=void 0===r?"model":r;return{type:"model",label:t,config:{},getValue:function(){return $t({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},isDisabled:e.isDisabled}},ur=function(e){var t=e.label,r=e.key,n=void 0===r?"fontStyle":r;return{type:"toolbar",label:t,config:{options:[{labelId:"styleeditor.fontStyleNormal",value:"normal"},{labelId:"styleeditor.fontStyleItalic",value:"italic"}]},getValue:function(){return $t({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},sr=function(e){var t=e.label,r=e.key,n=void 0===r?"fontWeight":r;return{type:"toolbar",label:t,config:{options:[{labelId:"styleeditor.fontWeightNormal",value:"normal"},{labelId:"styleeditor.fontWeightBold",value:"bold"}]},getValue:function(){return $t({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},cr=function(e){var t=e.key,r=void 0===t?"label":t;return{type:"toolbar",label:e.label,config:{options:[{labelId:"styleeditor.boolTrue",value:!0},{labelId:"styleeditor.boolFalse",value:!1}]},isDisabled:e.isDisabled,getValue:function(e){return $t({},r,e)}}},fr=function(e){var t=e.key,r=void 0===t?"intervals":t,n=e.label,o=e.isDisabled;return{type:"slider",label:n,config:{range:{min:2,max:25},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}},isDisabled:void 0===o?function(e,t){return"customInterval"===(null==t?void 0:t.method)}:o,setValue:function(){return parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:2)},getValue:function(){return $t({},r,parseFloat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]))}}},dr=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions;return{type:"select",label:t,config:{getOptions:void 0===o?function(){return[]}:o,selectProps:e.selectProps,isValid:e.isValid},getValue:function(e){return $t({},n,e)},isDisabled:e.isDisabled,isVisible:e.isVisible}},pr=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.initialOptionValue,i=e.getSelectOptions,l=void 0===i?function(){return[]}:i,a=e.isDisabled,u=e.isVisible,s=e.fallbackValue,c=void 0===s?0:s;return{type:"multiInput",label:t,config:{initialOptionValue:o,getSelectOptions:l,fallbackValue:c},setValue:function(e){return void 0===e?{type:"initial"}:h()(e)?e:{type:"constant",value:void 0===e?c:parseFloat(e)}},getValue:function(e){return"initial"===(null==e?void 0:e.type)?$t({},n,void 0):"constant"===(null==e?void 0:e.type)?$t({},n,void 0===(null==e?void 0:e.value)?c:parseFloat(e.value)):$t({},n,e)},isDisabled:a,isVisible:u}},yr=function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions;return{type:"colorRamp",label:t,config:{getOptions:void 0===o?function(){return[]}:o},getValue:function(){return $t({},n,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},mr=function(e){var t=e.label,r=e.key,n=void 0===r?"":r;return{type:"colorMap",label:t,getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.classification,o=e.type,i="customInterval"===t.method,l="interval"===o||i,a="color"===o||"custom"===t.ramp;return Ut(Ut($t({},n,r),l&&{method:"customInterval",methodEdit:i?t.methodEdit:t.method}),a&&{ramp:"custom"})}}},br=function(e){return{type:"channel",label:e.label,setValue:function(e,t){return{channelSelection:t.channelSelection,contrastEnhancement:t.contrastEnhancement}},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{channelSelection:e.channelSelection,contrastEnhancement:e.contrastEnhancement}}}};function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){Or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e){return function(e){if(Array.isArray(e))return kr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wr=function(e){var t=e.label,r=void 0===t?"styleeditor.clampToGround":t,n=e.isDisabled;return{msClampToGround:tr({label:r,isDisabled:n})}},Er="@ms-INITIAL_OPTION_VALUE",jr=function(e){var t=e.isDisabled;return{msHeightReference:or({label:"styleeditor.heightReferenceFromGround",isDisabled:t}),msHeight:pr({label:"styleeditor.height",key:"msHeight",isDisabled:function(e,r){return t()||"clamp"===(null==r?void 0:r.msHeightReference)},initialOptionValue:Er,getSelectOptions:function(e){var t=e.attributes,r=(null==t?void 0:t.map((function(e){var t=e.label,r=e.attribute;return"number"===e.type?{label:t,value:r}:null})).filter((function(e){return!!e})))||[];return[{labelId:"styleeditor.pointHeight",value:Er}].concat(Sr(r))}}),msLeaderLineColor:Bt({key:"msLeaderLineColor",opacityKey:"msLeaderLineOpacity",label:"styleeditor.leaderLineColor",stroke:!0,isDisabled:t}),msLeaderLineWidth:_t({key:"msLeaderLineWidth",label:"styleeditor.leaderLineWidth",fallbackValue:0,isDisabled:t})}},Pr=function(e){var t=e.isDisabled;return hr({msBringToFront:rr({label:"styleeditor.msBringToFront",isDisabled:t})},jr({isDisabled:t}))};const Ir=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.exactMatchGeometrySymbol,o=r.enable3dStyleOptions,i=void 0===o,l={Mark:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:n?["point","vector"]:["point","linestring","polygon","vector"],params:hr({wellKnownName:ir({label:"styleeditor.shape"}),color:Bt({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),strokeColor:Bt({key:"strokeColor",opacityKey:"strokeOpacity",label:"styleeditor.strokeColor",stroke:!0}),strokeWidth:_t({key:"strokeWidth",label:"styleeditor.strokeWidth"}),radius:Ht({key:"radius",label:"styleeditor.radius"}),rotate:er({label:"styleeditor.rotation"})},!i&&Pr({isDisabled:function(){return!o}})),defaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,strokeColor:"#777777",strokeOpacity:1,strokeWidth:1,radius:16,rotate:0,msBringToFront:!1,msHeightReference:"none"}},Icon:{kind:"Icon",glyph:"point",glyphAdd:"point-plus",tooltipAddId:"styleeditor.addIconRule",supportedTypes:n?["point","vector"]:["point","linestring","polygon","vector"],hideMenu:!0,params:hr({image:lr({label:"styleeditor.image",key:"image"}),format:dr({label:"styleeditor.format",key:"format",isVisible:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).image;return"css"!==(arguments.length>2?arguments[2]:void 0)&&!h()(t)&&!["png","jpg","svg","gif","jpeg"].includes(t.split(".").pop())},getOptions:function(){return B.qL}}),opacity:Xt({label:"styleeditor.opacity"}),size:Ht({key:"size",label:"styleeditor.size"}),rotate:er({label:"styleeditor.rotation"})},!i&&Pr({isDisabled:function(){return!o}})),defaultProperties:{kind:"Icon",image:"",opacity:1,size:32,rotate:0,msBringToFront:!1,msHeightReference:"none"}},Line:{kind:"Line",glyph:"line",glyphAdd:"line-plus",tooltipAddId:"styleeditor.addLineRule",supportedTypes:n?["linestring","vector"]:["linestring","polygon","vector"],params:hr({color:Bt({label:"styleeditor.strokeColor",stroke:!0,pattern:!0,getGroupParams:function(e){return l[e]},getGroupConfig:function(e){return"Mark"===e?{disableAlpha:!0}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}},graphicKey:"graphicStroke"}),width:_t({label:"styleeditor.strokeWidth",key:"width"}),dasharray:Gt({label:"styleeditor.lineStyle",key:"dasharray"}),cap:qt({label:"styleeditor.lineCap",key:"cap",isDisabled:function(){return!!o}}),join:Kt({label:"styleeditor.lineJoin",key:"join",isDisabled:function(){return!!o}})},!i&&wr({label:"styleeditor.clampToGround",isDisabled:function(){return!o}})),defaultProperties:{kind:"Line",color:"#777777",width:1,opacity:1,cap:"round",join:"round",msClampToGround:!0}},Fill:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polygon","vector"],params:hr(hr({color:Bt({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(e){return l[e]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}}),outlineColor:Bt({key:"outlineColor",opacityKey:"outlineOpacity",label:"styleeditor.outlineColor",stroke:!0}),outlineWidth:_t({key:"outlineWidth",label:"styleeditor.outlineWidth"})},!i&&wr({label:"styleeditor.clampOutlineToGround",isDisabled:function(){return!o}})),!i&&(e={isDisabled:function(e,t){return!(null!=t&&t.msClampToGround&&o)}},t=e.isDisabled,{msClassificationType:nr({label:"styleeditor.classificationtype",isDisabled:t})})),defaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1,outlineColor:"#777777",outlineWidth:1,msClassificationType:"both",msClampToGround:!0}},PointCloud:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:["pointcloud"],hideMenu:!0,params:{color:Bt({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),radius:Ht({key:"radius",label:"styleeditor.radius",range:{min:1,max:10}})},defaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,radius:1}},Polyhedron:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polyhedron"],hideMenu:!0,params:{color:Bt({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(e){return l[e]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}})},defaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1}},Model:{kind:"Model",glyph:"model",glyphAdd:"model-plus",disableAdd:function(){return!o},tooltipAddId:"styleeditor.addModelRule",supportedTypes:["point","vector"],hideMenu:!0,params:hr({model:ar({label:"styleeditor.model",key:"model",isDisabled:function(){return!o}}),scale:Jt({key:"scale",label:"styleeditor.scale",fallbackValue:1,maxWidth:80,isDisabled:function(){return!o}}),pitch:Jt({key:"pitch",label:"styleeditor.pitch",fallbackValue:0,maxWidth:105,uom:"",isDisabled:function(){return!o}}),roll:Jt({key:"roll",label:"styleeditor.roll",fallbackValue:0,maxWidth:105,uom:"",isDisabled:function(){return!o}}),heading:Jt({key:"heading",label:"styleeditor.heading",fallbackValue:0,maxWidth:105,uom:"",isDisabled:function(){return!o}}),color:Bt({key:"color",opacityKey:"opacity",label:"styleeditor.color",isDisabled:function(){return!o}})},jr({isDisabled:function(){return!o}})),defaultProperties:{kind:"Model",model:"",scale:1,color:"#ffffff",opacity:1,msHeightReference:"none"}},Text:{kind:"Text",glyph:"font",tooltipAddId:"styleeditor.addTextRule",supportedTypes:n?["point","vector"]:["point","linestring","polygon","vector"],params:hr({label:dr({key:"label",label:"styleeditor.label",selectProps:{creatable:!0},getOptions:function(e){var t=e.attributes;return(null==t?void 0:t.map((function(e){return{value:"{{"+e.attribute+"}}",label:e.attribute}})))||[]}}),font:dr({key:"font",label:"styleeditor.fontFamily",selectProps:{multi:!0},getOptions:function(e){var t=e.fonts;return(null==t?void 0:t.map((function(e){return{value:e,label:e}})))||[]}}),color:Bt({label:"styleeditor.fontColor",key:"color",disableAlpha:!0}),size:Ht({label:"styleeditor.fontSize",key:"size"}),fontStyle:ur({label:"styleeditor.fontStyle",key:"fontStyle"}),fontWeight:sr({label:"styleeditor.fontWeight",key:"fontWeight"}),haloColor:Bt({label:"styleeditor.haloColor",key:"haloColor",stroke:!0,disableAlpha:!0}),haloWidth:_t({label:"styleeditor.haloWidth",key:"haloWidth"}),rotate:er({label:"styleeditor.rotation"}),offsetX:Qt({label:"styleeditor.offsetX",axis:"x"}),offsetY:Qt({label:"styleeditor.offsetY",axis:"y"})},!i&&Pr({isDisabled:function(){return!o}})),defaultProperties:{kind:"Text",color:"#333333",size:14,fontStyle:"normal",fontWeight:"normal",haloColor:"#ffffff",haloWidth:1,allowOverlap:!0,offset:[0,0],msBringToFront:!1,msHeightReference:"none"}},Raster:{kind:"Raster",glyph:"1-raster",tooltipAddId:"styleeditor.addRasterRule",supportedTypes:["raster"],params:{channel:br({}),opacity:Xt({label:"styleeditor.opacity"})},defaultProperties:{kind:"Raster",opacity:1,contrastEnhancement:{}}}},a={Classification:{kind:"Classification",glyph:"list",classificationType:"classificationVector",hideInputLabel:!0,hideFilter:!0,params:[{ramp:yr({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:cr({key:"reverse",label:"styleeditor.reverse",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),attribute:dr({key:"attribute",label:"styleeditor.attribute",isValid:function(e){return void 0!==e.value},getOptions:function(e){var t=e.attributes;return null==t?void 0:t.map((function(e){return{value:e.attribute,label:e.attribute,disabled:e.disabled}}))}}),method:dr({key:"method",label:"styleeditor.method",isDisabled:function(e,t,r){var n,o,i=r.attributes;return"string"===(null==i||null===(n=i.filter((function(e){return e.label===(null==t?void 0:t.attribute)})))||void 0===n||null===(o=n[0])||void 0===o?void 0:o.type)&&"customInterval"!==(null==t?void 0:t.method)},getOptions:function(e){var t=e.methods,r=e.method,n=e.methodEdit,o=(null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}})))||[];return[].concat(Sr("customInterval"===r?[{labelId:"styleeditor."+n,glyphId:"edit",value:r}]:[]),Sr(o))}}),intervals:fr({label:"styleeditor.intervals",isDisabled:function(e,t){return Lt()(["customInterval","uniqueInterval"],null==t?void 0:t.method)}})},function(e){var t,r,n,o;if(!e)return{};switch(e){case"Mark":return hr({fillOpacity:Xt({key:"fillOpacity",label:"styleeditor.opacity"})},S()(null===(t=l[e])||void 0===t?void 0:t.params,["color"]));case"Line":return hr({opacity:Xt({key:"opacity",label:"styleeditor.opacity"})},S()(null===(r=l[e])||void 0===r?void 0:r.params,["color"]));case"Fill":return hr({fillOpacity:Xt({key:"fillOpacity",label:"styleeditor.opacity"})},S()(null===(n=l[e])||void 0===n?void 0:n.params,["color"]));default:return null===(o=l[e])||void 0===o?void 0:o.params}},{classification:mr({key:"classification",rampKey:"ramp"})}],defaultProperties:{kind:"Classification",classification:[],intervals:5,method:"equalInterval",ramp:"orrd",reverse:!1}},Raster:{kind:"Raster",glyph:"1-raster",classificationType:"classificationRaster",hideInputLabel:!1,hideFilter:!0,params:[{channel:br({}),opacity:Xt({label:"styleeditor.opacity"}),ramp:yr({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:cr({key:"reverse",label:"styleeditor.reverse",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),continuous:cr({key:"continuous",label:"styleeditor.continuous",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),colorMapType:Yt({key:"colorMapType",label:"styleeditor.colorMapType.label"}),method:dr({key:"method",label:"styleeditor.method",getOptions:function(e){var t=e.methods,r=e.method,n=e.methodEdit,o=(null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}})))||[];return[].concat(Sr("customInterval"===r?[{labelId:"styleeditor."+n,glyphId:"edit",value:r}]:[]),Sr(o))}}),intervals:fr({label:"styleeditor.intervals"})},{classification:mr({key:"classification",rampKey:"ramp"})}],defaultProperties:{kind:"Raster",opacity:1,classification:[],intervals:5,method:"equalInterval",reverse:!1,continuous:!0,colorMapType:"ramp",symbolizerKind:"Raster"}}};return{symbolizerBlock:l,ruleBlock:a}};var Tr=r(180307),Cr=r(590937);function Ar(e){var t=e.title,r=e.tools,i=e.errorId,l=e.msgParams,a=e.draggable,u=e.connectDragSource,s=e.connectDropTarget,c=e.isDragging,f=e.children,d=(0,n.useRef)(null);a&&(u(d.current),s(d.current));var p=c?" ms-drop-target":"";return o().createElement("li",{ref:d,className:"ms-style-rule".concat(p)},o().createElement("div",{className:"ms-style-rule-head"},a&&o().createElement("div",{className:"ms-style-rule-grab-handle"},o().createElement(v.Glyphicon,{glyph:"grab-handle"})),o().createElement("div",{className:"ms-style-rule-head-info"},t),o().createElement("div",{className:"ms-style-rule-head-tools"},r)),i&&o().createElement(v.Alert,{bsStyle:"danger"},o().createElement(D.Z,{msgId:i,msgParams:l})),o().createElement("ul",{className:"ms-style-rule-body"},f))}Ar.propTypes={title:l().oneOfType([l().node,l().string]),tools:l().node,errorId:l().string,draggable:l().bool,connectDragSource:l().func,connectDropTarget:l().func,isDragging:l().bool},Ar.defaultProps={connectDragSource:function(e){return e},connectDropTarget:function(e){return e}};var Dr="RULE";const xr=(0,Cr.GR)(Dr,{hover:function(e,t,r){!function(e,t,r){if(!r)return null;var n=(0,Tr.findDOMNode)(r);if(!n)return null;var o=t.getItem().index,i=e.index;if(o===i)return null;var l=n.getBoundingClientRect(),a=l.bottom,u=l.top,s=(a-u)/2,c=t.getClientOffset().y-u;o<i&&c<s||o>i&&c>s||(e.onSort(o,i),t.getItem().index=i)}(e,t,r)}},(function(e){return{connectDropTarget:e.dropTarget()}}))((0,Cr.Ej)(Dr,{beginDrag:function(e){return{id:e.id,index:e.index}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Ar));var Fr=r(202576),Lr=["ruleId"],Rr=["kind","symbolizerId"];function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zr.apply(this,arguments)}function zr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Wr(e){return function(e){if(Array.isArray(e))return Mr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){$r(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Nr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Br=(0,N.Z)(Z.Z),_r=(0,U.Z)("placeholder")(v.FormControl);function Gr(){return o().createElement("div",{style:{position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}},o().createElement("div",null,o().createElement(v.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),o().createElement("h1",null,o().createElement(D.Z,{msgId:"styleeditor.emptyRuleEditorTitle"})),o().createElement("p",null,o().createElement(D.Z,{msgId:"styleeditor.emptyRuleEditor"}))))}var qr=(0,n.forwardRef)((function(e,t){var r=e.rules,i=void 0===r?[]:r,l=e.loading,a=e.toolbar,u=e.config,s=void 0===u?{}:u,f=e.ruleBlock,d=void 0===f?{}:f,y=e.symbolizerBlock,m=void 0===y?{}:y,g=e.onUpdate,h=void 0===g?function(){}:g,O=e.onChange,S=void 0===O?function(){}:O,k=s.geometryType,w=s.attributes,E=s.bands,j=s.scales,P=s.zoom,I=s.fonts,T=s.methods,C=s.getColors,A=s.classification,x=s.format,F=s.simple,L=(0,n.useRef)();function R(e,t){var r=e.values,n=e.ruleId,o=e.symbolizerId;if(t){var i=L.current.rules.map((function(e){return e.ruleId===n?Ur(Ur({},e),r):e}));return S(i)}var l=L.current.rules.map((function(e){return e.symbolizers?Ur(Ur({},e),{},{symbolizers:e.symbolizers.map((function(t){return t.symbolizerId===o&&e.ruleId===n?Ur(Ur({},t),r):t}))}):e}));return S(l)}function N(e){var t=[e].concat(Wr(L.current.rules));S(t)}function Z(e){var t=e.ruleId,r=zr(e,Lr),n=L.current.rules.map((function(e){return e.ruleId===t?Ur({ruleId:t},r):e}));return S(n)}function z(e,t){var r=c()(L.current.rules,(function(t,r){return r===e})),n=L.current.rules.reduce((function(n,o,i){return i===e?n:[].concat(Wr(n),i===t?e>t?[r,o]:[o,r]:[o])}),[]);return S(n)}function W(e,t){var r=e.symbolizers,n=void 0===r?[]:r;return!!c()(n,(function(e){return"Text"===e.kind}))&&t>0}return L.current={rules:i},o().createElement("div",{ref:t,className:"ms-style-rules-editor"},o().createElement("div",{className:"ms-style-rules-editor-head"},o().createElement("div",{className:"ms-style-rules-editor-left"},a),o().createElement("div",{className:"ms-style-rules-editor-right"},o().createElement(p.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[].concat(Wr(Object.keys(m).map((function(e){var t=m[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(k),tooltipId:t.tooltipAddId,disabled:!(null==t||!t.disableAdd)&&t.disableAdd(),onClick:function(){return N({name:"",ruleId:Ge()(),symbolizers:[Ur(Ur({},m[e].defaultProperties),{},{symbolizerId:Ge()()})]})}}}))),Wr(Object.keys(d).filter((function(e){return d[e].add})).map((function(e){var t=d[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(k),tooltipId:t.tooltipAddId,onClick:function(){return N(Ur({name:"",ruleId:Ge()()},d[e].defaultProperties))}}}))))}))),o().createElement("ul",{className:"ms-style-rules-editor-body"},0===i.length&&o().createElement(Gr,null),i.map((function(e,t){var r,n=e.name,l=e.symbolizers,a=void 0===l?[]:l,u=e.filter,s=e.scaleDenominator,c=void 0===s?{}:s,f=e.ruleId,p=e.kind,y=e.errorId,g=e.msgParams,O=d[p]||{},N=O.params,M=O.glyph,V=O.hideInputLabel,U=O.hideFilter,$=O.hideScaleDenominator,B=O.classificationType,_=!!b()(w)&&"number"===(null===(r=w.find((function(t){return t.label===(null==e?void 0:e.attribute)}))||{})||void 0===r?void 0:r.type);return o().createElement(xr,{key:f+(i.length>1?"_draggable":""),draggable:i.length>1,id:f,index:t,errorId:y,msgParams:g,onSort:z,title:V?o().createElement(D.Z,{msgId:"styleeditor.rule".concat(p)}):o().createElement(v.FormGroup,{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o().createElement(_r,{value:n,placeholder:"styleeditor.enterLegendLabelPlaceholder",onChange:function(e){return R({values:{name:e.target.value},ruleId:f},!0)}})),tools:o().createElement(o().Fragment,null,W(e,t)&&o().createElement(Fr.Z,{glyph:"exclamation-mark",bsStyle:"warning",placement:"right",title:o().createElement(D.Z,{msgId:"styleeditor.warningTextOrderTitle"}),text:o().createElement(D.Z,{msgId:"styleeditor.warningTextOrder"})}),o().createElement(rt,{hide:U,value:u,attributes:w,format:x,onChange:function(e){return R({values:e,ruleId:f},!0)}}),j&&o().createElement(yt,{hide:$,value:c,scales:j,zoom:P,onChange:function(e){return R({values:e,ruleId:f},!0)}}),o().createElement(Br,{className:"square-button-md no-border",tooltipId:"styleeditor.removeRule",onClick:function(){return function(e){var t=L.current.rules.filter((function(t){return t.ruleId!==e}));S(t)}(f)}},o().createElement(v.Glyphicon,{glyph:"trash"})))},"Classification"===p||"Raster"===p?o().createElement(xt,Zr({},e,{ruleBlock:d,symbolizerBlock:m,glyph:M,classificationType:B,config:A||{},params:N,methods:T,getColors:C,bands:E,attributes:w&&w.map((function(t){return Ur(Ur({},t),"customInterval"===e.method?{disabled:_?"number"!==t.type:t.label!==e.attribute}:"uniqueInterval"!==e.method&&{disabled:"number"!==t.type})})),onUpdate:h,onChange:function(e){return R({values:e,ruleId:f},!0)},onReplace:Z,format:x})):a.map((function(e){var t=e.kind,r=void 0===t?"":t,n=e.symbolizerId,i=zr(e,Rr),l=function(e){var t=Object.keys(m).filter((function(e){return m[e].supportedTypes.includes(k)})).find((function(t){var r;return(null===(r=m[t])||void 0===r?void 0:r.kind)===e}));return m[t]||m[e]||{}}(r),a=l.params,u=l.glyph,s=l.hideMenu;return a&&o().createElement(kt,{key:n,defaultExpanded:!0,draggable:!0,glyph:u,tools:!F&&o().createElement(St,{hide:s,symbolizerKind:r,ruleBlock:d,symbolizerBlock:m,ruleId:f,onSelect:Z,graphic:i.graphicFill||i.graphicStroke,channelSelection:i.channelSelection})},o().createElement(Be,{properties:i,format:x,params:a,config:{bands:E,attributes:w,fonts:I},onChange:function(e){return R({values:e,ruleId:f,symbolizerId:n})}}))})))})),l&&o().createElement("div",{className:"ms-style-rule-overlay-loader",style:{position:"absolute",width:"100%",height:"100%",zIndex:10,transition:"0.3s all"}})))})),Kr=Ir(),Yr=Kr.symbolizerBlock,Hr=Kr.ruleBlock;qr.propTypes={rules:l().array,loading:l().bool,toolbar:l().node,config:l().object,ruleBlock:l().object,symbolizerBlock:l().object,onUpdate:l().func,onChange:l().func},qr.defaultProps={rules:[],config:{},ruleBlock:Hr,symbolizerBlock:Yr,onUpdate:function(){},onChange:function(){}};const Jr=qr;var Xr=r(166287),Qr=r(21090),en=["values"];function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function rn(e){return function(e){if(Array.isArray(e))return ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||on(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(e,t)||on(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){if(e){if("string"==typeof e)return ln(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ln(e,t):void 0}}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?an(Object(r),!0).forEach((function(t){sn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==tn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===tn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cn="UPDATE_STYLE",fn="UNDO_STYLE",dn="REDO_STYLE",pn=sn({},cn,(function(e,t){return un({},t)})),yn=(0,Qr.ZP)((function(e,t){return(pn[t.type]||d())(e,t.payload)}),{limit:20,undoType:fn,redoType:dn,jumpType:"",jumpToPastType:"",jumpToFutureType:"",clearHistoryType:""}),mn={};function bn(e){var t,r,i=e.code,l=e.format,a=e.layer,s=e.zoom,f=e.scales,d=e.geometryType,m=e.fonts,b=e.bands,v=e.attributes,g=e.onChange,h=e.onError,O=e.defaultStyleJSON,S=e.config,k=e.loading,w=e.error,E=e.methods,j=e.getColors,P=e.styleUpdateTypes,I=e.debounceTime,T=e.styleService,C=e.exactMatchGeometrySymbol,A=e.enable3dStyleOptions,x=Ir({exactMatchGeometrySymbol:C,enable3dStyleOptions:A}),F=x.symbolizerBlock,L=x.ruleBlock,R=nn((0,n.useState)(!1),2),N=R[0],Z=R[1],z=nn((0,n.useReducer)(yn,{}),2),W=z[0],M=z[1],V=(null==W?void 0:W.present)||mn,U=(0,n.useRef)();U.current={style:V};var $=(0,n.useRef)(!1);(0,n.useEffect)((function(){$.current&&null!==O||(0,Xr.getStyleParser)(l).then((function(e){return e&&i&&null===O?e.readStyle(i).then((function(e){M({type:cn,payload:(0,B.VM)(e)}),$.current=!0})).catch((function(e){return h(un(un({},e),{},{status:400}))})):e&&i&&O?($.current=!0,M({type:cn,payload:O})):i&&!e?h({messageId:"styleeditor.formatNotSupported",status:400}):null}))}),[i,l,O]);var _=function(e){if(Z(!1),!e)return null;var t=un(un({},U.current.style),{},{rules:e});return M({type:cn,payload:t})},G=(0,n.useRef)();(0,n.useEffect)((function(){return G.current=u()((function(e){var t,r=function(e){if(!e||0===e.length)return{messageId:"styleeditor.styleEmpty",status:400,isEmpty:!0};var t=c()(e.map((function(e){return e.errorId})),(function(e){return e}));if(t)return{messageId:t,status:400};if(c()(e,(function(e){var t=e.kind,r=e.classification;return!("Classification"!==t&&"Raster"!==t||r&&0!==r.length)})))return{messageId:"styleeditor.incompleteClassification",status:400};var r,n,o,i=c()(e,(function(e){var t=e.symbolizers,r=void 0===t?[]:t;return c()(r,(function(e){var t=e.kind,r=e.image;return"Icon"===t&&(null==r?void 0:r.errorId)}))}));return i?{messageId:"styleeditor.".concat(null==i||null===(r=i.symbolizers)||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.image)||void 0===o?void 0:o.errorId),status:400}:null}(null==e||null===(t=e.style)||void 0===t?void 0:t.rules);return r?h(r):(0,Xr.getStyleParser)(e.format).then((function(t){return t.writeStyle((0,B.Gg)(e.style)).then((function(t){var r=(0,B.BG)(e,t),n=r.parsedCode,o=r.errorObj;o?h(o):g(n,e.style)})).catch((function(e){h(un(un({},e),{},{status:400}))}))}))}),I),function(){G.current.cancel()}}),[]),(0,n.useEffect)((function(){G.current.cancel(),G.current({format:l,style:V})}),[JSON.stringify(V)]);var q=w&&(w.message||w.messageId&&o().createElement(D.Z,{msgId:w.messageId}));return o().createElement(Jr,{loading:N,toolbar:o().createElement(p.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[{glyph:"undo",tooltipId:"styleeditor.undoStyle",disabled:0===((null==W||null===(t=W.past)||void 0===t?void 0:t.length)||0),onClick:function(){return M({type:fn})}},{disabled:0===((null==W||null===(r=W.future)||void 0===r?void 0:r.length)||0),tooltipId:"styleeditor.redoStyle",glyph:"redo",onClick:function(){return M({type:dn})}},{visible:!!w,Element:function(){return o().createElement("div",{className:"square-button-md",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},o().createElement(Fr.Z,{glyph:"exclamation-mark",bsStyle:"danger",placement:"right",title:o().createElement(D.Z,{msgId:"styleeditor.validationErrorTitle"}),text:o().createElement(o().Fragment,null,o().createElement("p",null,o().createElement(D.Z,{msgId:"styleeditor.genericValidationError"})),q?o().createElement("p",null,o().createElement(D.Z,{msgId:"styleeditor.validationError"}),":",q):o().createElement("p",null,o().createElement(D.Z,{msgId:"styleeditor.incorrectPropertyInputError"})))}))}},{visible:!(!k&&!N),Element:function(){return o().createElement("div",{className:"square-button-md",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},o().createElement(y.Z,{size:18}))}}]}),ruleBlock:L,symbolizerBlock:F,config:un({geometryType:d,zoom:s,fonts:m,scales:f,bands:b,attributes:v,methods:E,getColors:j,format:l},S),rules:(null==V?void 0:V.rules)&&rn(V.rules).reverse(),onChange:function(e){return _(rn(e).reverse())},onUpdate:function(e){var t=e.values,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,en);Z(!0),function(e){var t=e.values,r=e.properties,n=e.rules,o=e.layer,i=e.styleService,l=e.styleUpdateTypes,a=void 0===l?{}:l;return new Promise((function(e){var l=r.type&&a[r.type];return e(l?l({values:t,properties:r,rules:n,layer:o,styleService:i}):n.map((function(e){return e.ruleId===r.ruleId?un(un(un({},e),t),{},{errorId:void 0}):e})))}))}({values:t,properties:r,layer:a,rules:U.current.style.rules,styleService:T,styleUpdateTypes:P}).then((function(e){return _(e)})).catch((function(){return _()}))}})}bn.propTypes={code:l().string,format:l().string,layer:l().object,zoom:l().number,scales:l().array,geometryType:l().string,fonts:l().array,bands:l().array,attributes:l().array,onChange:l().func,onError:l().func,defaultStyleJSON:l().object,config:l().object,loading:l().bool,error:l().object,methods:l().array,getColors:l().func,styleUpdateTypes:l().object,debounceTime:l().number},bn.defaultProps={onChange:function(){},onError:function(){},config:{},getColors:function(){},styleUpdateTypes:{},debounceTime:300,defaultStyleJSON:null};const vn=bn},471891:(e,t,r)=>{"use strict";r.d(t,{T:()=>N,Z:()=>Z});var n=r(701469),o=r.n(n),i=r(513218),l=r.n(i),a=r(124852),u=r.n(a),s=r(480681),c=r(171703),f=r(22222),d=r(396909),p=r(378795),y=r(108954),m=r(805346),b=r(965539),v=r(532425),g=r(80717),h=r(467057),O=r(619977),S=r(800827),k=r(893222),w=r(784715),E=r(99009),j=r(24198),P=r(717621),I=r.n(P);const T=[{type:"color",active:function(e){return"atom"===e.type&&I()(e.string).isValid()},style:function(e){return{backgroundColor:e.string}},Widget:function(e){var t=e.token,r=e.value,n=e.onChange,o=void 0===n?function(){}:n;return u().createElement(j.xS,{color:{hex:r||t.string},onChange:function(e){return o(e.hex)}})}}];var C=["code","error","canEdit","editorType","onUpdateMetadata","onChange","loading","header","editors"];function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x={classificationVector:y.IW,classificationRaster:y.DG,classification:y.IW,"classification-raster":y.DG};function F(e,t){return e&&"raster"!==t?(0,E.u9)(e):[]}var L=(0,c.connect)((0,f.P1)([k.gB,k.iB,k.m2,k.p,k.aN,k.Vf,k.lC,S.up,S.Od,k.Z0],(function(e,t,r,n,i,l,a,u,s,c){var f,d;return{code:e,mode:(0,E.H$)(t),bands:o()(r)&&"raster"===a&&r||[],attributes:F(r,a),error:n.edit||null,loading:i,format:t,layer:l,geometryType:a,scales:u.map((function(e){return Math.round(e)})),zoom:s.zoom,fonts:c.fonts||[],methods:("raster"===a?null==c||null===(f=c.classificationMethods)||void 0===f?void 0:f.raster:null==c||null===(d=c.classificationMethods)||void 0===d?void 0:d.vector)||p.Z.methods,styleService:{baseUrl:null==c?void 0:c.baseUrl,isStatic:null==c?void 0:c.isStatic}}})),{onError:d.Fe.bind(null,"edit")})(O.Z);L.defaultProps={getColors:p.Z.getColors,styleUpdateTypes:x};var R={visual:L,textarea:(0,c.connect)((0,f.P1)([k.gB,k.iB,k.m2,k.p,k.aN],(function(e,t,r,n,o){return{code:e,mode:(0,E.H$)(t),hintProperties:r,error:n.edit||null,loading:o}})))(h.Z)};function N(e){var t,r,n=e.code,o=e.error,i=e.canEdit,c=e.editorType,f=e.onUpdateMetadata,d=e.onChange,p=e.loading,y=e.header,h=e.editors,O=void 0===h?[]:h,S=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,C),k=(t=(0,a.useState)(),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=k[0],E=k[1],j={position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"};if(!n&&!o)return u().createElement("div",{style:j},u().createElement(v.Z,{size:150}));if(!i)return u().createElement("div",{style:j},u().createElement("div",null,u().createElement(s.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),u().createElement("h1",null,u().createElement(m.Z,{msgId:"styleeditor.noPermission"}))));if(404===(null==o?void 0:o.status))return u().createElement("div",{style:j},u().createElement("div",null,u().createElement(s.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),u().createElement("h1",null,u().createElement(m.Z,{msgId:"styleeditor.styleNotFound"}))));var P=O[c]||R[c]||R.textarea;return u().createElement(b.Z,{style:{position:"relative"},header:u().createElement("div",{className:"ms-style-editor-toolbar"},u().createElement("div",{className:"ms-style-editor-toolbar-left"},y),u().createElement(g.Z,{buttons:[{className:"no-border",bsSize:"xs",disabled:p,active:"textarea"===c,textId:"visual"===c?"styleeditor.switchToTextareaEditor":"styleeditor.switchToVisualEditor",onClick:function(){return p?null:"visual"===c?f({editorType:"textarea"}):E(!0)}}]}))},P&&u().createElement(P,A({},S,{code:n,error:o,onChange:function(e,t){d(e),l()(t)&&f({styleJSON:JSON.stringify(t)})}})),w&&u().createElement("div",{className:"ms-style-editor-alert",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",padding:16,backgroundColor:"rgba(0, 0, 0, 0.6)"}},u().createElement(s.Alert,{bsStyle:"warning",style:{textAlign:"center"}},u().createElement("p",{style:{padding:8}},u().createElement(m.Z,{msgId:"styleeditor.alertForceTranslate"})),u().createElement("p",null,u().createElement(g.Z,{buttons:[{text:u().createElement(m.Z,{msgId:"styleeditor.stayInTextareaEditor"}),onClick:function(){return E(!1)},style:{marginRight:4}},{bsStyle:"primary",text:u().createElement(m.Z,{msgId:"styleeditor.useLatestValidStyle"}),onClick:function(){f({editorType:"visual"}),E(!1)}}]})))))}N.defaultProps={inlineWidgets:T};const Z=(0,c.connect)((0,w.y1)(k.gB,k.p,k.z_,(function(e){var t=(0,k.WW)(e);return null==t?void 0:t.editorType}),(function(e){try{var t=(0,k.WW)(e);return JSON.parse(null==t?void 0:t.styleJSON)}catch(e){return null}}),k.aN,(function(e,t,r,n,o,i){return{code:e,error:t.edit||null,canEdit:r,editorType:n,defaultStyleJSON:o,loading:i}})),{onUpdateMetadata:d.bB,onChange:d.p2})(N)},278720:(e,t,r)=>{"use strict";r.d(t,{m2:()=>Y,tM:()=>ne,lC:()=>te});var n=r(124852),o=r.n(n),i=r(171703),l=r(867076),a=r(22222),u=r(460604),s=r(690825),c=r(580416),f=r(396909),d=r(805346),p=r(965539),y=r(982030),m=r(173014),b=r(906724),v=r(532425),g=r(480681),h=r(638064),O=r(993451),S=r(815135),k=r(698772),w=r(283958);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=(0,O.Z)("filterPlaceholder")(k.Z),C=(0,S.Z)(g.Glyphicon),A=(0,y.Z)((function(e){return 0===e.items.length}),{title:o().createElement(d.Z,{msgId:"styleeditor.filterMatchNotFound"}),glyph:"1-stilo"})(h.Z);var D=r(91175),x=r.n(D),F=r(615402);const L=function(e){var t=e.disabled,r=e.selected,n=e.title,i=e.preview,l=e.previewSrc,a=e.onClick,u=void 0===a?function(){}:a;return o().createElement("div",{className:"ms-square-card".concat(r?" ms-selected":"").concat(t?" ms-disabled":""),onClick:t?null:function(){return u()}},(i||l)&&o().createElement("div",{className:"ms-preview"},i||l&&o().createElement("img",{src:l})),o().createElement("small",null,n))};var R=r(399534),N=r(694745);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=(0,O.Z)("filterPlaceholder")(k.Z),U=(0,O.Z)("placeholder")(g.FormControl),$=(0,y.Z)((function(e){return 0===e.items.length}),{title:o().createElement(d.Z,{msgId:"styleeditor.filterMatchNotFound"}),glyph:"1-stilo"})(h.Z),B=function(e){var t=e.title,r=e._abstract,n=/^[a-zA-Z0-9\s]*$/,o=t&&null!==t.match(n);return o&&!r||o&&r&&null!==r.match(n)};var _=r(80717);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=r(893222),K=r(99009),Y=r(471891).Z,H=(0,K.YD)(),J=(0,y.Z)((function(e){return!e.canEdit}),{glyph:"exclamation-mark",title:o().createElement(d.Z,{msgId:"styleeditor.noPermission"})}),X=function(e){return(0,m.Z)(e,{size:150,style:{margin:"auto"}},(function(e){return o().createElement("div",{style:{position:"relative",height:"100%",display:"flex"}},o().createElement(v.Z,e))}))},Q=(0,l.compose)((0,l.defaultProps)({templates:H}),(0,i.connect)((0,a.P1)([q.Mc,q.w_,q.lC,q.z_,q.Z0,q.aN],(function(e,t,r,n){var o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).formats;return{selectedStyle:e,add:t&&e,geometryType:r,canEdit:n,availableFormats:void 0===o?[]:o,loading:arguments.length>5?arguments[5]:void 0}})),{onSelect:f.FU,onClose:f.cu.bind(null,!1),onSave:f.wj}),J,X((function(e){return!e.geometryType})),(0,l.withState)("filterText","onFilter",""),(0,l.withState)("styleSettings","onUpdate",{}))((function(e){var t=e.selectedStyle,r=e.add,n=e.styleSettings,i=void 0===n?{}:n,l=e.geometryType,a=void 0===l?"":l,u=e.templates,s=void 0===u?[]:u,c=e.filterText,f=e.availableFormats,y=void 0===f?["sld","css"]:f,m=e.formFields,b=void 0===m?[{key:"title",placeholder:"styleeditor.titleSettingsplaceholder",title:o().createElement(d.Z,{msgId:"styleeditor.titleSettings"})},{key:"_abstract",placeholder:"styleeditor.abstractSettingsplaceholder",title:o().createElement(d.Z,{msgId:"styleeditor.abstractSettings"})}]:m,h=e.onFilter,O=void 0===h?function(){}:h,S=e.onSelect,k=void 0===S?function(){}:S,E=e.onClose,j=void 0===E?function(){}:E,P=e.onSave,I=void 0===P?function(){}:P,T=e.onUpdate,C=void 0===T?function(){}:T,A=e.loading;return o().createElement(p.Z,{header:o().createElement("div",null,o().createElement(V,{filterPlaceholder:"styleeditor.templateFilterPlaceholder",filterText:c,onFilter:O}),o().createElement("div",{className:"text-center"},o().createElement("small",null,A?o().createElement(v.Z,{size:15,style:{display:"inline-block"}}):o().createElement(d.Z,{msgId:"styleeditor.createStyleFromTemplate"}))))},o().createElement($,{colProps:{},cardComponent:L,onItemClick:function(e){var t=e.code,r=e.styleId,n=e.format;k({code:t,templateId:r,format:n||"css"}),C(W(W({},i),{},{title:x()(s.filter((function(e){return e.styleId===r})).map((function(e){return e.title})))}))},items:s.filter((function(e){var t=e.title;return!c||c&&-1!==t.indexOf(c)})).filter((function(e){var t=e.types,r=e.format;return!t||x()(t.filter((function(e){return e===a})))&&-1!==y.indexOf(r)})).map((function(e){var r;return W(W({},e),{},{preview:null!=e&&null!==(r=e.preview)&&void 0!==r&&r.config?o().createElement(w.Z,e.preview.config):null==e?void 0:e.preview,selected:e.styleId===t,disabled:A})}))}),o().createElement(R.Z,null,o().createElement(N.Z,{show:!!r,fitContent:!0,title:o().createElement(d.Z,{msgId:"styleeditor.createStyleModalTitle"}),onClose:function(){return j()},buttons:[{text:o().createElement(d.Z,{msgId:"save"}),bsStyle:"primary",disabled:!B(i),onClick:function(){return I(i)}}]},o().createElement(g.Form,null,o().createElement(g.FormGroup,{controlId:"styleTitle",validationState:!B(i)&&"error"},b.map((function(e){var t=e.title,r=e.placeholder,n=e.key;return o().createElement("span",{key:n},o().createElement(g.ControlLabel,null,t),o().createElement(U,{type:"text",defaultValue:i[n],placeholder:r,onChange:function(e){return C(W(W({},i),{},M({},n,e.target.value)))}}))}))),!B(i)&&o().createElement(g.Alert,{style:{margin:0},bsStyle:"danger"},o().createElement(F.Z,{msgId:"styleeditor.titleRequired"}))))))})),ee=(0,l.compose)((0,i.connect)((0,a.P1)([q.ex,q.ov],(function(e,t){return{status:e,defaultStyle:t.defaultStyle,enabledStyle:t.enabledStyle,availableStyles:t.availableStyles}})),{onSelect:c.Xy}),(0,l.withState)("filterText","onFilter",""),(0,b.Z)((function(e){var t=e.status,r=e.readOnly;return"template"===t&&!r}),(function(){return o().createElement(Q,null)}),{maskContainerStyle:{display:"flex",position:"relative"},maskStyle:{overflowY:"auto",left:0}}))((function(e){var t=e.showDefaultStyleIcon,r=e.enabledStyle,n=e.defaultStyle,i=e.availableStyles,l=void 0===i?[]:i,a=e.onSelect,u=e.formatColors,s=void 0===u?{sld:"#33ffaa",css:"#ffaa33"}:u,c=e.filterText,f=void 0===c?"":c,d=e.onFilter,y=void 0===d?function(){}:d;return o().createElement(p.Z,{className:"ms-style-editor-list",header:o().createElement(T,{filterPlaceholder:"styleeditor.styleListfilterPlaceholder",filterText:f,onFilter:y})},o().createElement(A,{size:"sm",onItemClick:function(e){var t=e.name;return a({style:t},!0)},items:l.filter((function(e){var t,r,n=e.name,o=void 0===n?"":n,i=e.title,l=void 0===i?"":i,a=e._abstract,u=void 0===a?"":a,s=e.metadata,c=void 0===s?{}:s;return o.toLowerCase().includes(f.toLowerCase())||(null==c||null===(t=c.title)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null==c||null===(r=c.description)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))||l.toLowerCase().includes(f.toLowerCase())||u.toLowerCase().includes(f.toLowerCase())})).map((function(e){var i,l,a;return P(P({},e),{},{title:(null==e||null===(i=e.metadata)||void 0===i?void 0:i.title)||e.label||e.title||e.name,description:(null==e||null===(l=e.metadata)||void 0===l?void 0:l.description)||e._abstract,selected:r===e.name,preview:e.format&&o().createElement(w.Z,{backgroundColor:"#333333",texts:[{text:(a=e.format,{sld:"SLD",css:"CSS",mbstyle:"MBS"}[a]||a||"").toUpperCase(),fill:s[e.format]||"#f2f2f2",style:{fontSize:70,fontWeight:"bold"}}]})||o().createElement(C,{glyph:"geoserver"}),tools:t&&n===e.name?o().createElement(C,{glyph:"star",tooltipId:"styleeditor.defaultStyle"}):null})}))}))})),te=(0,l.compose)((0,l.withState)("showModal","onShowModal"),(0,i.connect)((0,a.P1)([q.ex,q.Mc,q.p,q.QW,q.gB,q.aN,q.i7,q.z_,q.ov,q.Z0,q.Ed],(function(e,t,r,n,o,i,l,a,u){var s=u.defaultStyle,c=(arguments.length>9&&void 0!==arguments[9]?arguments[9]:{}).formats,f=arguments.length>10?arguments[10]:void 0;return{status:e,templateId:t,error:r,isCodeChanged:n!==o,loading:i,layerDefaultStyleName:s,selectedStyle:s===l?"":l,editEnabled:a,disableCodeEditing:-1===(void 0===c?["sld"]:c).indexOf(f)}})),{onSelectStyle:f.Nf.bind(null,"template"),onEditStyle:f.Nf.bind(null,"edit"),onBack:f.Nf.bind(null,""),onReset:u.B1.bind(null,K.s1,[{}]),onAdd:f.cu.bind(null,!0),onUpdate:f.Lc,onDelete:f.WQ,onSetDefault:f.WB}))((function(e){var t,r=e.status,n=e.buttons,i=void 0===n?[]:n,l=e.templateId,a=e.error,u=e.isCodeChanged,s=e.showModal,c=e.onShowModal,f=e.loading,p=e.selectedStyle,y=e.layerDefaultStyleName,m=e.editEnabled,b=e.enableSetDefaultStyle,v=e.defaultStyles,h=void 0===v?["generic","point","line","polygon","raster"]:v,O=e.onBack,S=void 0===O?function(){}:O,k=e.onAdd,w=void 0===k?function(){}:k,E=e.onReset,j=void 0===E?function(){}:E,P=e.onDelete,I=void 0===P?function(){}:P,T=e.onSelectStyle,C=void 0===T?function(){}:T,A=e.onEditStyle,D=void 0===A?function(){}:A,x=e.onUpdate,F=void 0===x?function(){}:x,L=e.onSetDefault,Z=void 0===L?function(){}:L,z=e.disableCodeEditing;return o().createElement("div",null,o().createElement(_.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"arrow-left",visible:!!r,tooltipId:"styleeditor.backToList",disabled:!!f,onClick:function(){"edit"===r&&u?c({title:o().createElement(d.Z,{msgId:"styleeditor.closeWithoutSaveAlertTitle"}),message:o().createElement(g.Alert,{bsStyle:"warning",style:{margin:0}},o().createElement(d.Z,{msgId:"styleeditor.closeWithoutSaveAlert"})),buttons:[{text:o().createElement(d.Z,{msgId:"close"}),bsStyle:"primary",onClick:function(){c(null),S(),j()}}]}):(S(),j())}},{glyph:"1-stilo",tooltipId:"styleeditor.createNewStyle",visible:!(r||!m),disabled:!!f,onClick:function(){return C()}},{glyph:"code",tooltipId:"styleeditor.editSelectedStyle",visible:!(r||!m),disabled:!!f||-1!==h.indexOf(p)||!p&&-1!==h.indexOf(y)||z,onClick:function(){return D()}},{glyph:"ok",tooltipId:"styleeditor.saveCurrentStyle",disabled:!!(a&&a.edit&&a.edit.status)||!!f||-1!==h.indexOf(p),visible:!("edit"!==r||!m),onClick:function(){return F()}},{glyph:"plus",tooltipId:"styleeditor.addSelectedTemplate",visible:!("template"!==r||!l||!m),disabled:!!f,onClick:function(){return w()}},{glyph:"trash",tooltipId:"styleeditor.deleteSelectedStyle",disabled:!!f||-1!==h.indexOf(p)||!p,visible:!(r||!m),onClick:function(){c({title:o().createElement(d.Z,{msgId:"styleeditor.deleteStyleAlertTitle"}),message:o().createElement(g.Alert,{bsStyle:"warning",style:{margin:0}},o().createElement(d.Z,{msgId:"styleeditor.deleteStyleAlert"})),buttons:[{text:o().createElement(d.Z,{msgId:"styleeditor.delete"}),bsStyle:"primary",onClick:function(){c(null),I(p)}}]})}},{glyph:"star",tooltipId:"styleeditor.setDefaultStyle",disabled:!!f||-1!==h.indexOf(p)||!p,visible:!(!b||r||!m),onClick:function(){return Z()}}].concat((t=r?[]:i,function(e){if(Array.isArray(e))return G(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),o().createElement(R.Z,null,o().createElement(N.Z,{show:s,fitContent:!0,title:s&&s.title,onClose:function(){return c(null)},buttons:s&&s.buttons},s&&s.message)))})),re=(0,l.compose)((0,i.connect)((0,a.P1)([q.Vf],(function(e){return{layer:e}})),{onInit:s.k}),(0,l.lifecycle)({UNSAFE_componentWillMount:function(){this.props.onInit&&this.props.layer&&this.props.onInit(this.props.layer)}}),X((function(e){var t=e.layer,r=void 0===t?{}:t;return r&&r.capabilitiesLoading})))((function(){return o().createElement(p.Z,{className:"ms-style-editor-container",footer:o().createElement("div",{style:{height:25}})},o().createElement(ee,{readOnly:!0}))})),ne=(0,l.branch)((function(e){return e.readOnly}),(function(){return re}))(ee)},893222:(e,t,r)=>{"use strict";r.d(t,{gc:()=>v,Mc:()=>g,ex:()=>h,p:()=>O,aN:()=>S,iB:()=>k,j5:()=>w,gB:()=>E,QW:()=>j,w_:()=>P,ji:()=>I,Z0:()=>T,z_:()=>C,Vf:()=>A,lC:()=>D,m2:()=>x,i7:()=>F,Ed:()=>L,ov:()=>R,WW:()=>N});var n=r(227361),o=r.n(n),i=r(91175),l=r.n(i),a=r(545578),u=r.n(a),s=(r(313311),r(747037)),c=r.n(s),f=r(206273),d=r(99009);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){return o()(e,"styleeditor.temporaryId")},g=function(e){return o()(e,"styleeditor.templateId")},h=function(e){return o()(e,"styleeditor.status")},O=function(e){return o()(e,"styleeditor.error")||{}},S=function(e){return o()(e,"styleeditor.loading")},k=function(e){return o()(e,"styleeditor.format")||"css"},w=function(e){return o()(e,"styleeditor.languageVersion")||{}},E=function(e){return o()(e,"styleeditor.code")},j=function(e){return o()(e,"styleeditor.initialCode")||""},P=function(e){return o()(e,"styleeditor.addStyle")||""},I=function(e){return o()(e,"styleeditor.enabled")},T=function(e){return o()(e,"styleeditor.service")||{}},C=function(e){return o()(e,"styleeditor.canEdit")},A=function(e){var t=(0,f.jN)(e);return m(m({},(0,f.Iz)(e)||{}),t&&t.options||{})},D=function(e){var t=A(e),r=(0,d.Py)(t).geometryType;return void 0===r?"vector":r},x=function(e){var t=A(e),r=(0,d.Py)(t).properties;return void 0===r?{}:r},F=function(e){var t=A(e);return t.style||t.availableStyles&&t.availableStyles[0]&&t.availableStyles[0].name},L=function(e){var t=(A(e)||{}).availableStyles,r=void 0===t?[]:t,n=F(e);return l()(r.filter((function(e){return e.name===n})).map((function(e){return e.format})))},R=function(e){var t=A(e),r=t.availableStyles||[],n=(l()(r)||{}).name,o=t.style||t&&!t.style&&n;return{availableStyles:u()(r.map((function(e){var t=e&&e.title&&c()(e.title)&&e.title.split(d.I$),r=t&&t[0]||e.name;return m(m({},e),{},{label:r})})),"name"),defaultStyle:n,enabledStyle:o}},N=function(e){var t;return null==e||null===(t=e.styleeditor)||void 0===t?void 0:t.metadata}},99009:(e,t,r)=>{"use strict";r.d(t,{I$:()=>Q,s1:()=>ee,q9:()=>ne,Vi:()=>oe,nK:()=>ie,Py:()=>le,H$:()=>ae,uW:()=>ue,YD:()=>se,$N:()=>ce,U_:()=>fe,Gg:()=>ve,VM:()=>ge,ZF:()=>he,qL:()=>Oe,BG:()=>Se,co:()=>ke,u9:()=>we,g5:()=>Ee,wc:()=>je,uo:()=>Pe,Yt:()=>Ie});var n=r(91175),o=r.n(n),i=r(227361),l=r.n(i),a=r(701469),u=r.n(a),s=r(747037),c=r.n(s),f=r(385564),d=r.n(f),p=r(414293),y=r.n(p),m=r(441609),b=r.n(m),v=r(957557),g=r.n(v),h=r(114176),O=r.n(h),S=r(352353),k=r.n(S),w=r(436968),E=r.n(w),j=r(984596),P=r.n(j),I=r(513218),T=r.n(I),C=r(281763),A=r.n(C),D=r(984110),x=r.n(D),F=r(472500),L=r.n(F),R=r(811531),N=r(166287),Z=r(505055),z=r.n(Z),W=["kind"],M=["defines","meta"];function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function U(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e){if(Array.isArray(e))return e}function _(e){return function(e){if(Array.isArray(e))return K(e)}(e)||q(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}function q(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===V(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=new(z().Builder),Q="___",ee="styleeditor",te={},re={css:"geocss",sld:"xml","3dtiles":"application/json",geostyler:"application/json"},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.localType&&e.localType.toLowerCase()||"";return-1!==t.indexOf("polygon")||-1!==t.indexOf("surface")?"polygon":-1!==t.indexOf("linestring")?"linestring":-1!==t.indexOf("point")?"point":"vector"},oe=function(){return"".concat(x()(),"_ms_").concat(Date.now().toString())},ie=function(e){var t=e.title;return"".concat((void 0===t?"":t).toLowerCase().replace(/\s/g,"_")).concat(Q).concat(x()())},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.describeLayer,r=void 0===t?{}:t,n=e.describeFeatureType,i=void 0===n?{}:n,a=(null==r?void 0:r.owsType)||null,u=l()(i,"featureTypes[0].properties")||null,s=u&&o()(u.filter((function(e){var t=e.type,r=e.localType;return t&&t.includes("gml")&&r}))),c=("WCS"===a?"raster":s&&"WFS"===a&&ne(s))||null;return{geometryType:c,properties:"raster"===c?r.bands:u&&u.reduce((function(e,t){var r=t.name,n=t.type,o=void 0===n?{}:n,i=t.localType;return H(H({},e),{},J({},r,{localType:i,prefix:o.replace(":".concat(i),"")}))}),{}),owsType:a}},ae=function(e){return re[e]||e},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(te.isSameOrigin)return te.isSameOrigin(e,t);if(!t.baseUrl||!e.url)return!1;var r=[t.baseUrl].concat(_(t.availableUrls||[])).map((function(e){var t=L().parse(e);return"".concat(t.protocol,"//").concat(t.host)})),n=L().parse(e.url),o="".concat(n.protocol,"//").concat(n.host);return-1!==r.indexOf(o)},se=function(){if(te.getStyleTemplates){var e=te.getStyleTemplates();return[].concat(_(u()(e)?e:[]),_(R.baseTemplates))}return[].concat(_(R.customTemplates),_(R.baseTemplates))},ce=function(e){var t=c()(e)&&e.split(":")||[];return{workspace:t[1]&&t[0],name:t[1]||t[0]}},fe=function(e){var t=e.name,r=e.workspace;return"".concat(r&&r.name&&"".concat(r.name,":")||"").concat(t)},de=function e(t,r){if(!(t&&t.filterFields&&t.groupFields&&r))return null;var n=t.filterFields.filter((function(e){return e.groupId===r.id})),o=t.groupFields.filter((function(e){return e.groupId===r.id})),i=[].concat(_(n),_(o)),l={OR:"||",AND:"&&",like:"*=","=":"==","<>":"!=",isNull:"=="},a=i.map((function(r){if(void 0!==r.rowId){var n=r.operator,o=r.attribute,i=r.value;return n&&o&&!y()(i)?[l[n]||n,o,"isNull"===n?null:i]:null}return e(t,r)})).filter((function(e){return e})),u=r.logic;return 0===a.length?null:[l[u]].concat(_(a))},pe=function(e){var t,r=null==e||null===(t=e.groupFields)||void 0===t?void 0:t.find((function(e){return!e.groupId}));return r&&de(e,r)},ye=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.index,o=void 0===n?0:n,i=r.groupId,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!t)return null;var a,s={"||":"OR","&&":"AND","*=":"like","==":"=","!=":"<>"},c=B(a=t)||q(a)||G(a)||$(),f=c[0],d=c.slice(1),p=u()(f),y=p?f[0]:f,m=p?f.filter((function(e,t){return 0!==t})):d;if("||"===y||"&&"===y){var b=x()();return l("groupField",{id:b,index:o,logic:s[y]}),e(d,{index:o+1,groupId:b},l)}return y?(l("filterField",{attribute:m[0],groupId:i,operator:s[y]||y,rowId:x()(),type:isNaN(parseFloat(m[1]))?"string":"number",value:m[1]}),e(d,{index:o,groupId:i},l)):null},me=function(e){var t=[],r=[];return ye(e,void 0,(function(e,n){"groupField"===e&&t.push(n),"filterField"===e&&r.push(n)})),{groupFields:t,filterFields:r}};function be(e){var t=O()(e,k());return Object.keys(t).reduce((function(e,r){switch(r){case"haloColor":case"haloWidth":return"Text"===t.kind&&0===t.haloWidth?e:H(H({},e),{},J({},r,t[r]));case"outlineWidth":case"outlineColor":case"outlineOpacity":return"Fill"===t.kind&&0===t.outlineWidth?e:H(H({},e),{},J({},r,t[r]));case"strokeWidth":case"strokeColor":case"strokeOpacity":return"Mark"===t.kind&&0===t.strokeWidth?e:H(H({},e),{},J({},r,t[r]));case"graphicFill":case"graphicStroke":return H(H({},e),{},J({},r,be(t[r])));default:return H(H({},e),{},J({},r,t[r]))}}),{})}function ve(e){return e&&e.rules?H(H({},e),{},{rules:d()(e.rules.map((function(e){if("Classification"===e.kind)return(e.classification||[]).map((function(t,r){var n=r===e.classification.length-1?"<=":"<",o=!y()(t.min),i=!y()(t.max),l=!y()(t.unique),a=l?["==",e.attribute,t.unique]:[],u=o?[[">=",e.attribute,t.min]]:[],s=i?[[n,e.attribute,t.max]]:[],c=l&&t.unique,f=o&&">= "+t.min,d=i&&n+" "+t.max;return H(H({name:c||(f&&d?f+" and "+d:f||d),filter:b()(a)?b()(u[0])&&b()(s[0])?void 0:["&&"].concat(u,s):a},e.scaleDenominator&&{scaleDenominator:e.scaleDenominator}),{},{symbolizers:[be(H(H({},g()(e,["ruleId","classification","intervals","intervalsForUnique","method","ramp","reverse","attribute","symbolizerKind"])),{},{kind:e.symbolizerKind||"Fill",color:t.color}))]})}));if("Raster"===e.kind){var t=e.classification&&e.classification.length>0&&{colorMapEntries:(e.classification||[]).map((function(e){return{label:e.label,quantity:e.quantity,color:e.color,opacity:e.opacity}})),type:e.colorMapType};return H(H({name:e.name||""},e.scaleDenominator&&{scaleDenominator:e.scaleDenominator}),{},{symbolizers:[be(H(H({},g()(e,["ruleId","classification","intervals","method","ramp","reverse","continuous","symbolizerKind","name","colorMapType"])),{},{kind:"Raster"},t&&{colorMap:t}))]})}var r=pe(e.filter);return H(H({},e),{},{filter:r,symbolizers:((null==e?void 0:e.symbolizers)||[]).map((function(e){return be(e)}))})})))}):e}function ge(e){return H(H({},e),{},{rules:e.rules.map((function(e){return H(H({},e),{},{ruleId:x()(),filter:e.filter&&me(e.filter),symbolizers:e.symbolizers&&e.symbolizers.map((function(e){return H(H({},e),{},{symbolizerId:x()()})}))||[]})}))})}function he(e){return new Promise((function(t,r){e||r({messageId:"imageSrcEmpty",isBase64:!1});var n=!1;if(0===e.indexOf("data:image")){var o=e.split("base64,");(n=function(e){try{return window.atob(e),!0}catch(e){return!1}}(o[o.length-1]))||r({messageId:"imageSrcInvalidBase64",isBase64:n})}var i=new Image;i.onload=function(){t({src:e,isBase64:n})},i.onerror=function(){r({messageId:n?"imageSrcInvalidBase64":"imageSrcLoadError",isBase64:n})},i.src=e}))}var Oe=[{label:"image/png",value:"image/png"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/gif",value:"image/gif"},{label:"image/svg+xml",value:"image/svg+xml"}],Se=function(e,t){var r=t;"sld"===e.format&&z().parseString(t,{explicitArray:!1},(function(t,n){var o="StyledLayerDescriptor.NamedLayer.UserStyle.FeatureTypeStyle.Rule",i=P()(l()(n,o,[])),a=(i=d()(i.map((function(t,r){var n,o=function(e,t){var r,n,o,i,l=(null===(r=e[t])||void 0===r||null===(n=r.symbolizers)||void 0===n?void 0:n[0])||{},a=l.kind,u=U(l,W);switch(a){case"Icon":return{baseGraphicPath:"PointSymbolizer",imgFormat:null==u?void 0:u.format};case"Line":return{baseGraphicPath:"LineSymbolizer.Stroke.GraphicStroke",imgFormat:null==u||null===(o=u.graphicStroke)||void 0===o?void 0:o.format};case"Fill":return{baseGraphicPath:"PolygonSymbolizer.Fill.GraphicFill",imgFormat:null==u||null===(i=u.graphicFill)||void 0===i?void 0:i.format};default:return{}}}((null===(n=e.style)||void 0===n?void 0:n.rules)||[],r),i=o.baseGraphicPath,a=o.imgFormat,u="".concat(i,".Graphic.ExternalGraphic"),s=l()(t,u),c="".concat(u,".Format"),f=l()(t,c);return s&&!f&&b()(a)?null:s?f?t:E()(t,c,a):t})))).some((function(e){return null===e}));r=a?"":X.buildObject(E()(n,o,i))}));var n=!!b()(r)&&{messageId:"styleeditor.imageFormatEmpty",status:400};return{parsedCode:r,errorObj:n}};function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.metadata,n=void 0===t?{}:t,o=e.format,i=e.code;return r.e(2568).then(r.t.bind(r,402568,23)).then((function(e){var t,r=e.default,l=n.msStyleJSON,a=n.msMD5Hash;if(a&&i)return r(i)!==a;if(!l)return Promise.resolve(!1);try{t=ve(JSON.parse(l))}catch(e){return Promise.resolve(!0)}return(0,N.getStyleParser)(o).then((function(e){return e.writeStyle(t).then((function(e){return r(i)!==r(e)}))}))}))}function we(e){var t=["string"],r=["integer","long","double","float","bigdecimal","decimal","number","int"];return Object.keys(e).filter((function(n){return-1!==[].concat(t,r).indexOf(e[n].localType.toLowerCase())})).map((function(t){var n=e[t].localType;return{attribute:t,label:t,type:-1!==r.indexOf(n.toLowerCase())?"number":"string"}}))}function Ee(e){return null!=e&&e.properties?"3dtiles"===(null==e?void 0:e.type)?Object.keys(e.properties||{}).map((function(t){var r=e.properties[t],n=r.minimum,o=r.maximum,i=r.type,l=A()(n)||A()(o)?"number":"string";return{attribute:t,label:t,type:i||l}})):"wfs"===(null==e?void 0:e.type)?we(e.properties):"vector"===(null==e?void 0:e.type)?Object.keys(e.properties||{}).filter((function(t){return A()(e.properties[t])||c()(e.properties[t])})).map((function(t){return{attribute:t,label:t,type:A()(e.properties[t])?"number":"string"}})):null:null}function je(e){return"3dtiles"===e.type?"pnts"===(null==e?void 0:e.format)?"pointcloud":"polyhedron":(null==e?void 0:e.geometryType)||"vector"}function Pe(e){return"3dtiles"===e.type?{format:"3dtiles",body:{},metadata:{editorType:"visual"}}:{format:"geostyler",body:{},metadata:{editorType:"visual"}}}var Ie={"3dtiles":function(e,t){var r=e.defines,n=void 0===r?{}:r,o=(e.meta,U(e,M)),i=[{key:"color",type:"string"},{key:"pointSize",type:"number"}].find((function(e){var t=e.key,r=e.type;if("string"===r&&o[t]&&!c()(o[t])&&!T()(o[t]))return!0;if("number"===r&&o[t]&&!c()(o[t])&&!A()(o[t])&&!T()(o[t]))return!0;if(T()(o[t])){var n,i;if(0===((null===(n=o[t])||void 0===n||null===(i=n.conditions)||void 0===i?void 0:i.length)||0))return!0;if(o[t].conditions.find((function(e){var t,r,n=(r=2,B(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}(t,r)||G(t,r)||$()),o=n[0];return!n[1]||!o})))return!0}return!1}));if(i)return{messageId:"styleeditor.invalidProperty",messageParams:i};var l=[].concat(_(Object.keys((null==t?void 0:t.properties)||{})),_(Object.keys(n)),["POSITION","POSITION_ABSOLUTE","COLOR","NORMAL"]).map((function(e){return"${".concat(e,"}")})),a=JSON.stringify(o).match(/\${(.*?)}/g);if(a){var u=a.find((function(e){return!l.includes(e)}));if(u)return{messageId:"styleeditor.notSupportedVariable",messageParams:{key:u}}}return!1}}},811531:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(984110),u=[{types:["point","linestring","polygon","vector"],title:"Base CSS",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol(square);\n\t:mark { fill: #ff0000; };\n}\n\n* {\n\tstroke: #999999;\n}",preview:{config:{backgroundColor:"#333333",texts:[{text:"CSS",fill:"#ffaa33",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["point","linestring","polygon","vector"],title:"Base SLD",format:"sld",code:'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<LineSymbolizer>\n\t\t\t\t\t\t<Stroke>\n\t\t\t\t\t\t\t<CssParameter name="stroke">#0000FF</CssParameter>\n\t\t\t\t\t\t</Stroke>\n\t\t\t\t\t\t</LineSymbolizer>\n\t\t\t\t\t<PointSymbolizer>\n\t\t\t\t\t\t<Graphic>\n\t\t\t\t\t\t\t<Mark>\n\t\t\t\t\t\t\t\t<WellKnownName>square</WellKnownName>\n\t\t\t\t\t\t\t\t<Fill>\n\t\t\t\t\t\t\t\t\t<CssParameter name="fill">#FF0000</CssParameter>\n\t\t\t\t\t\t\t\t</Fill>\n\t\t\t\t\t\t\t</Mark>\n\t\t\t\t\t\t</Graphic>\n\t\t\t\t\t</PointSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n',preview:{config:{backgroundColor:"#333333",texts:[{text:"SLD",fill:"#33ffaa",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["raster"],title:"Base CSS",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\traster-channels: auto;\n}",preview:{config:{backgroundColor:"#333333",texts:[{text:"CSS",fill:"#ffaa33",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["raster"],title:"Base SLD",format:"sld",code:'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<RasterSymbolizer>\n\t\t\t\t\t\t<Opacity>1.0</Opacity>\n\t\t\t\t\t\t</RasterSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n',preview:{config:{backgroundColor:"#333333",texts:[{text:"SLD",fill:"#33ffaa",style:{fontSize:64,fontWeight:"bold"}}]}}}].map((function(e){return i(i({},e),{},{styleId:a()})})),s=[{types:["linestring","vector"],title:"Line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #999999;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#999999"}]}}},{types:["linestring","vector"],title:"Dashed line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #333333;\n\tstroke-width: 0.75;\n\tstroke-dasharray: 6 2;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#333333",strokeWidth:4,strokeDasharray:"20 4"}]}}},{types:["linestring","vector"],title:"Section line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #330033;\n\tstroke-width: 1;\n\tstroke-dasharray: 10 4 1 4;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#330033",strokeWidth:4,strokeDasharray:"20 10 4 10"}]}}},{types:["linestring","vector"],title:"Simple railway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: symbol('shape://vertline'), #000000;\n    :stroke {\n        stroke: #000000;\n        size: 8;\n    };\n}\n",preview:{config:{type:"linestring",paths:[{stroke:"#333333",strokeWidth:2,strokeLinejoin:"round"},{stroke:"#333333",strokeWidth:16,strokeDasharray:"2 20",strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Railway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #777777, #ffffff;\n\tstroke-width: 4, 2;\n\tstroke-dasharray: 1 0, 10 10;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#777777",strokeWidth:8,strokeLinejoin:"round"},{stroke:"#ffffff",strokeWidth:6,strokeDasharray:"20 20",strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Waterway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #8bbceb, #bbddff;\n\tstroke-width: 10, 8;\n\tstroke-linejoin: round;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#8bbceb",strokeWidth:14,strokeLinejoin:"round"},{stroke:"#bbddff",strokeWidth:12,strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Red road",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #ff5539, #ffffff;\n\tstroke-width: 8, 5;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#ff5539",strokeWidth:14},{stroke:"#ffffff",strokeWidth:7}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: symbol('circle');\n    stroke-dasharray: 8 20;\n    :stroke {\n        size: 8;\n        fill: #ddd;\n        stroke: #777;\n        stroke-width: 0.5;\n    };\n}\n",types:["linestring","vector"],title:"Stroke Pattern",format:"css",preview:{config:{type:"linestring",paths:[{type:"point",transform:"translate(-0, -55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(-65, 55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(-33, 0)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(33, 0)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(65, 55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    label: 'Label';\n    label-anchor: 0.5 0.5;\n    label-conflict-resolution: false;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n}\n",types:["linestring","vector"],title:"Label",format:"css",preview:{config:{type:"linestring",paths:[{stroke:"#333",strokeWidth:4}],texts:[{text:"Label",transform:"translate(-40, 0)",style:{fontSize:30,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",transform:"translate(-40, 0)",style:{fontSize:30,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd;\n}\n",types:["polygon","vector"],title:"Fill",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    stroke-width: 1;\n}\n",types:["polygon","vector"],title:"Border",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    stroke-dasharray: 10 5;\n    stroke-width: 2;\n    stroke-opacity: 0.5;\n}\n",types:["polygon","vector"],title:"Dashed Border",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333",strokeWidth:4,strokeDasharray:"20 10",strokeOpacity:.5}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd;\n    stroke: #333;\n    stroke-width: 1;\n}\n",types:["polygon","vector"],title:"Simple",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd",stroke:"#333",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: symbol('shape://slash');\n    :fill {\n        size: 8;\n        stroke: #000;\n        stroke-width: 1;\n        stroke-linecap: round;\n    };\n}\n",types:["polygon","vector"],title:"Line Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"url(#line)"}],patterns:[{id:"line",icon:{d:"M0.0 1.0 L1.0 0.0",stroke:"#000",strokeWidth:.05}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: symbol('shape://dot');\n    :fill {\n        size: 8;\n        stroke: #000000;\n        stroke-width: 4;\n    };\n}\n",types:["polygon","vector"],title:"Dot Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"url(#poly_dot)"}],patterns:[{id:"poly_dot",icon:{d:"M0.5 0.5 L0.5 0.52Z",stroke:"#000",strokeLinecap:"round",strokeWidth:.2}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    mark: symbol('circle');\n    :mark {\n        size: 16;\n        stroke: #333;\n        stroke-width: 2;\n        fill: #ddd;\n    };\n}\n\n* {\n    stroke: #333333;\n    stroke-width: 0.5;\n}\n",types:["polygon","vector"],title:"Marker",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333"},{type:"point",d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#333",fill:"#ddd",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd, symbol('cross');\n    :fill {\n        size: 20;\n        stroke: #333;\n        stroke-width: 1;\n        fill: #f2f2f2;\n    };\n}\n",types:["polygon","vector"],title:"Fill Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd"},{fill:"url(#poly_square)"}],patterns:[{id:"poly_square",icon:{d:"M0.1 0.1 L0.9 0.1 L0.9 0.9 L0.1 0.9Z",stroke:"#333",strokeLinecap:"round",strokeWidth:.05,fill:"#f2f2f2"}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    label: 'Label';\n    label-anchor: 0.5 0.5;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n\n    stroke: #474747;\n    fill: symbol('shape://slash');\n    :fill {\n        size: 8;\n        stroke: #000;\n        stroke-width: 1;\n        stroke-linecap: round;\n    };\n}\n",types:["polygon","vector"],title:"Label and Fill",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#000",strokeWidth:2},{fill:"url(#line)"}],texts:[{text:"Label",style:{fontSize:50,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",style:{fontSize:50,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}},{types:["point","vector"],title:"Square",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('square');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Circle",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('circle');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Triangle",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('triangle');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Star",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('star');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Cross",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('cross');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"X",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('x');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://vertline');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Plus",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://plus');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Times",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://times');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Open arrow",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://oarrow');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Closed arrow",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://carrow');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    label: 'Label';\n    label-anchor: 0.5 2;\n    label-conflict-resolution: false;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n\n    mark: symbol('circle');\n    :mark {\n        size: 7;\n        stroke: #0d0d0d;\n        stroke-width: 0.7;\n    };\n}\n",types:["polygon","point","vector"],title:"Label and Marker",format:"css",preview:{config:{type:"polygon",paths:[{type:"point",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#0d0d0d",fill:"transparent",strokeWidth:2}],texts:[{text:"Label",y:150,style:{fontSize:50,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",y:150,style:{fontSize:50,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}}].map((function(e){return i(i({},e),{},{styleId:a()})}));e.exports={baseTemplates:u,customTemplates:s}},172704:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .mapstore-filter input::-ms-clear,\r\n.msgapi .mapstore-filter input::-ms-reveal {\r\n  display: none;\r\n}\r\n",""]);const i=o}}]);