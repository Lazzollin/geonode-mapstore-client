(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[17687],{604206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>u,IC:()=>a,iU:()=>l,W7:()=>s,uB:()=>c,Rh:()=>p,G_:()=>f,vU:()=>d,Vw:()=>y,KD:()=>E,uj:()=>m,lo:()=>R,Yf:()=>b,fo:()=>F,PY:()=>v,bp:()=>T,oJ:()=>g,k4:()=>O,sc:()=>_,Li:()=>A});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",u="DRAW:GEOMETRY_CHANGED",a="DRAW:DRAW_SUPPORT_STOPPED",l="DRAW:FEATURES_SELECTED",s="DRAW:DRAWING_FEATURES",c="DRAW:SET_SNAPPING_LAYER",p="DRAW:SNAPPING_IS_LOADING",f="DRAW:TOGGLE_SNAPPING",d="DRAW:SET_SNAPPING_CONFIG";function y(e,t,r,n,o){return{type:u,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function E(){return{type:l,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function m(){return{type:s,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function R(){return{type:a}}function b(e,t,r,o,i,u){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:u}}function F(e,t){return{type:o,geometry:e,owner:t}}function v(e){return{type:i,currentStyle:e}}var T=function(e){return b("clean","",e,[],{})};function g(){return{type:f}}function O(e){return{type:c,snappingLayer:e}}function _(){return{type:p}}function A(e,t,r){return{type:d,value:e,prop:t,pluginCfg:r}}},433528:(e,t,r)=>{"use strict";r.d(t,{gJ:()=>n,Oj:()=>o,jp:()=>i,CM:()=>u,DU:()=>a,aO:()=>l,v6:()=>s,K8:()=>c,IN:()=>p,zh:()=>f,AH:()=>d,Ub:()=>y,_9:()=>E,JB:()=>m,oh:()=>R,AY:()=>b,yi:()=>F,SW:()=>v,Hk:()=>T,iQ:()=>g,dY:()=>O,$:()=>_,_u:()=>A,gG:()=>I,DI:()=>S,dZ:()=>L,qw:()=>h,f$:()=>D,bZ:()=>P,$O:()=>U,sF:()=>G,Gk:()=>C,vO:()=>N,ut:()=>w,MK:()=>j,VV:()=>M,B8:()=>x,VM:()=>Y,a3:()=>B,Xp:()=>W,DA:()=>k,sK:()=>H,yA:()=>q,r:()=>V,iB:()=>Q,WB:()=>$,vm:()=>z,EH:()=>Z,Yd:()=>X,Hg:()=>J,Lz:()=>K,ye:()=>ee,Jb:()=>te,d:()=>re,fT:()=>ne,Ib:()=>oe,Pl:()=>ie,UB:()=>ue,Uh:()=>ae,QT:()=>le,oL:()=>se,Ap:()=>ce,KD:()=>pe,Z_:()=>fe,Vw:()=>de,sY:()=>ye,kA:()=>Ee,gr:()=>me,pX:()=>Re,F5:()=>be,MO:()=>Fe,dq:()=>ve,DY:()=>Te,oO:()=>ge,uF:()=>Oe,a8:()=>_e,Pv:()=>Ae,an:()=>Ie,lg:()=>Se,nY:()=>Le,nG:()=>he,lx:()=>De,$S:()=>Pe,gc:()=>Ue,Uz:()=>Ge,fO:()=>Ce,$E:()=>Ne,cE:()=>we,JK:()=>je,YV:()=>Me,t9:()=>xe,YG:()=>Ye,HT:()=>Be,MY:()=>We,ve:()=>ke,hB:()=>He,Ox:()=>qe,zd:()=>Ve,aT:()=>Qe,VH:()=>$e,Yb:()=>ze,Jr:()=>Ze,pP:()=>Xe,gL:()=>Je,dM:()=>Ke});var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",a="FEATUREGRID:SET_SELECTION_OPTIONS",l="FEATUREGRID:TOGGLE_MODE",s="FEATUREGRID:TOGGLE_FEATURES_SELECTION",c="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",y="FEATUREGRID:START_EDITING_FEATURE",E="FEATUREGRID:START_DRAWING_FEATURE",m="FEATUREGRID:DELETE_GEOMETRY",R="FEATUREGRID:DELETE_GEOMETRY_FEATURE",b="FEATUREGRID:SAVE_SUCCESS",F="FEATUREGRID:CLEAR_CHANGES",v="FEATUREGRID:SAVE_ERROR",T="FEATUREGRID:DELETE_SELECTED_FEATURES",g="SET_FEATURES",O="FEATUREGRID:SORT_BY",_="FEATUREGRID:SET_LAYER",A="QUERY:UPDATE_FILTER",I="FEATUREGRID:CHANGE_PAGE",S="FEATUREGRID:GEOMETRY_CHANGED",L="DOCK_SIZE_FEATURES",h="FEATUREGRID:TOGGLE_TOOL",D="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",P="ASK_CLOSE_FEATURE_GRID_CONFIRM",U="FEATUREGRID:OPEN_GRID",G="FEATUREGRID:CLOSE_GRID",C="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",N="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",w="FEATUREGRID:SET_PERMISSION",j="FEATUREGRID:DISABLE_TOOLBAR",M="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",x="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",Y="FEATUREGRID:ADVANCED_SEARCH",B="FEATUREGRID:ZOOM_ALL",W="FEATUREGRID:INIT_PLUGIN",k="FEATUREGRID:SIZE_CHANGE",H="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",q="FEATUREGRID:HIDE_SYNC_POPOVER",V="FEATUREGRID:UPDATE_EDITORS_OPTIONS",Q="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",$="FEATUREGRID:SET_SYNC_TOOL",z="FEATUREGRID:SET_VIEWPORT_FILTER",Z={EDIT:"EDIT",VIEW:"VIEW"},X="FEATUREGRID:START_SYNC_WMS",J="FEATUREGRID:STOP_SYNC_WMS",K="STORE_ADVANCED_SEARCH_FILTER",ee="LOAD_MORE_FEATURES",te="FEATUREGRID:QUERY_RESULT",re="FEATUREGRID:SET_TIME_SYNC",ne="FEATUREGRID:SET_PAGINATION";function oe(){return{type:H}}function ie(){return{type:q}}function ue(e,t){return{type:te,features:e,pages:t}}function ae(e){return{type:K,filterObj:e}}function le(){return{type:W,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function se(){return{type:C}}function ce(){return{type:N}}function pe(e,t){return{type:o,features:e,append:t}}function fe(e){return{type:n,options:e}}function de(e){return{type:S,features:e}}function ye(){return{type:y}}function Ee(){return{type:E}}function me(e){return{type:i,features:e}}function Re(){return{type:m}}function be(e){return{type:R,features:e}}function Fe(){return{type:u}}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=e.showCheckbox;return{type:a,multiselect:t,showCheckbox:r}}function Te(e,t){return{type:O,sortBy:e,sortOrder:t}}function ge(e,t){return{type:I,page:e,size:t}}function Oe(e){return{type:_,id:e}}function _e(e){return{type:A,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}function Ae(e,t){return{type:h,tool:e,value:t}}function Ie(e,t,r){return{type:D,name:e,key:t,value:r}}function Se(){return{type:l,mode:Z.EDIT}}function Le(){return{type:l,mode:Z.VIEW}}function he(e,t){return{type:c,features:e,updated:t}}function De(e){return{type:p,features:e}}function Pe(){return{type:f}}function Ue(){return{type:b}}function Ge(){return{type:T}}function Ce(){return{type:d}}function Ne(){return{type:F}}function we(){return{type:v}}function je(){return{type:P}}function Me(){return{type:G}}function xe(){return{type:U}}function Ye(e){return{type:j,disabled:e}}function Be(e){return{type:w,permission:e}}function We(){return{type:Y}}function ke(){return{type:B}}function He(){return{type:X}}function qe(e,t){return{type:k,size:e,dockProps:t}}var Ve=function(e){return{type:ee,pages:e}},Qe=function(e){return{type:M,activated:e}},$e=function(e){return{type:x,deactivated:e}},ze=function(e){return{type:re,value:e}},Ze=function(e){return{type:ne,size:e}},Xe=function(e){return{type:Q,updateFilterAction:e}},Je=function(e){return{type:$,syncWmsFilter:e}},Ke=function(e){return{type:z,value:e}}},807878:(e,t,r)=>{"use strict";r.d(t,{E6:()=>u,vo:()=>a,l1:()=>l,J9:()=>s,U:()=>c,z8:()=>p,ql:()=>f,O_:()=>d,M$:()=>y,Ug:()=>E,p5:()=>m,Fz:()=>R,WZ:()=>b,bP:()=>F,On:()=>v,d_:()=>T,xM:()=>g,bl:()=>O,Wi:()=>_,PN:()=>A,_M:()=>I,Wm:()=>S,Eg:()=>L,V1:()=>h,cY:()=>D,RD:()=>P,Hl:()=>U,co:()=>G,uY:()=>C,H8:()=>N,je:()=>w,go:()=>j,_8:()=>M,xd:()=>x,o7:()=>Y,Nr:()=>B,Gf:()=>W,nh:()=>k,Rf:()=>H,Xp:()=>q,D6:()=>V,Sm:()=>Q,Ef:()=>$,qu:()=>z,LY:()=>Z,jW:()=>X,kQ:()=>J,JG:()=>K,js:()=>ee,q$:()=>te,OZ:()=>re,Nc:()=>ne,NV:()=>oe,I5:()=>ie,QL:()=>ue,I:()=>ae,ku:()=>le,EU:()=>se,IV:()=>ce,HT:()=>pe,lg:()=>fe,ds:()=>de,VF:()=>ye,DD:()=>Ee,uo:()=>me,Ry:()=>Re,ZH:()=>be,AQ:()=>Fe,yC:()=>ve,F:()=>Te,mc:()=>ge,uM:()=>_e,eJ:()=>Ae,uP:()=>Ie,N5:()=>Se,bn:()=>Le,Bm:()=>he,F2:()=>De,jR:()=>Pe,$J:()=>Ue,ln:()=>Ge});var n=r(375875),o=r.n(n);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var u="ADD_FILTER_FIELD",a="REMOVE_FILTER_FIELD",l="UPDATE_FILTER_FIELD",s="UPDATE_EXCEPTION_FIELD",c="ADD_GROUP_FIELD",p="UPDATE_LOGIC_COMBO",f="REMOVE_GROUP_FIELD",d="CHANGE_CASCADING_VALUE",y="EXPAND_ATTRIBUTE_PANEL",E="EXPAND_SPATIAL_PANEL",m="QUERYFORM:EXPAND_CROSS_LAYER",R="QUERYFORM:SET_CROSS_LAYER_PARAMETER",b="QUERYFORM:RESET_CROSS_LAYER_FILTER",F="SELECT_SPATIAL_METHOD",v="SELECT_VIEWPORT_SPATIAL_METHOD",T="UPDATE_GEOMETRY",g="SELECT_SPATIAL_OPERATION",O="CHANGE_SPATIAL_ATTRIBUTE",_="CHANGE_SPATIAL_FILTER_VALUE",A="REMOVE_SPATIAL_SELECT",I="SHOW_SPATIAL_DETAILS",S="QUERY_FORM_SEARCH",L="QUERY_FORM_RESET",h="SHOW_GENERATED_FILTER",D="CHANGE_DWITHIN_VALUE",P="ZONE_SEARCH",U="ZONE_SEARCH_ERROR",G="ZONE_FILTER",C="ZONE_CHANGE",N="ZONES_RESET",w="SIMPLE_FILTER_FIELD_UPDATE",j="ADD_SIMPLE_FILTER_FIELD",M="REMOVE_SIMPLE_FILTER_FIELD",x="REMOVE_ALL_SIMPLE_FILTER_FIELDS",Y="UPDATE_FILTER_FIELD_OPTIONS",B="LOADING_FILTER_FIELD_OPTIONS",W="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",k="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",H="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",q="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD_OPTIONS",V="SET_AUTOCOMPLETE_MODE",Q="TOGGLE_AUTOCOMPLETE_MENU",$="QUERYFORM:LOAD_FILTER",z="QUERYFORM:UPSERT_FILTERS",Z="QUERYFORM:REMOVE_FILTERS";function X(e){return{type:u,groupId:e}}function J(e,t){return{type:c,groupId:e,index:t}}function K(e){return{type:a,rowId:e}}function ee(e,t){return{type:Q,rowId:e,status:t,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function te(e,t,r,n){return{type:l,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function re(e,t){return{type:s,rowId:e,exceptionMessage:t}}function ne(e,t){return{type:p,groupId:e,logic:t}}function oe(e){return{type:V,status:e}}function ie(e){return{type:f,groupId:e}}function ue(e){return{type:d,attributes:e}}function ae(e){return{type:y,expand:e}}function le(e){return{type:E,expand:e}}function se(e){return{type:m,expand:e}}function ce(e,t){return{type:R,key:e,value:t}}function pe(e,t){return{type:F,fieldName:t,method:e}}function fe(){return{type:v}}function de(e){return{type:T,geometry:e}}function ye(e,t){return{type:g,fieldName:t,operation:e}}function Ee(e){return{type:O,attribute:e}}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feature,r=e.srsName,n=e.collectGeometries,o=e.style,i=e.options,u=e.value;return{type:_,value:u,collectGeometries:n,options:i,geometry:t&&t.geometry,feature:t,srsName:r,style:o}}function Re(){return{type:A}}function be(e){return{type:I,show:e}}function Fe(e){return{type:D,distance:e}}function ve(e,t){return{type:S,searchUrl:e,filterObj:t}}function Te(e){return{type:$,filter:e}}function ge(e){return{type:L,skip:e}}function Oe(e,t){return{type:U,error:e,id:t}}function _e(e,t){return{type:P,active:e,id:t}}function Ae(e,t,r){return function(n){return o().post(e,t,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"text/plain"}}).then((function(o){var u=o.data;if("object"!==i(u))try{u=JSON.parse(u)}catch(o){n(Oe("Search result broken ("+e+":   "+t+"): "+o.message,r))}n(function(e,t){return{type:G,data:e,id:t}}(u,r)),n(_e(!1,r))})).catch((function(e){n(Oe(e,r))}))}}function Ie(e,t){return{type:C,id:e,value:t}}function Se(e){return{type:W,rowId:(new Date).getTime(),groupId:e}}function Le(e,t,r,n){return{type:k,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function he(e){return{type:H,rowId:e}}function De(){return{type:b}}function Pe(e,t){return{type:B,status:e,filterField:t,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function Ue(e,t,r){return{type:Y,filterField:e,options:t,valuesCount:r}}function Ge(e,t,r){return{type:q,filterField:e,options:t,valuesCount:r}}},95797:(e,t,r)=>{"use strict";r.d(t,{DR:()=>n,S0:()=>o,u7:()=>i,lj:()=>u,yz:()=>a,lN:()=>l,zW:()=>s,Yx:()=>c,VN:()=>p,Hu:()=>f,VT:()=>d,RD:()=>y,Qq:()=>E,R1:()=>m,_T:()=>R,vO:()=>b,XO:()=>F,jG:()=>v,Xc:()=>T,gT:()=>g,rG:()=>O,t3:()=>_,Fs:()=>A,w_:()=>I,Lm:()=>S,rh:()=>L,rP:()=>h,IO:()=>D}),r(375875);var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",a="FEATURE_LOADING",l="FEATURE_TYPE_ERROR",s="FEATURE_ERROR",c="QUERY_CREATE",p="QUERY:UPDATE_QUERY",f="QUERY_RESULT",d="QUERY_ERROR",y="RESET_QUERY",E="QUERY",m="INIT_QUERY_PANEL",R="QUERY:TOGGLE_SYNC_WMS",b="QUERY:TOGGLE_LAYER_FILTER";function F(){return{type:R}}function v(){return{type:b}}function T(){return{type:m}}function g(e,t){return{type:o,url:e,typeName:t}}function O(e,t){return{type:i,typeName:e,featureType:t}}function _(e,t){return{type:l,typeName:e,error:t}}function A(e){return{type:a,isLoading:e}}function I(e,t,r,n,o){return{type:f,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function S(e){return{type:d,error:e}}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.updates,r=e.reason,n=e.useLayerFilter;return{type:p,updates:t,reason:r,useLayerFilter:n}}function h(e,t){return{type:c,searchUrl:e,filterObj:t}}function D(e,t,r,n){return{type:E,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}},501157:(e,t,r)=>{"use strict";r.d(t,{ID:()=>I,en:()=>S,Xv:()=>h,FU:()=>P,gs:()=>G,tt:()=>C,jY:()=>N,T6:()=>w,ZP:()=>j});var n=r(472500),o=r.n(n),i=r(701469),u=r.n(i),a=r(984596),l=r.n(a),s=r(227361),c=r.n(s),p=r(505055),f=r.n(p),d=r(375875),y=r.n(d),E=r(737275),m=r(719824),R=r(577215);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function F(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _={},A="1.3.0",I="1.1.1",S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{service:"WMS",version:A,request:"GetCapabilities"},r=arguments.length>2?arguments[2]:void 0,n=(u()(e)&&e||e.split(","))[0],i=o().parse(n,!0);return o().format(g(g({},i),{},{search:null,query:g(g(g({},t),i.query),(null==r?void 0:r.query)||{})}))},L=function(e){var t=e&&e.Title,r=e.LogoURL&&g(g({},c()(e,"LogoURL.$")||{}),{},{format:c()(e,"LogoURL.Format")}),n=c()(e,'OnlineResource.$["xlink:href"]');return{title:t,logo:r,imageUrl:c()(e,'LogoURL.OnlineResource.$["xlink:href"]'),link:n}},h=function e(t){var r,n,o=null!==(r=null==t?void 0:t.Layer)&&void 0!==r?r:null==t?void 0:t.layer,i=null!==(n=null==t?void 0:t.Name)&&void 0!==n?n:null==t?void 0:t.name;return o?l()(o).reduce((function(t,r){var n,o,i=null!==(n=r.Layer)&&void 0!==n?n:r.layer,u=null!==(o=r.Name)&&void 0!==o?o:r.name;return[].concat(F(t),F(e(r)),F(i&&u?[r]:[]))}),[]):i&&[t]||[]},D=function(){var e,t,r,n,o,i,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0,p=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0,d=s.Capability,y=s.Service,E=(a=d).Request&&a.Request.GetMap&&a.Request.GetMap.DCPType&&a.Request.GetMap.DCPType.HTTP&&a.Request.GetMap.DCPType.HTTP.Get&&a.Request.GetMap.DCPType.HTTP.Get.OnlineResource&&a.Request.GetMap.DCPType.HTTP.Get.OnlineResource.$||void 0,m=d.Layer&&(null===(e=d.Layer.SRS||d.Layer.CRS)||void 0===e?void 0:e.map((function(e){return e.toUpperCase()})))||[],R=d.Layer&&d.Layer.Attribution&&L(d.Layer.Attribution),b=l()((null==d||null===(t=d.Request)||void 0===t||null===(r=t.GetMap)||void 0===r?void 0:r.Format)||[]),F=l()((null==d||null===(n=d.Request)||void 0===n||null===(o=n.GetFeatureInfo)||void 0===o?void 0:o.Format)||[]),v=h(d),T=(u()(v)?v:[v]).filter((function(e){return!f||-1!==e.Name.toLowerCase().indexOf(f.toLowerCase())||e.Title&&-1!==e.Title.toLowerCase().indexOf(f.toLowerCase())||e.Abstract&&-1!==e.Abstract.toLowerCase().indexOf(f.toLowerCase())}));return{numberOfRecordsMatched:T.length,numberOfRecordsReturned:Math.min(p,T.length),nextRecord:c+Math.min(p,T.length)+1,service:y,layerOptions:{version:(null==s||null===(i=s.$)||void 0===i?void 0:i.version)||A},records:T.filter((function(e,t){return t>=c-1&&t<c-1+p})).map((function(e){return g(g({},e),{},{getMapFormats:b,getFeatureInfoFormats:F,onlineResource:E,SRS:m,credits:e.Attribution?L(e.Attribution):R})}))}},P=function(e){return y().get(S(e,{service:"WMS",version:A,request:"GetCapabilities"})).then((function(e){var t;return f().parseString(e.data,{explicitArray:!1},(function(e,r){t=r})),t.WMS_Capabilities||t.WMT_MS_Capabilities||{}}))},U=function(e,t,r,n){var o=_[e];return o&&(new Date).getTime()<o.timestamp+1e3*((0,E.u8)("cacheExpire")||60)?new Promise((function(e){e(D(o.data,t,r,n))})):P(e).then((function(o){return _[e]={timestamp:(new Date).getTime(),data:o},D(o,t,r,n)}))},G=function(e,t){return y().get(S(e,{service:"WMS",version:I,layers:t,request:"DescribeLayer"})).then((function(e){var t;return f().parseString(e.data,{explicitArray:!1},(function(e,r){t=r&&r.WMS_DescribeLayerResponse&&r.WMS_DescribeLayerResponse.LayerDescription})),(t=Array.isArray(t)?t:[t]).map((function(e){return g(g({},e&&e.$||{}),{},{layerName:e&&e.$&&e.$.name,query:g({},e&&e.query&&e.query.$||{})})}))}))},C=function(e,t,r,n){return U(e,t,r,n)},N=function(e,t){for(var r=e,n=r.EX_GeographicBoundingBox||r.exGeographicBoundingBox||(0,m.getWMSBoundingBox)(r.BoundingBox)||r.LatLonBoundingBox&&r.LatLonBoundingBox.$||r.latLonBoundingBox;!n&&r.Layer&&r.Layer.length;)n=(r=r.Layer[0]).EX_GeographicBoundingBox||r.exGeographicBoundingBox||(0,m.getWMSBoundingBox)(r.BoundingBox)||r.LatLonBoundingBox&&r.LatLonBoundingBox.$||r.latLonBoundingBox;n||(n={westBoundLongitude:-180,southBoundLatitude:-90,eastBoundLongitude:180,northBoundLatitude:90});var o={extent:[n.westBoundLongitude||n.minx,n.southBoundLatitude||n.miny,n.eastBoundLongitude||n.maxx,n.northBoundLatitude||n.maxy],crs:"EPSG:4326"};return t?{crs:o.crs,bounds:{minx:o.extent[0],miny:o.extent[1],maxx:o.extent[2],maxy:o.extent[3]}}:o},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return P(e).then((function(e){var r,n,o,i,u=e.Capability,a=l()((null==u||null===(r=u.Request)||void 0===r||null===(n=r.GetMap)||void 0===n?void 0:n.Format)||[]).filter(R.F0);return t?{imageFormats:a,infoFormats:l()((null==u||null===(o=u.Request)||void 0===o||null===(i=o.GetFeatureInfo)||void 0===i?void 0:i.Format)||[]).filter(R.cP)}:a})).catch((function(){return t?{imageFormats:[],infoFormats:[]}:[]}))};const j={flatLayers:h,parseUrl:S,getDimensions:function(e){return l()(e.Dimension||e.dimension||[]).map((function(t,r){var n=e.Extent&&l()(e.Extent)[r]||e.extent&&l()(e.extent)[r];return{name:t.$.name,units:t.$.units,unitSymbol:t.$.unitSymbol,default:t.$.default||n&&n.$.default,values:t._&&t._.split(",")||n&&n._&&n._.split(",")}}))},getCapabilities:P,describeLayer:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y().get(S(e,{service:"WMS",version:I,layers:t,request:"DescribeLayer"},r)).then((function(e){var t,r,n;f().parseString(e.data,{explicitArray:!1},(function(e,t){n=t}));var o=(null===(t=n)||void 0===t||null===(r=t.WMS_DescribeLayerResponse)||void 0===r?void 0:r.LayerDescription)&&l()(n.WMS_DescribeLayerResponse.LayerDescription)[0];return o&&g(g({},null==o?void 0:o.$),(null==o?void 0:o.Query)&&{query:l()(o.Query).map((function(e){return g({},null==e?void 0:e.$)}))})}))},getRecords:U,describeLayers:G,textSearch:C,parseLayerCapabilities:function(e,t){var r=e.Capability;return h(r).find((function(e){var r=e.Name;return 2===t.name.split(":").length&&r&&2===r.split(":").length?t.name===r&&e:r&&2===r.split(":").length?t.name===r.split(":")[1]&&e:2===t.name.split(":").length?t.name.split(":")[1]===r&&e:t.name===r&&e}))},getBBox:N,reset:function(){Object.keys(_).forEach((function(e){delete _[e]}))},getSupportedFormat:w}},807472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(737295),o=r.n(n),i=r(675263),u=r.n(i),a=r(124852),l=r.n(a),s=r(485294),c=r.n(s),p=r(472986),f=r.n(p),d=r(805346);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function T(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,r,n,i,u=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(i){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(F(e=u.call.apply(u,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?l().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},l().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},l().createElement(d.Z,{msgId:"loading"}),l().createElement(f(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),T(F(e),"renderRole",(function(t){return l().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),T(F(e),"hasRole",(function(t){return l().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),T(F(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=a,(r=[{key:"render",value:function(){var e=this,t=l().createElement("div",{id:this.props.id,style:m({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},l().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),l().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?l().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):l().createElement("span",null)),r=this.props.draggable?l().createElement(c(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?l().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&R(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(l().Component);T(O,"propTypes",{id:u().string.isRequired,style:u().object,backgroundStyle:u().object,className:u().string,maskLoading:u().bool,containerClassName:u().string,headerClassName:u().string,bodyClassName:u().string,footerClassName:u().string,onClickOut:u().func,modal:u().bool,start:u().object,draggable:u().bool,bounds:u().oneOfType([u().string,u().object])}),T(O,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const _=O},843614:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(737295),o=r.n(n),i=r(480681),u=r(461365);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(n);if(o){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return t=u,(r=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}])&&l(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.Modal);const f=o()((0,u.Z)(p),{Body:i.Modal.Body,Dialog:i.Modal.Dialog,Footer:i.Modal.Footer,Header:i.Modal.Header,Title:i.Modal.Title})},399534:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(461365),o=r(356936);const i=(0,n.Z)(o.h_)},797301:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(95797),o=r(433528),i=r(807878),u=r(782904),a=r(737295),l=r.n(a);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f={featureTypes:{},data:{},result:null,resultError:null,syncWmsFilter:!1,isLayerFilter:!1};const d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case n.S0:return l()({},t,{typeName:r.typeName,url:r.url});case n.u7:return l()({},t,{featureTypes:l()({},t.featureTypes,c({},r.typeName,r.featureType))});case n.lN:return l()({},t,{featureTypes:l()({},t.featureTypes,c({},r.typeName,{error:r.error}))});case n.yz:return l()({},t,{featureLoading:r.isLoading});case n.lj:return l()({},t,{featureLoading:!1,data:l()({},t.data,c({},r.typeName,(e=r.feature,["STATE_NAME","STATE_ABBR","SUB_REGION","STATE_FIPS"].map((function(t){return{attribute:t,values:e.features.reduce((function(e,r){return-1===e.indexOf(r.properties[t])?[].concat((n=e,function(e){if(Array.isArray(e))return p(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[r.properties[t]]).sort():e;var n}),[])}})).reduce((function(e,t){return l()(e,c({},t.attribute,t.values.map((function(e){return{id:e,name:e}}))))}),{}))))});case n.zW:return l()({},t,{featureLoading:!1,featureTypes:l()({},t.data,c({},r.typeName,{error:r.error}))});case n.Yx:return l()({},t,{isNew:!0,searchUrl:r.searchUrl,filterObj:r.filterObj});case n.VN:return l()({},t,{filterObj:l()({},t.filterObj,r.updates)});case n.Hu:return l()({},t,{isNew:!1,result:r.result,searchUrl:r.searchUrl,filterObj:r.filterObj,resultError:null});case n.VT:return l()({},t,{isNew:!1,result:null,resultError:r.error});case u.l:case i.Eg:return r.skip&&r.skip.indexOf("query")>=0?t:l()({},t,{isNew:!1,result:null,filterObj:null,searchUrl:null,filters:null});case n.RD:return l()({},t,{result:null,resultError:null});case n._T:return l()({},t,{syncWmsFilter:!t.syncWmsFilter});case o.WB:return l()({},t,{syncWmsFilter:r.syncWmsFilter});case n.vO:return l()({},t,{isLayerFilter:!t.isLayerFilter});default:return t}}},146905:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(807878),o=r(604206),i=r(737295),u=r.n(i),a=r(819412),l=r.n(a),s=r(294707),c=r.n(s),p=r(227361),f=r.n(p),d=r(761868),y=["attribute"];function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function m(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T={searchUrl:null,featureTypeConfigUrl:null,showGeneratedFilter:!1,attributePanelExpanded:!0,spatialPanelExpanded:!0,crossLayerExpanded:!0,showDetailsPanel:!1,groupLevels:5,useMapProjection:!1,toolbarEnabled:!0,groupFields:[{id:1,logic:"OR",index:0}],maxFeaturesWPS:5,filterFields:[],spatialField:{method:null,attribute:"the_geom",operation:"INTERSECTS",geometry:null},simpleFilterFields:[]},g=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u()({},t,(v(e={},r.fieldName,r.fieldValue),v(e,"type",r.fieldType),e),{fieldOptions:u()({},F({},t.fieldOptions),{currentPage:void 0===r.fieldOptions.currentPage?1:r.fieldOptions.currentPage})});return"attribute"===r.fieldName&&(n.value="string"===r.fieldType?"":null,n.operator="="),"operator"===r.fieldName&&(n.value=null),n};const O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.E6:var r={rowId:(new Date).getTime(),groupId:t.groupId,attribute:null,operator:"=",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};return u()({},e,{filterFields:e.filterFields?[].concat(m(e.filterFields),[r]):[r]});case n.vo:return u()({},e,{filterFields:e.filterFields.filter((function(e){return e.rowId!==t.rowId}))});case n.l1:return u()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?g(e,t):e}))});case n.o7:return u()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.filterField.rowId?u()({},e,{options:u()({},F({},e.options),v({},e.attribute,t.options))},{fieldOptions:u()({},F({},e.fieldOptions),{valuesCount:t.valuesCount})}):e}))});case n.Sm:return"filterField"===t.layerFilterType?u()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?u()({},e,{openAutocompleteMenu:t.status}):e}))}):(0,d.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(f()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((function(e){return e.rowId===t.rowId?F(F({},e),{},{openAutocompleteMenu:t.status}):e})),e);case n.D6:return u()({},e,{autocompleteEnabled:t.status});case n.Nr:return"filterField"===t.layerFilterType?u()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.filterField.rowId?u()({},e,{loading:t.status}):e}))}):(0,d.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(f()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((function(e){return e.rowId===t.filterField.rowId?F(F({},e),{},{loading:t.status}):e})),e);case n.J9:return u()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?u()({},e,{exception:t.exceptionMessage}):e}))});case n.U:var i={id:(new Date).getTime(),logic:"OR",groupId:t.groupId,index:t.index+1};return u()({},e,{groupFields:e.groupFields?[].concat(m(e.groupFields),[i]):[i]});case n.z8:return u()({},e,{groupFields:e.groupFields.map((function(e){return e.id===t.groupId?u()({},e,{logic:t.logic}):e}))});case n.ql:return u()({},e,{filterFields:e.filterFields.filter((function(e){return e.groupId!==t.groupId})),groupFields:e.groupFields.filter((function(e){return e.id!==t.groupId}))});case n.O_:return u()({},e,{filterFields:e.filterFields.map((function(e){for(var r=0;r<t.attributes.length;r++)if(e.attribute===t.attributes[r].id)return u()({},e,{value:null});return e}))});case n.M$:return u()({},e,{attributePanelExpanded:t.expand});case n.Ug:return u()({},e,{spatialPanelExpanded:t.expand});case n.p5:return u()({},e,{crossLayerExpanded:t.expand});case n.Fz:return u()({},e,{crossLayerFilter:(0,d.t8)(t.key,t.value,e.crossLayerFilter)});case n.Gf:return(0,d.vy)("crossLayerFilter.collectGeometries.queryCollection.filterFields",{rowId:t.rowId,groupId:t.groupId,attribute:null,operator:"=",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null},{rowId:t.rowId},e);case n.nh:return(0,d.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(f()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((function(e){return e.rowId===t.rowId?g(e,t):e})),e);case n.Rf:return(0,d.z6)("crossLayerFilter.collectGeometries.queryCollection.filterFields",{rowId:t.rowId},e);case n.WZ:return u()({},e,{crossLayerFilter:{attribute:e.crossLayerFilter&&e.crossLayerFilter.attribute}});case n.Xp:return(0,d.t8)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(f()(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((function(e){return e.rowId===t.filterField.rowId?F(F({},e),{},{options:F(F({},e.options),{},v({},e.attribute,t.options)),fieldOptions:F(F({},e.fieldOptions),{},{valuesCount:t.valuesCount})}):e})),e);case n.bP:var a;return u()({},e,{spatialField:u()({},e.spatialField,(a={},v(a,t.fieldName,t.method),v(a,"geometry",null),a))});case n.d_:return u()({},e,{spatialField:u()({},e.spatialField,{geometry:t.geometry})},{toolbarEnabled:!0});case n.xM:return u()({},e,{spatialField:u()({},e.spatialField,v({},t.fieldName,t.operation))});case n.bl:return u()({},e,{spatialField:u()({},e.spatialField,{attribute:t.attribute}),crossLayerFilter:u()({},e.crossLayerFilter,{attribute:t.attribute})});case o.hZ:return"queryform"===t.owner&&"start"===t.status?u()({},e,{toolbarEnabled:!1}):e;case n.Wi:return u()({},e,{toolbarEnabled:!0,spatialField:u()({},e.spatialField,{value:t.value,collectGeometries:t.collectGeometries,geometry:t.srsName?F(F({},t.geometry),{},{projection:t.srsName}):t.geometry})});case o.pb:return"queryform"===t.owner?u()({},e,{toolbarEnabled:!0,spatialField:u()({},e.spatialField,{collectGeometries:t.collectGeometries,geometry:t.geometry})}):e;case n.PN:var s=u()({},T.spatialField,{attribute:e.spatialField.attribute,value:void 0});return u()({},e,{spatialField:u()({},e.spatialField,s)});case n._M:return u()({},e,{showDetailsPanel:t.show});case n.Eg:var p=u()({},T.spatialField,{attribute:e.spatialField.attribute,value:void 0}),R={attribute:e.crossLayerFilter&&e.crossLayerFilter.attribute};return u()({},e,T,{spatialField:p,crossLayerFilter:R,filters:[]});case n.V1:return u()({},e,{showGeneratedFilter:t.data});case n.cY:return u()({},e,{spatialField:u()({},e.spatialField,{geometry:u()({},e.spatialField.geometry,{distance:t.distance})})});case n.co:return u()({},e,{spatialField:u()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id&&t.data.features&&t.data.features.length>0?u()({},e,{values:t.data.features,open:!0,error:null}):e}))})});case n.RD:return u()({},e,{spatialField:u()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id?u()({},e,{busy:t.active}):e}))})});case n.uY:var b,O,_=e.spatialField.zoneFields.map((function(e){if(e.id===t.id){if(b=e.multivalue?t.value.value:t.value.value[0],t.value.feature[0]){var r=t.value.feature[0],n=r.geometry_name;if(e.multivalue&&t.value.feature.length>1){for(var o=1;o<t.value.feature.length;o++){var i=t.value.feature[o];i&&(r=l()(r,i))}O={coordinates:r.geometry.coordinates,geometryName:n,geometryType:r.geometry.type}}else O={coordinates:r.geometry.coordinates,geometryName:n,geometryType:r.geometry.type}}return u()({},e,{value:b,open:!1,geometryName:O?O.geometryName:null})}return e.dependson&&t.id===e.dependson.id?u()({},e,{disabled:!1,values:null,value:null,open:!1,dependson:u()({},e.dependson,{value:b})}):e})),A=c()({type:"FeatureCollection",features:t.value.feature});return u()({},e,{spatialField:u()({},e.spatialField,{zoneFields:_,geometry:A&&O?{extent:A,type:O.geometryType,coordinates:O.coordinates}:null})});case n.H8:return u()({},e,{spatialField:u()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){var t=u()({},e,{values:null,value:null,open:!1,error:null});return e.dependson?u()({},t,{disabled:!0,open:!1,value:null,dependson:u()({},e.dependson,{value:null})}):t})),geometry:null})});case n.Hl:var I;return u()({},e,{spatialField:u()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id?(I="object"!==E(t.error)?t.error.status&&t.error.statusText&&t.error.data?{status:t.error.status,statusText:t.error.statusText,data:t.error.data}:{message:t.error.message||"unknown error"}:t.error,u()({},e,{error:I,busy:!1})):e}))})});case n.je:var S=e.simpleFilterFields.reduce((function(e,r){return r.fieldId===t.id?e.push(F(F({},r),t.properties)):e.push(r),e}),[]);return F(F({},e),{},{simpleFilterFields:S});case n.qu:var L,h=(null!==(L=e.filters)&&void 0!==L?L:[]).reduce((function(e,r){var n=t.filters.find((function(e){return e.id===r.id}));return n?e.push(n):e.push(r),e}),[]);return t.filters.forEach((function(e){h.find((function(t){return t.id===e.id}))||h.push(e)})),F(F({},e),{},{filters:h});case n.LY:var D,P=(null!==(D=e.filters)&&void 0!==D?D:[]).reduce((function(e,r){return t.filters.find((function(e){return e.id===r.id}))||e.push(r),e}),[]);return F(F({},e),{},{filters:P});case n.go:var U=t.properties.fieldId?t.properties:F(F({},t.properties),{},{fieldId:(new Date).getTime()}),G=e.simpleFilterFields?[].concat(m(e.simpleFilterFields),[U]):[U];return F(F({},e),{},{simpleFilterFields:G});case n._8:return F(F({},e),{},{simpleFilterFields:e.simpleFilterFields.filter((function(e){return e.fieldId!==t.id}))});case n.xd:return F(F({},e),{},{simpleFilterFields:[]});case n.Ef:var C=T.spatialField,N=(C.attribute,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(C,y)),w=u()({},T,{spatialField:F({},N)}),j=t.filter||w,M=j.spatialField,x=j.filterFields,Y=j.groupFields,B=j.crossLayerFilter,W=j.attributePanelExpanded,k=j.spatialPanelExpanded,H=j.crossLayerExpanded,q=j.filters;return F(F({},e),{attributePanelExpanded:W,spatialPanelExpanded:k,crossLayerExpanded:H,spatialField:F(F({},M),{},{attribute:M&&M.attribute||e.spatialField&&e.spatialField.attribute}),filters:null!=q?q:[],filterFields:x,groupFields:Y,crossLayerFilter:F(F({},B),{},{attribute:B&&B.attribute||e.crossLayerFilter&&e.crossLayerFilter.attribute})});default:return e}}}}]);