(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[11216,47310],{53001:(e,t,r)=>{"use strict";r.d(t,{xT:()=>n,H_:()=>o,Wv:()=>i,gC:()=>u,dG:()=>a,oQ:()=>c,Q2:()=>l,R3:()=>s,Zr:()=>f,Op:()=>p,l$:()=>d,uL:()=>m,zg:()=>E,K2:()=>v,M3:()=>y,st:()=>O,US:()=>A,$c:()=>g,pW:()=>R,$D:()=>T,ke:()=>S,rE:()=>_,vw:()=>C,r5:()=>h,X1:()=>G,V3:()=>L,p2:()=>b});var n="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",i="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",u="BACKGROUND_SELECTOR:BACKGROUND_ADDED",a="BACKGROUND_SELECTOR:BACKGROUND_EDITED",c="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",l="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",s="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",f="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",p="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",d="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",m="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",E="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION",v="BACKGROUND_SELECTOR:SYNC_CURRENT_BACKGROUND_LAYER";function y(e){return{type:p,backgrounds:e}}function O(e){return{type:n,source:e}}function A(e){return{type:c,modalParams:e}}function g(e){return{type:l,modalParams:e}}function R(e){return{type:u,layerId:e}}function T(e){return{type:a,layerId:e}}function S(e){return{type:i,layerId:e}}function _(e){return{type:v,id:e}}function C(e){return{type:E,allow:e}}function h(e,t){return{type:s,thumbnailData:e,id:t}}function G(e){return{type:o,backgroundId:e}}function L(){return{type:d}}function b(e){return{type:m,show:e,layerTitle:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,layerId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}},931273:(e,t,r)=>{"use strict";r.d(t,{WX:()=>c,r7:()=>l,V3:()=>s,HR:()=>f,xi:()=>p,ur:()=>d,vK:()=>m,nm:()=>E,QF:()=>v,zZ:()=>O,uN:()=>A,Bz:()=>g,im:()=>R,CO:()=>T,$X:()=>S,Mt:()=>_,Oq:()=>C,YO:()=>h,PR:()=>G,wI:()=>L,bv:()=>b,mh:()=>I,$Y:()=>D,eA:()=>P,UT:()=>N,cS:()=>w,l3:()=>x,Kz:()=>M,vg:()=>U,xM:()=>F,do:()=>B,lb:()=>k,yu:()=>j,c$:()=>K,tt:()=>Y,nX:()=>q,BG:()=>H,Rc:()=>W,K4:()=>V,Dw:()=>X,dL:()=>$,In:()=>Z,r1:()=>z,XW:()=>Q,L8:()=>J,i3:()=>ee,XM:()=>te,X7:()=>re,M3:()=>ne,N3:()=>oe,SU:()=>ie,wo:()=>ue,ye:()=>ae,m:()=>ce,wl:()=>le,bu:()=>se,A4:()=>fe,vG:()=>pe,ky:()=>de,Wf:()=>me,Ts:()=>Ee,IT:()=>ve,XS:()=>ye,tx:()=>Oe,We:()=>Ae,nx:()=>ge,E9:()=>Re,zX:()=>Te});var n=r(659551),o=r(501157),i=r(603475),u=r(932354),a=r(197395),c=(n.ZP,o.ZP,i.Z,u.Z,"CATALOG:ADD_LAYERS_FROM_CATALOGS"),l="CATALOG:ADD_LAYER_AND_DESCRIBE",s="CATALOG:TEXT_SEARCH",f="CATALOG:RECORD_LIST_LOADED",p="CATALOG:RESET_CATALOG",d="CATALOG:CATALOG_CLOSE",m="CATALOG:RECORD_LIST_LOAD_ERROR",E="CATALOG:CHANGE_CATALOG_FORMAT",v="CATALOG:ADD_LAYER_ERROR",y="CATALOG:DESCRIBE_ERROR",O="CATALOG:CHANGE_SELECTED_SERVICE",A="CATALOG:CHANGE_CATALOG_MODE",g="CATALOG:CHANGE_METADATA_TEMPLATE",R="CATALOG:CHANGE_TITLE",T="CATALOG:CHANGE_TEXT",S="CATALOG:CHANGE_TYPE",_="CATALOG:CHANGE_SERVICE_PROPERTY",C="CATALOG:CHANGE_SERVICE_FORMAT",h="CATALOG:FOCUS_SERVICES_LIST",G="CATALOG:CHANGE_URL",L="CATALOG:ADD_CATALOG_SERVICE",b="CATALOG:DELETE_CATALOG_SERVICE",I="CATALOG:ADD_SERVICE",D="CATALOG:DELETE_SERVICE",P="CATALOG:SAVING_SERVICE",N="CATALOG:GET_METADATA_RECORD_BY_ID",w="CATALOG:SET_LOADING",x="CATALOG:TOGGLE_TEMPLATE",M="CATALOG:TOGGLE_THUMBNAIL",U="CATALOG:TOGGLE_ADVANCED_SETTINGS",F="CATALOG:FORMAT_OPTIONS_FETCH",B="CATALOG:FORMAT_OPTIONS_LOADING",k="CATALOG:SET_FORMAT_OPTIONS",j="CATALOG:NEW_SERVICE_STATUS";function K(){return{type:c,layers:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],sources:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],options:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]}}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=e.url,n=e.startPosition,o=e.maxRecords,i=e.text,u=e.options;return{type:s,format:t,url:r,startPosition:n,maxRecords:o,text:i,options:void 0===u?{}:u}}function q(e,t){return{type:f,searchOptions:e,result:t}}function H(e){return{type:E,format:e}}function W(e){return{type:P,status:e}}function V(){return{type:w,loading:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}function X(e){return{type:O,service:e}}function $(e){return{type:h,status:e}}function Z(e,t){return{type:A,mode:e,isNew:t}}function z(e){return{type:R,title:e}}function Q(e){return{type:T,text:e}}function J(e,t){return{type:_,property:e,value:t}}function ee(e){return{type:C,format:e}}function te(e){return{type:S,newType:e}}function re(e){return{type:G,url:e}}function ne(){return{type:I}}function oe(e){return{type:L,service:e}}function ie(e){return{type:b,service:e}}function ue(){return{type:D}}function ae(){return{type:p}}function ce(e){return{type:m,error:e}}function le(){return{type:d}}function se(e,t){return{type:y,layer:e,error:t}}var fe=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).zoomToLayer;return{type:l,layer:e,zoomToLayer:void 0!==t&&t}};function pe(e){return{type:v,error:e}}function de(e){return{type:N,metadataOptions:e}}var me=function(e){return{type:g,metadataTemplate:e}},Ee=function(){return{type:U}},ve=function(){return{type:x}},ye=function(){return{type:M}},Oe=function(e,t){return{type:F,url:e,force:t}},Ae=function(e){return{type:B,loading:e}},ge=function(e,t){return{type:k,formats:e,url:t}};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,a.vU)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}var Te=function(e){return{type:j,status:e}}},921914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>u,Xw:()=>a,Pn:()=>c,DZ:()=>l,e8:()=>s,E0:()=>f,F9:()=>p,X_:()=>d,pb:()=>m,qb:()=>E,Re:()=>v,ih:()=>y,xy:()=>O,jL:()=>A,oz:()=>g,ph:()=>R,lF:()=>T,gG:()=>S,cb:()=>_,GI:()=>C,B1:()=>h,fv:()=>G,gc:()=>L,zX:()=>b,ZF:()=>I,Zb:()=>D,DW:()=>P,Xp:()=>N,Fm:()=>w,sV:()=>x,Mn:()=>M,LU:()=>U,XP:()=>F,WU:()=>B,JB:()=>k,g:()=>j,ws:()=>K,HP:()=>Y,aN:()=>q,Pg:()=>W,u0:()=>V,TM:()=>X,PM:()=>$,lK:()=>Z,sv:()=>z,MO:()=>Q,oO:()=>J,Mc:()=>ee,Zw:()=>te,RA:()=>re,am:()=>ne,ZM:()=>oe,wm:()=>ie,Y$:()=>ue,Qu:()=>ae,kT:()=>ce});var n=r(647310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",u="EXCEPTIONS_FEATURE_INFO",a="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",l="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",f="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",m="HIDE_REVERSE_GEOCODE",E="GET_VECTOR_INFO",v="NO_QUERYABLE_LAYERS",y="CLEAR_WARNING",O="FEATURE_INFO_CLICK",A="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",g="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",R="TOGGLE_MAPINFO_STATE",T="UPDATE_CENTER_TO_MARKER",S="IDENTIFY:CHANGE_PAGE",_="IDENTIFY:CLOSE_IDENTIFY",C="IDENTIFY:CHANGE_FORMAT",h="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",G="IDENTIFY:EDIT_LAYER_FEATURES",L="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",b="IDENTIFY:SET_MAP_TRIGGER",I="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",D="IDENTIFY:SET_SHOW_IN_MAP_POPUP",P="IDENTIFY:IDENTIFY_IS_MOUNTED",N="IDENTIFY:INIT_PLUGIN";function w(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function x(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function M(e,t,r,n){return{type:u,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function U(){return{type:v}}function F(){return{type:y}}function B(e,t){return{type:c,reqId:e,request:t}}function k(e,t,r,n){return{type:E,layer:e,request:t,metadata:r,queryableLayers:n}}function j(){return{type:l}}function K(e){return{type:s,infoFormat:e}}function Y(){return{type:f}}function q(){return{type:p}}function H(e){return{type:d,reverseGeocodeData:e.data}}function W(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(H(e))})).catch((function(e){t(H(e))}))}}function V(){return{type:m}}function X(){return{type:R}}function $(e){return{type:T,status:e}}function Z(e,t){return{type:O,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function z(e){return{type:A,point:e}}function Q(e){return{type:g,enabled:e}}function J(e){return{type:S,index:e}}var ee=function(){return{type:_}},te=function(e){return{type:C,format:e}},re=function(e){return{type:h,showCoordinateEditor:e}},ne=function(e){return{type:G,layer:e}},oe=function(e){return{type:L,query:e}},ie=function(e){return{type:b,trigger:e}},ue=function(e){return{type:D,value:e}},ae=function(e){return{type:P,isMounted:e}},ce=function(e){return{type:N,cfg:e}}},659551:(e,t,r)=>{"use strict";r.d(t,{_b:()=>N,kv:()=>F,ZP:()=>j});var n=r(472500),o=r.n(n),i=r(227361),u=r.n(i),a=r(91175),c=r.n(a),l=r(610928),s=r.n(l),f=r(941106),p=r.n(f),d=r(414293),m=r.n(d),E=r(984596),v=r.n(E),y=r(441609),O=r.n(y),A=r(737295),g=r.n(A),R=r(375875),T=r.n(R),S=r(737275),_=r(719824),C=r(501157);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=function(e){var t=o().parse(e,!0);return o().format(g()({},t,{search:null},{query:g()({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},N='<csw:GetRecords xmlns:csw="http://www.opengis.net/cat/csw/2.0.2" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dct="http://purl.org/dc/terms/" xmlns:gmd="http://www.isotc211.org/2005/gmd" xmlns:gco="http://www.isotc211.org/2005/gco" xmlns:gmi="http://www.isotc211.org/2005/gmi" xmlns:ows="http://www.opengis.net/ows" service="CSW" version="2.0.2" resultType="results" startPosition="${startPosition}" maxRecords="${maxRecords}"> <csw:Query typeNames="csw:Record"> <csw:ElementSetName>full</csw:ElementSetName> <csw:Constraint version="1.1.0"> <ogc:Filter> ${filterXml} </ogc:Filter> </csw:Constraint> </csw:Query> </csw:GetRecords>',w=function(e,t,r){if(!t.name)return null;switch(e){case"wms":var n=0!==t.value.indexOf("http")?(r&&r.catalogURL||"")+"/"+t.value:t.value;return{type:t.protocol||t.scheme,url:n,SRS:[],params:{name:t.name}};case"arcgis":return{type:"arcgis",url:t.value,SRS:[],params:{name:t.name}};default:return null}},x=[/^OGC:WMS-(.*)-http-get-map/g,/^OGC:WMS/g],M=/serviceType\/ogc\/wms/g,U=x.concat(M),F=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(null==e?void 0:e.URI)&&v()(e.URI);if(i){var u=c()(i.map((function(e){if(e.protocol){if(x.some((function(t){return e.protocol.match(t)})))return e;if(e.protocol.match(M))return function(e){var t=new Map(Array.from(new URLSearchParams(e.value)).map((function(e){var t=I(e,2),r=t[0],n=t[1];return[r.toLowerCase(),n]}))),r=t.get("layers"),n=t.get("version");return!!r&&L(L({},e),{},{protocol:"OGC:WMS",name:r,value:"".concat(e.value.match(/[^\?]+[\?]+/g),"SERVICE=WMS").concat(n&&"&VERSION=".concat(n))})}(e)}return!1})).filter((function(e){return e})));if(u)return w("wms",u,t)}if(null!=e&&null!==(r=e.references)&&void 0!==r&&r.length){var a=v()(e.references),l=c()(a.filter((function(e){return e.scheme&&x.some((function(t){return e.scheme.match(t)}))})));if(l){var s=o().parse(l.value,!0),f=s.query&&s.query.layers||e.alternative;return w("wms",L(L({},l),{},{name:f}),t)}if(n){var p=c()(a.filter((function(e){return e.scheme&&"WWW:DOWNLOAD-REST_MAP"===e.scheme})));if(p)return w("arcgis",L(L({},p),{},{name:e.alternative}),t)}}return null},B={},k={parseUrl:P,getRecordById:function(e){return new Promise((function(t){Promise.all([r.e(99942),r.e(66372)]).then(function(){t(T().get(e).then((function(e){if(e){var t=r(566372).unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var n=t.value.abstractRecord[0].value.dcElement;if(n){for(var o={references:[]},i=0;i<n.length;i++){var u=n[i],a=u.name.localPart,c={};c="references"===a&&u.value?{value:u.value.content&&(0,S.$F)(u.value.content[0])||u.value.content||u.value,scheme:u.value.scheme}:u.value.content&&u.value.content[0]||u.value.content||u.value,o[a]&&Array.isArray(o[a])?o[a].push(c):o[a]?o[a]=[o[a],c]:o[a]=c}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,r)).catch(r.oe)}))},getRecords:function(e,t,n,o,i){return new Promise((function(a){Promise.all([r.e(99942),r.e(1269)]).then(function(){var l=r(566372),f=l.CSW,d=l.marshaller,E=l.unmarshaller,y=d.marshalString({name:"csw:GetRecords",value:f.getRecords(t,n,"string"!=typeof o&&o)});o&&"string"!=typeof o||(y=function(e,t,r){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).filter,o=(null==n?void 0:n.staticFilter)||"<ogc:Or>\n            <ogc:PropertyIsEqualTo>\n                <ogc:PropertyName>dc:type</ogc:PropertyName>\n                <ogc:Literal>dataset</ogc:Literal>\n            </ogc:PropertyIsEqualTo>\n            <ogc:PropertyIsEqualTo>\n                <ogc:PropertyName>dc:type</ogc:PropertyName>\n                <ogc:Literal>http://purl.org/dc/dcmitype/Dataset</ogc:Literal>\n            </ogc:PropertyIsEqualTo>\n       </ogc:Or>",i="<ogc:And>\n        ".concat(p()((null==n?void 0:n.dynamicFilter)||"<ogc:PropertyIsLike wildCard='%' singleChar='_' escapeChar='\\'><ogc:PropertyName>csw:AnyText</ogc:PropertyName> <ogc:Literal>%${searchText}%</ogc:Literal> </ogc:PropertyIsLike> ")({searchText:r}),"\n        ").concat(o,"\n    </ogc:And>");return p()(N)({filterXml:r?i:o,startPosition:e,maxRecords:t})}(t,n,o,i)),a(T().post(P(e),y,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=E.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var r,n=t.value,o=n.searchResults.abstractRecord||n.searchResults.any,a={numberOfRecordsMatched:n.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:n.searchResults.numberOfRecordsReturned,nextRecord:n.searchResults.nextRecord},l=[];if(o)for(var f=0;f<o.length;f++){var p=o[f].value,d={dateStamp:p.dateStamp&&p.dateStamp.date,fileIdentifier:p.fileIdentifier&&p.fileIdentifier.characterString&&p.fileIdentifier.characterString.value,identificationInfo:p.abstractMDIdentification&&p.abstractMDIdentification.value};if(p.boundingBox){var y,A=void 0;if((y=Array.isArray(p.boundingBox)?c()(p.boundingBox):p.boundingBox)&&y.value){var g,R,T,h,G=null!==(g=null===(R=y.value)||void 0===R?void 0:R.crs)&&void 0!==g?g:"",b=null===(T=G.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===T?void 0:T[0],D=(0,_.makeNumericEPSG)(null===(h=G.match(/EPSG:[0-9]+/))||void 0===h?void 0:h[0]),P=y.value.lowerCorner,N=y.value.upperCorner,w=D||(0,_.extractCrsFromURN)(b)||s()(G.split(":"));"EPSG:4326"===(w?"EPSG:"===w.slice(0,5)?(0,_.makeNumericEPSG)(w):(0,_.makeNumericEPSG)("EPSG:".concat(w)):"EPSG:4326")&&"CRS84"!==w&&"OGC:CRS84"!==w&&(P=[P[1],P[0]],N=[N[1],N[0]]),A=(0,_.makeBboxFromOWS)(P,N)}d.boundingBox={extent:A,crs:"EPSG:4326"}}var x=p.dcElement;if(x){for(var M={references:[]},k=0;k<x.length;k++){var j=x[k],K=j.name.localPart,Y={};Y="references"===K&&j.value?{value:j.value.content&&(0,S.$F)(j.value.content[0])||j.value.content||j.value,scheme:j.value.scheme}:j.value.content&&j.value.content[0]||j.value.content||j.value,M[K]&&Array.isArray(M[K])?M[K].push(Y):M[K]?M[K]=[M[K],Y]:M[K]=Y}var q=v()(M.references.length>0?M.references:M.URI);r=r?r.concat(q):q,d.dc=M}l.push(d)}return a.records=l,function(e,t,r){if(!u()(r,"options.service.autoSetVisibilityLimits",!1))return t;var n=((null==e?void 0:e.find((function(e){return U.some((function(t){var r,n;return(null==e||null===(r=e.scheme)||void 0===r?void 0:r.match(t))||(null==e||null===(n=e.protocol)||void 0===n?void 0:n.match(t))}))})))||{}).value,o=I(n&&n.split("?")||[],1)[0];if(!o)return L({},t);var i=B[o],a=!O()(i);return Promise.resolve(a?i:C.ZP.getCapabilities(o+"?version=").then((function(e){return C.ZP.flatLayers(e.Capability)})).catch((function(){return[]}))).then((function(e){var r;return a||(B[o]=e),L(L({},t),{},{records:null==t||null===(r=t.records)||void 0===r?void 0:r.map((function(t){var r=u()(F(null==t?void 0:t.dc,null,!1),"params.name",""),n=e.find((function(e){return e.Name===r}))||{},o=n.MinScaleDenominator,i=n.MaxScaleDenominator;return L(L({},t),(!m()(o)||!m()(i))&&{capabilities:{MaxScaleDenominator:i,MinScaleDenominator:o}})}))})}))}(r,a,i)}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,r)).catch(r.oe)}))},textSearch:function(e,t,r,n,o){return new Promise((function(i){i(k.getRecords(e,t,r,n,o))}))},workspaceSearch:function(e,t,n,o,i){return new Promise((function(u){Promise.all([r.e(99942),r.e(1269)]).then(function(){var a=r(484454).Filter,c=i||"%",l=o&&"%"+o+"%"||"%",s=a.propertyIsLike("dc:identifier",c+":"+l),f=a.filter(s);u(k.getRecords(e,t,n,f))}.bind(null,r)).catch(r.oe)}))},reset:function(){}};const j=k},647310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(375875),o=r.n(n),i=r(472500),u=r.n(i),a=r(737295),c=r.n(a),l={format:"json",bounded:0,polygon_geojson:1,priority:5};const s={geocode:function(e,t){var r=c()({q:e},l,t||{}),n=u().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=c()({lat:e.lat,lon:e.lng},t||{},l),n=u().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},603475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(375875),o=r.n(n),i=r(737275),u=r(472500),a=r.n(u),c=r(737295),l=r.n(c),s=r(505055),f=r.n(s),p=r(984596),d=r.n(p),m=r(719824),E=r(707294),v={},y=function(e){var t=a().parse(e,!0);return a().format(l()({},t,{search:null},{query:l()({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},O=function(e,t,r,n,o){for(var i=e.Capabilities.Contents,u=(0,E.G6)(e),a=(0,E.s5)(e),c=i.TileMatrixSet&&d()(i.TileMatrixSet)||[],s=[],f=c.length,p=0;p<f;p++)s.push((0,m.getEPSGCode)(c[p]["ows:SupportedCRS"]));var v=i.Layer,y=d()(v).filter((function(e){return!n||-1!==e["ows:Identifier"].toLowerCase().indexOf(n.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(n.toLowerCase())}));return{numberOfRecordsMatched:y.length,numberOfRecordsReturned:Math.min(r,y.length),nextRecord:t+Math.min(r,y.length)+1,records:y.filter((function(e,n){return n>=t-1&&n<t-1+r})).map((function(e){return l()({},e,{SRS:s,TileMatrixSet:c,queryable:!!(0,E.b4)(u,"GetFeatureInfo","KVP"),requestEncoding:a,style:(0,E.EN)(e),format:(0,E.JY)(e),formats:d()(e.Format),GetTileURL:(0,E.b4)(u,"GetTile",a),capabilitiesURL:o})}))}},A={parseUrl:y,getRecords:function(e,t,r,n){var u=v[e];return u&&(new Date).getTime()<u.timestamp+1e3*((0,i.u8)("cacheExpire")||60)?new Promise((function(o){o(O(u.data,t,r,n,e))})):o().get(y(e)).then((function(o){var i;return f().parseString(o.data,{explicitArray:!1},(function(e,t){i=t})),v[e]={timestamp:(new Date).getTime(),data:i},O(i,t,r,n,e)}))},getCapabilities:function(e){var t=v[e];return t&&(new Date).getTime()<t.timestamp+1e3*((0,i.u8)("cacheExpire")||60)?new Promise((function(e){e(t.data)})):o().get(y(e)).then((function(t){var r;return f().parseString(t.data,{explicitArray:!1},(function(e,t){r=t})),v[e]={timestamp:(new Date).getTime(),data:r},r}))},textSearch:function(e,t,r,n){return A.getRecords(e,t,r,n)},reset:function(){Object.keys(v).forEach((function(e){delete v[e]}))}};const g=A},932354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(227361),o=r.n(n),i=r(737275),u=function(e,t,r,n){var u=o()(i.ZP.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!n||e.title.indexOf(n)>-1})),a=u.filter((function(e,n){return n>=t-1&&n<r+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:u.length,numberOfRecordsReturned:a.length,records:a,service:{Name:"Background Provider"}})}))};const a={getRecords:u,reset:function(){},textSearch:function(e,t,r,n){return u(0,t,r,n)}}},31935:(e,t,r)=>{"use strict";r.d(t,{YL:()=>a,B0:()=>c,Mz:()=>l,TC:()=>s,qS:()=>f,Pe:()=>p,TP:()=>d});var n=r(22222),o=r(206273),i=r(93152),u=r(624262),a=function(e){return e.backgroundSelector&&e.backgroundSelector.source},c=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},l=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},s=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},f=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},p=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},d=(0,n.P1)(o.l2,i.$v,i.lh,(function(e,t,r){var n=e.filter((function(e){return e&&"background"===e.group}));return r&&r[t]?n.map((function(e){return(0,u.kf)(e,t)}))||[]:n}))},577215:(e,t,r)=>{"use strict";r.d(t,{oL:()=>E,F0:()=>v,cP:()=>y,Br:()=>O});var n=r(944908),o=r.n(n),i=r(513218),u=r.n(i),a=r(984596),c=r.n(a),l=r(396606);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=["image/png","image/gif","image/jpeg","image/png8","image/png; mode=8bit","image/png; mode=24bit","image/vnd.jpeg-png","image/vnd.jpeg-png8"],E=function(){return o()(Object.values((0,l.eq)()))},v=function(e){return m.includes(e)},y=function(e){return E().includes(e)},O=function(e){var t,r,n,o,i;return u()(e)?{capabilities:e,description:e.Abstract,boundingBox:null!=e&&e.EX_GeographicBoundingBox?{minx:null===(t=e.EX_GeographicBoundingBox)||void 0===t?void 0:t.westBoundLongitude,miny:null===(r=e.EX_GeographicBoundingBox)||void 0===r?void 0:r.southBoundLatitude,maxx:null===(n=e.EX_GeographicBoundingBox)||void 0===n?void 0:n.eastBoundLongitude,maxy:null===(o=e.EX_GeographicBoundingBox)||void 0===o?void 0:o.northBoundLatitude}:null==e||null===(i=e.LatLonBoundingBox)||void 0===i?void 0:i.$,availableStyles:(null==e?void 0:e.Style)&&c()(e.Style).map((function(e){return p(p(p({name:e.Name},e.Title&&{title:e.Title}),e.Abstract&&{_abstract:e.Abstract}),e.LegendURL&&{legendURL:c()(e.LegendURL).map((function(e){var t,r,n,o,i,u;return p({width:null!=e&&null!==(t=e.$)&&void 0!==t&&t.width?parseFloat(e.$.width):void 0,height:null!=e&&null!==(r=e.$)&&void 0!==r&&r.height?parseFloat(e.$.height):void 0,format:null==e?void 0:e.Format},(null==e||null===(n=e.OnlineResource)||void 0===n||null===(o=n.$)||void 0===o?void 0:o["xlink:type"])&&(null==e||null===(i=e.OnlineResource)||void 0===i||null===(u=i.$)||void 0===u?void 0:u["xlink:href"])&&{onlineResource:{type:e.OnlineResource.$["xlink:type"],href:e.OnlineResource.$["xlink:href"]}})}))})}))}:{}}}}]);